<p>The code executes too late, try this instead:</p>

<pre><code>for (var i = 0; i &lt; map_object.length; i++) {
    prepareSetEvent(i)
};

function prepareSetEvent(i) {
    map_object[i].on('mousedown', function(){
        var x = i;
            setEvent(this, x);
        });
}

function setEvent(data, i){
    console.log(data);
    var x = i;
    console.log(x);
}
</code></pre>

<p>The value of <code>i</code> will be copied (as a primitive) when calling the other function. The copy will be used to set the event.</p>
