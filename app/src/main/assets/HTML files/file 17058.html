<p>Got it!
Just in case someone finds it helpful...</p>

<p>The first problem was that I was not following exactly the same pattern described in the snippet above. When I tried following the pattern, I was getting the following error:</p>

<pre><code>TypeError: wrapped() takes exactly 1 argument (2 given)
</code></pre>

<p>I tried changing the pattern thinking that, as render_json does not take any arguments (in contrast to render_html which takes the template), and wrote the render_json function described above (and the problem described in the original post).
After trying a few things, it occurred to me that I might not have treated the number-of-arguments error correctly, so I went back to writing render_json using the original pattern. I got the following function:</p>

<pre><code>def render_json(**defaults):
    def wrapped(result):
        variables = defaults.copy()
        variables.update(result)
        json_string = json.dumps(result, cls=GaeEncoder)
        return app.response_class(response=json_string, mimetype='application/json')                       
    return wrapped
</code></pre>

<p>Back to the number-of-arguments error, I tried solving it on a different way. Somehow, it occurred to me that the problem might be in the usage of the render_json function. The decorator usage for the render_html looked like this:</p>

<pre><code>@view(school_blueprint, '/', render_html('school/index.html'))
</code></pre>

<p>and the usage of the render_json looked like this:</p>

<pre><code>@view(school_blueprint, '/api/list', render_json)
</code></pre>

<p>Being new at Python, it occurred to me that I was not actually invoking the render_json function but only naming it. Adding () solved the problem. The new usage looks like this:</p>

<pre><code>@view(school_blueprint, '/api/list', render_json())
</code></pre>

<p>Anyway, as I'm new in Python I don't know the technical explanation, but seems to me to be the name vs invoke problem..</p>

<p>Thanks for you help.</p>

<p>Marcos</p>
