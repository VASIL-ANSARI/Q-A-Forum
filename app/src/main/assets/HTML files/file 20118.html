<p>The script looks fine so it's probably the sites you're crawling
Try adding </p>

<pre><code>curl_setopt($curl, CURLOPT_CONNECTTIMEOUT ,5); //timeout in seconds.
curl_setopt($curl, CURLOPT_TIMEOUT, 30); //timeout in seconds.
</code></pre>

<p>You could also try to make your scraper look more like a real browser. Personally I use my own headers which I can find using fiddler2, then recreate them in curl.</p>
