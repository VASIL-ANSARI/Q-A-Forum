<p>I'm not a C programmer to know about the source code behind the PHP interpreter/Zend Engine. Yet I followed the Zend_Locale::_prepareLocale() method and in the debugging data you specified, I'm thinking a call to strlen() is causing the overflow. I'm thinking that:</p>

<p>the strlen() call in C is translated from a string related PHP function call. In the mentioned Zend_Locale method I'm seeing these PHP functions that might be related: explode(), strstr(), strlen().</p>

<p>By inspecting the Zend_Local::_prepareLocale() you could find that the data being passed to string functions is the <strong>$local</strong> variable. Since this locale is being constructed from different resources (Environment variables, User browser specified data, etc), this value could be causing the memory failure. If you could find out what is the state of the PHP program that caused it, debugging might be easier. May be editing the source code of Zend_Locale and print out the <strong>$locale</strong> variable on some lines to have a line-by-line debug.</p>
