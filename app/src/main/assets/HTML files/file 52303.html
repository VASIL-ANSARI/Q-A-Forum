<pre><code>std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, A val)
{
   return os &lt;&lt; val; // Calls the function again.
                     // Results in infinite recursion.
}
</code></pre>

<p>Try</p>

<pre><code>std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, A val)
{
   return os &lt;&lt; static_cast&lt;int&gt;(val);

}
</code></pre>
