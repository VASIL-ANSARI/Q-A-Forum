<p>You used <code>$row</code> for both student and teacher.
use this way :</p>

<pre><code>foreach ($students_show as $student)
</code></pre>

<p>and </p>

<pre><code>foreach($teachers_show as $teacher) 
</code></pre>

<p>and compare should be like this</p>

<pre><code>&lt;?php echo $teacher-&gt;username == $student-&gt;teahcer_name? 'selected="selected"' : '' ?&gt;&gt;&lt;?php echo $teacher-&gt;username ; ?&gt;&lt;/option&gt;
</code></pre>
