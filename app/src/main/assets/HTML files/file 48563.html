<p>Using a custom env variable instead of <code>PROVISIONING_PROFILE</code> fixes the issue. This technique is described in <a href="https://github.com/KrauseFx/fastlane/blob/master/docs/CodeSigning.md" rel="nofollow">the fastlane docs about code signing</a>.</p>

<p>These are the steps that work with Xcode 6:</p>

<h3>Add a custom variable to your Xcode project</h3>

<p>In your Xcode pbxproj file, set the value of PROVISIONING_PROFILE to another variable like <code>$(APP_PROVISIONING_PROFILE)</code>. You can choose any unique, custom variable you'd like. Your Code Signing section of the project should look like this:</p>

<p><a href="http://i.stack.imgur.com/YHu20.png" rel="nofollow"><img src="http://i.stack.imgur.com/YHu20.png" alt="Code Signing"></a></p>

<h3>Define the custom variable in your Fastfile</h3>

<p>In your Fastfile, define the custom variable and pass it into the <code>ipa</code> action with the other xcargs. In the question's sample code, this looks like:</p>

<pre class="lang-ruby prettyprint-override"><code>xcodebuild_args = {
  # Define the custom variable instead of PROVISIONING_PROFILE
  APP_PROVISIONING_PROFILE: Actions.lane_context[Actions::SharedValues::SIGH_UDID],
  PRODUCT_BUNDLE_IDENTIFIER: "com.example.MyApp",
}
</code></pre>

<p>And that's all for fixing this specific error.</p>
