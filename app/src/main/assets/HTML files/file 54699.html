<p>Ok I fixed it!
Dont ask me why but it works?!</p>

<pre><code>&lt;% Collection&lt;Product&gt; items = basket.getItems();
HashMap&lt;String,Integer&gt; itemMap = new HashMap&lt;String,Integer&gt;();
ArrayList&lt;String&gt; dumbArray = new ArrayList&lt;String&gt;();

for(Product p : items){
    dumbArray.add(p.toString());
}

for(String p : dumbArray){
    if(!itemMap.containsKey(p)){
        itemMap.put(p,1);}
    else{itemMap.put(p, itemMap.get(p) + 1);}
    out.println("&lt;p&gt;"+itemMap+"&lt;/p&gt;");
}%&gt;
</code></pre>

<p>Arrays ftw?</p>
