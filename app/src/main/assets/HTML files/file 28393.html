<p>Use below code and try:</p>

<pre><code>private MediaRecorder mMediaRecorder = null;
private void startSpyRecording() {

        mMediaRecorder = new MediaRecorder();
        mMediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);
        mMediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);
        mMediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.DEFAULT);
        mMediaRecorder.setOutputFile("/sdcard/filenamevideo.mp4");

        try {
            mMediaRecorder.prepare();
        } catch (IllegalStateException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
        mMediaRecorder.start();
        status = true;

    }

    public void stopMediaRecorder() {

        mMediaRecorder.stop();
        mMediaRecorder.reset();
        mMediaRecorder.release();
    }

Put below permissions in your manifest.

&lt;uses-permission android:name="android.permission.RECORD_AUDIO" &gt;
    &lt;/uses-permission&gt;
    &lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" &gt;
    &lt;/uses-permission&gt;
</code></pre>
