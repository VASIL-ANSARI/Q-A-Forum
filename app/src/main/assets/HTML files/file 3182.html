<p>You aren't allowed to have forms nested inside each other in valid HTML.  Also, file uploads through XMLHTTPRequest objects (the most common AJAX technique) don't work in most browsers.</p>

<p>All is not lost, though.  For the AJAX uploads, you will need to use an IFRAME, as presented here: <a href="http://www.webtoolkit.info/ajax-file-upload.html">http://www.webtoolkit.info/ajax-file-upload.html</a></p>

<p>The approach I would suggest for the form is to split it into three <code>form</code> elements.  You will have a form that holds the fields before the upload form, the upload form, and the form that holds the fields after the upload form.  The first form will not have any submit button.  The fields in the first form are duplicated in the third form, as hidden inputs.  When the last form's submit button is clicked, some javascript will run that will copy the field data from the first form into the third, so it gets submitted with the last form.</p>

<p>For example, your HTML might look like this::</p>

<pre><code>&lt;form name="details1"&gt;
    &lt;input id="fake_detail1" name="detail1" type="text"/&gt;
    &lt;input id="fake_detail2" name="detail2" type="text"/&gt;
&lt;/form&gt;
&lt;form name="pictureupload"&gt;
   &lt;input type="file" name="pic"&gt;
   &lt;input type="submit" name="upload" value="Upload"&gt;
&lt;/form&gt;
&lt;form name="details2"&gt;
    &lt;input id="detail1" name="detail1" type="hidden"/&gt;
    &lt;input id="detail2" name="detail2" type="hidden"/&gt;
    &lt;input id="detail3" name="detail3" type="text"/&gt;
    &lt;input type="submit"&gt;
&lt;/form&gt;
</code></pre>
