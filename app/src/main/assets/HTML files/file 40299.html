<p><strong>The issue is that if someone can alter the file before it gets read in, they can inject any JavaScript code into it.</strong> One way to alter the file would be to hack your server, but they could also do it by taking over proxies that don't have to touch your machine at all. They they would have to somehow trick clients into going through the proxy, but you can't stop that from happening.</p>

<p><strong>The easiest fix for this is to use a JSON file instead of a JavaScript file.</strong> JSON's syntax is very close to the syntax used for JS literals: as far as I can see from your example, the only changes you'd need to make to the file are to get rid of the "var videos =" at the start and swap your single-quotes for double-quotes. In code, exchange whatever works to this effect:</p>

<pre><code>// Assume that getJS() grabs your JavaScript file
// and returns a String with the text of that file.
var videoCode = getJS();
eval(videoCode);
</code></pre>

<p>...for something that works like this:</p>

<pre><code>// Assume that getJSONData() grabs your JSON
// and returns a String with the text of the file.
jsonData = getJSONData();
var videos = JSON.parse(jsonData);
</code></pre>

<p><strong>Note that we're using <code>JSON.parse</code> (which has polyfills for old browsers) instead of <code>eval</code></strong>. We do this because that puts the code through a dedicated JSON parser instead of a JavaScript one. JSON doesn't know how to deal with code, so even if an attacker tries to inject code by changing the file, the changed code won't work, because JSON won't know what to do with it. Obviously you don't want your app to just stop in the middle, but it's better than letting the attacker take over.</p>
