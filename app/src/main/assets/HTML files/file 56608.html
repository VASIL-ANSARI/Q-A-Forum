<h2>The Issue:</h2>

<p>The no data being returned was an issue of me running other test code before querying that was altering the data. After fixing the data and code, both options worked. The first query snippet however does not search by sort key, but only by the hash key column, <code>itemOwner</code> in this case and was returning all values. </p>

<h2>Correct query code:</h2>

<pre><code>Item itemKey = new ItemName();
itemKey.setItemOwner("owner1");
List&lt;AttributeValue&gt; valueList = new LinkedList&lt;&gt;();
AttributeValue nameVal = new AttributeValue();
nameVal.setS("item1");
valueList.add(nameVal);
Condition con = new condition();
con.setComparisonOperator(ComparisonOperator.EQ);
con.setAttributeValueList(valueList);
DynamoDBQueryExpression&lt;T&gt; expr = DynamoDBQueryExpression&lt;T&gt;().withIndexName("owner_index").withHashKeyValues(itemKey).withRangeKeyCondtion("itemName", condition).withConsistentRead(false);
return mapper.query(ItemKey.class, expr);
</code></pre>

<h2>Correct Annotation:</h2>

<pre><code>@DynamoDBAttribute
@DynameDBIndexHashKey(globalSecondaryIndexName = "name_index")
@DynameDBIndexRangeKey(globalSecondaryIndexName = "owner_index")
private String itemName;


@DynamoDBAttribute
@DynameDBIndexHashKey(globalSecondaryIndexName = "owner_index")
private String itemOwner
</code></pre>
