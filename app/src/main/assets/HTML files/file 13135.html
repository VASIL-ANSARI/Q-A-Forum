<p>In your <code>checkUser()</code> function you're using <code>$msg</code> and <code>$username</code>, which aren't defined. You either left those out or you are very new to programming.</p>

<p>In PHP, variables usually have only a single "scope". This means that a variable <code>$msg</code> isn't accessible in a function, unless you define it there.</p>

<p>In javascript, this is valid :</p>

<pre><code>var msg = "";
function appendToMsg(text) {
    msg += text;
}
appendToMsg("test");
</code></pre>

<p>In PHP, this is not:</p>

<pre><code>$msg = "";
function appendToMsg($text) {
    $msg += $text;
}
appendToMsg("test");
</code></pre>

<p>This will throw a notice <em>PHP Notice:  Undefined variable: msg</em>. The function <code>appendToMsg</code> will only know <code>$text</code>, not <code>$msg</code>.</p>

<p>The correct PHP representation of the little JavaScript code is:</p>

<pre><code>$msg = "";
function appendToMsg(&amp;$msg, $text) {
    $msg += $text;
}
appendToMsg($msg, "test");
</code></pre>

<p>More on variable scopes:</p>

<ul>
<li><a href="http://php.net/manual/en/language.variables.scope.php" rel="nofollow">PHP: Variable scope (PHP.net)</a></li>
<li><a href="http://en.wikipedia.org/wiki/Scope_%28computer_science%29" rel="nofollow">Scope (computer science) (wikipedia.org)</a></li>
</ul>
