<p>Some more context to the problem would be useful, how have you ended up here? What's the purpose of ConstClass and why does it have to be const?</p>

<p>Assuming there's good reasons you can't fix this without hacking, you could do this:</p>

<pre><code>int main() {

   std::deque&lt;std::shared_ptr&lt;ConstClass&gt;&gt; objects;
   objects.push_back(std::make_shared&lt;ConstClass&gt;(1));
   objects.push_back(std::make_shared&lt;ConstClass&gt;(2));
   objects.push_back(std::make_shared&lt;ConstClass&gt;(3));

   objects[2] = std::make_shared&lt;ConstClass&gt;(100);
}
</code></pre>

<p>But there's surely a better way...</p>

<p>(you may want to use unique_ptr rather than shared, I'm not sure what your requirements are. If you're using an older platform, the boost shared_ptr would also work)</p>
