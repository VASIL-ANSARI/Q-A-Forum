<p>You need to have a calendar table which helps in processing this kind of queries very fast and with minimal effort.</p>

<p>Here is one way  which i used to generate <a href="http://www.sqlservercentral.com/blogs/dwainsql/2014/03/30/calendar-tables-in-t-sql/" rel="nofollow">calendar</a> table..and it looks like below in my environment...  </p>

<p><a href="http://i.stack.imgur.com/rlvsw.png" rel="nofollow"><img src="http://i.stack.imgur.com/rlvsw.png" alt="enter image description here"></a>    </p>

<p>Once you have calendar table,all you have to do is join date which you want to count which is as simple as below</p>

<pre><code>select 
equipment,
count(*) as 'Jancount',
sum(case when wkno =1 then 1 else 0 end) 'Week 1',
sum(case when wkno =2 then 1 else 0 end) 'Week 2',
sum(case when wkno =3 then 1 else 0 end) 'Week 3',
sum(case when wkno =4 then 1 else 0 end) 'Week 4'
from
calendar c
join testtable p
on p.hiretodate=c.date
group by equipment
</code></pre>

<p><strong>Output:</strong><br>
<a href="http://i.stack.imgur.com/VSTxv.png" rel="nofollow"><img src="http://i.stack.imgur.com/VSTxv.png" alt="enter image description here"></a></p>
