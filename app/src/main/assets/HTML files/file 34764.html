<p>Actually, you're not running anything in the <code>doInBackground()</code> method, and this is the only one method that is <em>not</em> called on the main <code>UI</code> <code>Thread</code>. That means that you have to call your network method inside <code>doInBackground()</code>, otherwise you'll get that <code>NetworkOnMainException</code>.</p>

<p><strong>---- EDIT ----</strong></p>

<p>To pass some parameters to the <code>AsyncTask</code>, do the following:</p>

<ol>
<li><p>Replace <code>AsyncTask&lt;String, Void,  String&gt;</code> with <code>AsyncTask&lt;JSONObject, Void, String&gt;</code>. This way, you're saying that the parameter you'll get in <code>doInBackground()</code> is a <code>JSONObject</code>.</p></li>
<li><p>Now your <code>doInBackground()</code> method would have this parameter: <code>doInBackground(JSONObject... params)</code></p></li>
<li><p>Get the parameter you're passing to the method this way:</p>

<pre><code>@Override
protected String doInBackground(JSONObject... params) {
  JSONObject myJsonObject = params[0];
  sendHTTPData(url, myJsonObject);
}
</code></pre></li>
<li><p>Now just call your <code>AsyncTask</code> this way:</p>

<pre><code>SendHttpDataAsync at = new SendHttpDataAsync();
at.execute(myJsonObject);
</code></pre></li>
</ol>
