<p>Your subject line is confusing. You fixed that problem and then exposed a different bug.</p>

<pre><code>IOError: [Errno 2] No such file or directory: ''
</code></pre>

<p>The message shows that you are trying to open a file with no name and that means that the input file you are reading has at least one blank line. If its okay for that file to have blank lines, just skip those like:</p>

<pre><code>def read_images(filename, sz=None):
    c = 0
    X,y = [], []
    with open(filename) as f:
        for line in f:
            line = line.rstrip()
            if line:
                im = Image.open(open(line,'rb')) 
                im = im.convert("L"
                # resize to given size (if given)
                if (sz is None):
                    im = im.resize((92,112), Image.ANTIALIAS)
                X.append(np.asarray(im, dtype=np.uint8))
                y.append(c)
                c = c+1
</code></pre>

<p>Otherwise, you have a legitimate error and you should catch and handle the exception.</p>
