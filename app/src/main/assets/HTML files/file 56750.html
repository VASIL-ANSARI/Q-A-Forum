<p><code>let</code> and <code>var</code> are not the same.</p>

<p><code>let</code> defines a variable in a block scope, such as your for loop.
<code>var</code> defines a variable in the global or function scope.</p>

<p>So when you get the code:</p>

<pre><code>function doBar(bar) {
  for (let bar = 0; bar &lt; 10; bar++) {
    let bar = true;
  }
}
</code></pre>

<p>the outside "bar" is defined for the function <code>doBar</code> while the inner "bar" is defined for the <code>for(){}</code> block scope.</p>

<p>There is no "redeclaring". When bable converts this, you get the expected behavior, the outside "bar" is within function, when you exit the for loop it remains at the max value, the inside <code>_bar</code> is an entirely different variable. </p>

<p>Since they are both converted to <code>var</code> instead of <code>let</code> and are hoisted. </p>

<p><strong>Comment related example:</strong><br>
If you were to have this type of code:  </p>

<pre><code>function doBar(bar) {
  for (let bar = 0; bar &lt; 10; bar++) {
    let bar = true;
  }
}
</code></pre>

<p>To begin with this is semantically wrong. This contains a re-declaration. Both of these <code>bar</code> variables are declared within the scope of the for's block. However you will get no error thrown, and this is the case without babel as well. Since the re-declaration of the variable bar occurs within the for's scope block, the for's "parameter" bar is overridden and inaccessible to the block itself, however it seems that the loop still runs normally, the correct number of times.  </p>

<p>Because of this "silent error" and re-declared variable <code>let bar</code> within the block, babel doesn't see these two variables as the same, they are different to it. The <strong>reason for the error</strong> lies in the fact that by re-declaring a variable within the block, you effectively make the block's own variable in-accessible to anything, either the block or outside of it. </p>

<p>Now look at it from babel's perspective, the loop should run, the loop's parameter is not accessible anywhere inside or outside of the for's parenthesis, thus this is an isolated "scope" for the <code>bar</code> within the for.</p>

<p>Unlike <code>let</code>, <code>var</code> can be re-declared without raising an error, however this silent re-declaration doesn't raise an error in both cases, where one should have been risen and that is what causes the issue.</p>

<p>The solution is to write a proper code, but you are 100% right, this is not the correct behavior, however, neither is that of the regular javascript interpreter of the non-bable code as it should throw an error, and you cannot expect/blame babel for interpreting wrong code the wrong way.</p>
