<p><code>fopen</code> opens a File in the mode you specified, first read/write/both, then Append, then a binary identifier. </p>

<p>r/w should be clear to you, append is also quite obvious. The Trick &amp; Trouble in your case is the binary-mode. </p>

<p>If a file is threated as a Text-File (without the "b") then, depending on the environment where the application runs, some special character conversion may occur in input/output operations in text mode to adapt them to a system-specific text file format. On Windows this would be \r\n, on a linux machine you have \n and on some architectures exist, where it is \r. </p>

<p>In your case, the input file is read as a text file. This means, all your line-endings get converted when reading the file from the HTTP-Data. </p>

<p>Opening the File as a binary file (wich indeed it is!) avoids trouble that your file is not binary identically anymore. </p>
