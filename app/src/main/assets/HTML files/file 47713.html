<p>As said in the comments, the real question here is: How to return different types from the same function in C++?</p>

<p>We can use <a href="http://www.boost.org/doc/libs/release/doc/html/variant.html" rel="nofollow">boost.variant</a> for that. Here is a small example that demonstrates the basic feature we need:</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;boost/variant.hpp&gt;

boost::variant&lt;int, std::string&gt; fun (bool i) {
    if (i)
        return "Hello boost!\n";
    return 4711;
}

int main()
{
    std::cout &lt;&lt; fun(true) &lt;&lt; fun(false) &lt;&lt; std::endl;
}
</code></pre>

<p>The output will be</p>

<pre><code>Hello boost!
4711
</code></pre>

<p>A more detailed introduction to the features of boost.variant can be found in their <a href="http://www.boost.org/doc/libs/release/doc/html/variant/tutorial.html" rel="nofollow">tutorial</a>.</p>

<p>If the possible return types are not known at compile time or their number is big, we can also use <a href="http://www.boost.org/doc/libs/release/doc/html/any.html" rel="nofollow">boost.any</a>. This is more flexible, but a little bit less straight forward:</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;boost/any.hpp&gt;

using namespace std::literals::string_literals;

boost::any fun (bool i) {
    if (i)
        return "Hello boost!\n"s;
    return 4711;
}

int main()
{
    std::cout &lt;&lt; boost::any_cast&lt;std::string&gt;(fun(true)) 
              &lt;&lt; boost::any_cast&lt;int&gt;(fun(false)) &lt;&lt; std::endl;
}
</code></pre>

<p>If possible, boost.variant is most likely the better tool for your problem.</p>
