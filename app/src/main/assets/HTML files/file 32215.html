<p>I don't realy know if I'm giving you an ideea or I'm talking gibberish, in terms of concept, not code, maybe you can just give the medals a few seconds later, after all transactions are processed. I've seen many scripts and games using this concept. The reward is not given in real time. After the user finished uploading photos - it doesn't matter how the upload is handled - then he gets a message that he has a new medal. He can be notified when he browses to another page or so. </p>
