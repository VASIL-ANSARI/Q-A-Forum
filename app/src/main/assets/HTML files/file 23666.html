<p>You have two problems here:</p>

<ul>
<li><p>Firstly, in IE8 and earlier:</p>

<p>IE8 is using the <code>filter</code> style to do rotation using ActiveX. This is a complex beast, but the main problem with it is that its default rotation point is the top-left corner of the element, rather than the center. This explains why the element is rotated into a different position than the standard CSS.</p>

<p>It is possible to change it to use the center as the rotation point, but you need to use a much more complex syntax in the <code>filter</code> style, using the <a href="http://msdn.microsoft.com/en-us/library/ms533014%28VS.85%29.aspx" rel="nofollow"><code>matrix</code> filter</a>. The maths required for even basic rotations with this is somewhat intimidating, since it's all in radians, and it's a complex matrix transformation, but it can be worked out, and there are examples on the web if you know where to look, including <a href="http://stackoverflow.com/questions/11900870/rotating-a-text-to-270-degrees-in-ie8">existing questions here on SO</a>. Fortunately, the radian figures for a 270 degree rotation are actually relatively readable, but that's not always the case. For most cases, I would recommend using the CSS Sandpaper library (see below) rather than manually working out the <code>filter</code> matrix.</p></li>
<li><p>Secondly IE9:</p>

<p>IE9 has a double problem. The issue here is that in IE9 they added support for the standard CSS <code>transform</code> style, but they <em>also</em> kept support for the old <code>filter</code> style.</p>

<p>This means that in IE9 your code is actually hitting both of them and is being rotated twice using different technologies. This leads to IE getting completely confused, hence the black boxes being rendered.</p>

<p>The quick solution here is to set one or other of the styles so that it is not seen by IE9. This could be using an IE-version-specific stylesheet or a CSS hack, or whatever.</p></li>
</ul>

<p>So that explains what's happening and gives you some clues as to how to fix it.</p>

<p>But there is one other solution that you might want to use. There is a JS library called <a href="http://www.useragentman.com/blog/csssandpaper-a-css3-javascript-library/" rel="nofollow">CSS Sandpaper</a> which acts as a polyfill for the <code>transform</code> style; ie it adds support for the standard CSS transform to older IE versions.</p>

<p>So my advice for the best solution is to download the CSS Sandpaper library, include it in your site, and change the <code>filter</code> styles into <code>-sand-transform:rotate(270deg);</code></p>

<p>Hope that helps.</p>
