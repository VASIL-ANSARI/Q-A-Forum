<p>Change the having clause to:</p>

<pre><code>Having count(t2.rowx) &lt; t3.maximum_size or t3.maximum_size is null
</code></pre>

<p>In retrospect, a better SQL answer is:</p>

<pre><code>Having count(t2.rowx) &lt; max(t3.maximum_size) or max(t3.maximum_size) is null
</code></pre>

<p>The original syntax works in mysql but not in most databases.  Also, I consider it to be bad SQL.  The use of "t3.maximum_size" is really equivalent to "any value for t3.Maximum_Size" when referred to in an aggregation context. It is much better to be explicit.</p>
