<p>This should work:</p>

<pre><code>S32 dVsprintf(char *buffer, int bufferSize, const char *format, ...)
{
    va_list va_args;
    va_start( va_args, format );
    S32 result = vsnprintf(buffer, bufferSize, format, va_args); 
    va_end( va_args );
    return result;
}
</code></pre>

<p><code>__va_list_tag*</code> is the hidden implementation type of <code>...</code>, that's why it didn't like the <code>char*</code> typecast -- suddenly the pointer wasn't 32 bit anymore...</p>

<p>Considering this is C++, have you considered a more C++ approach than va_args? Several ideas come to mind:</p>

<ul>
<li>use <a href="http://www.cplusplus.com/reference/iostream/" rel="nofollow">streams</a> and <code>&lt;&lt;</code> operator to do formating</li>
<li>use a vector of <a href="http://www.boost.org/doc/html/variant.html" rel="nofollow">boost::variant</a> or <a href="http://www.boost.org/doc/html/any.html" rel="nofollow">boost::any</a></li>
<li>use a recursive <a href="http://www.boost.org/doc/libs/1_37_0/libs/tuple/doc/tuple_users_guide.html" rel="nofollow">tuple</a> printer</li>
<li>use <a href="http://www.boost.org/doc/libs/release/libs/format" rel="nofollow">boost::format</a></li>
</ul>
