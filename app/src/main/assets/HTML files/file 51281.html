<p><code>document.getElementById('form').submit();</code> doesn't fire the <code>frm.submit</code> handler. Use $('#form').submit() instead, because the jQuery version of submit() calls any onsubmit handlers, whereas vanilla Javascript submit() bypasses them.</p>

<p><strong>Edit</strong></p>

<p>Another thing - your script that adds the submit handler function is being executed immediately - before the form has been rendered. So it's probably failing. Also you seem to have a wayward <code>&lt;script&gt;</code> tag in there. Try this:</p>

<pre><code>&lt;script type="text/javascript"&gt;
    $(document).ready(function() {
        var frm = $('#form');
        frm.submit(function (ev) {
            $.ajax({
                type: frm.attr('method'),
                url: frm.attr('action'),
                data: frm.serialize(),
                success: function (data) {
                    alert('ok');
                }
            });
            ev.preventDefault();
        });
    });

    function submitForm2() {
        $('#form').submit();
    }
&lt;/script&gt;
</code></pre>
