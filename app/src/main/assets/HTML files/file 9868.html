<p>Can't you prevent the last</p>

<pre><code>$this-&gt;_buffer .= '&lt;li&gt;&lt;span&gt;&lt;a&gt; ' . $spacer_start . ' &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;';
</code></pre>

<p>?</p>

<p>Otherwise remove it with</p>

<pre><code>$this-&gt;_buffer = substr($this-&gt;_buffer, 0, -$length_of_last_part)
</code></pre>

<p>or with</p>

<pre><code>$this-&gt;_buffer = preg_replace('#&lt;li&gt;&lt;span&gt;&lt;a&gt;  \| &lt;/a&gt;&lt;/span&gt;&lt;/li&gt;$#', '', $this-&gt;_buffer);
</code></pre>
