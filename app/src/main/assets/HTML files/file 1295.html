<p>Following is a template code that displays a ProgressDialog while a task is executing in background:</p>

<pre><code>class GetTask extends AsyncTask&lt;Object, Void, String&gt;
    {
        Context mContext;
            ProgressDialog mDialog = null;

            GetPhotoFeedTask(Context context)
    {
        mContext = context;
    }

        @Override
        protected void onPreExecute()
        {
            super.onPreExecute();

             mDialog = new ProgressDialog(mContext);
             mDialog.setMessage("Please wait...");
             mDialog.show();
        }
                @Override
        protected String doInBackground(Object... params)
        {
                  // do stuff in background : fetch response
                }

                @Override
        protected void onPostExecute(String result)
        {
            super.onPostExecute(result);
            setProgressBarIndeterminateVisibility(false);
            // mDialog.dismiss();
                }
}
</code></pre>

<p>and you invoke it from your activity using <code>new GetTask(this).execute()</code> statement;</p>

<p><strong>Note:</strong>  Note that while displaying a <code>ProgressDialog</code> if the user switches the Orientation or causes event that ensues one, the code might break. It is advised to use Managed Dialogs for such cases.</p>
