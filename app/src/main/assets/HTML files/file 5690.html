<p>Your file descriptor sets are not properly initialized, so they still contain garbage when you call <code>FD_SET()</code> on them.</p>

<p>You should call <a href="http://www.mkssoftware.com/docs/man3/select.3.asp" rel="nofollow"><code>FD_ZERO()</code></a> to initialize them before you start using them:</p>

<pre><code>FD_ZERO(&amp;master);
FD_SET(serv_sock, &amp;master);
fdmax = serv_sock;
</code></pre>
