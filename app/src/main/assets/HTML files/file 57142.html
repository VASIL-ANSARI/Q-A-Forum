<p>You can try:</p>

<pre><code>SELECT co.id,
json_build_object(
  'lastname', co.lastname,
  'firstname', co.firstname) AS contact,
array_agg(c.name) AS companies
FROM companie AS c
INNER JOIN companie_contact AS vs
ON c.id = vs.id_cm
INNER JOIN contact AS co
ON co.id = vs.id_c
GROUP BY co.id, co.firstname, co.lastname,c.name ;
</code></pre>
