<p>You can try</p>

<pre><code>  @order.bookings.find_or_initialize_by(product_id: params[:product_id]).tap do |b|
        # your business logic here
  end
</code></pre>
