<p>I am assuming you are looking to find a boolean array to detect the presence of the <code>set</code> elements in <code>data</code> array. To do so, you can extract the elements from <code>set</code> with <a href="http://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.hstack.html" rel="nofollow"><code>np.hstack</code></a> and then use <a href="http://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.in1d.html" rel="nofollow"><code>np.in1d</code></a> to detect presence of <strong>any</strong> element from <code>set</code> at <strong>each</strong> position in <code>data</code>, giving us a boolean array of the same size as <code>data</code>. Since, <code>np.in1d</code> flattens the input before processing, so as a final step, we need to reshape the output from <code>np.in1d</code> back to its original <code>2D</code> shape. Thus, the final implementation would be -</p>

<pre><code>np.in1d(data,np.hstack(test)).reshape(data.shape)
</code></pre>

<p>Sample run -</p>

<pre><code>In [125]: data
Out[125]: 
array([[7, 0, 1, 8, 9, 5, 9, 1],
       [9, 7, 1, 4, 4, 2, 4, 4],
       [0, 4, 9, 6, 6, 3, 5, 9],
       [2, 2, 7, 7, 6, 7, 7, 2],
       [3, 4, 8, 4, 2, 1, 9, 8],
       [9, 0, 8, 1, 6, 1, 3, 5]])

In [126]: test
Out[126]: {3, 4, 6, 7, 9}

In [127]: np.in1d(data,np.hstack(test)).reshape(data.shape)
Out[127]: 
array([[ True, False, False, False,  True, False,  True, False],
       [ True,  True, False,  True,  True, False,  True,  True],
       [False,  True,  True,  True,  True,  True, False,  True],
       [False, False,  True,  True,  True,  True,  True, False],
       [ True,  True, False,  True, False, False,  True, False],
       [ True, False, False, False,  True, False,  True, False]], dtype=bool)
</code></pre>
