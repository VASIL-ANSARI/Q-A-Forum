<blockquote>
  <p>I am able to update umbraco.config programmatically, but the results
  are not updated in the backend, so that when I publish the companies
  node again, the changes are deleted. How can I update the
  umbraco.config and publish the node ?</p>
</blockquote>

<p>You are going about it the wrong way. The <code>umbraco.config</code> file is a <em>read-only</em> XML representation of the Umbraco database that is generated by Umbraco and then cached. It isn't intended to be written to or accessed directly. Every time you publish a page in Umbraco this file is regenerated, hence the reasons your updates are not persisted.</p>

<p>You also don't want to try and write to the Umbraco database directly, either. It is very complex and requires lots of relations. Again, it isn't intended to be written to.</p>

<p>To update nodes directly what you really need to do is use the <a href="http://our.umbraco.org/wiki/reference/api-cheatsheet" rel="nofollow">Umbraco Document API</a>. This allows you direct write access to nodes which you can the programatically publish. Simple example:</p>

<pre><code>Document doc = new Document(1234);
doc.getProperty("bodyText").Value = "&lt;p&gt;Your body text&lt;/p&gt;";
doc.getProperty("articleDate").Value = DateTime.Now;
User author = User.GetUser(0); 
doc.Publish(author);
umbraco.library.UpdateDocumentCache(doc.Id);
</code></pre>

<p>I'd suggest posting on <a href="http://our.umbraco.org/forum" rel="nofollow">http://our.umbraco.org/forum</a> if you need more help.</p>
