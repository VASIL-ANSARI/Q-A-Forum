<p>The error case for the update action in that wiki article is out of date. There is no longer an <code>add_error_on</code> method in Devise. Instead, you can just use the basic ActiveRecord errors object:</p>

<pre><code>@confirmable.errors.add(:email, :password_already_set)
</code></pre>

<p>Then, you'll still have a problem, because it needs to assign <code>@confirmable</code> to <code>resource</code> in order for the default views to work correctly (the wiki example does this for all the other error renders, just not this one):</p>

<pre><code>if !@confirmable.errors.empty?
  self.resource = @confirmable
  render 'devise/confirmations/new'
end
</code></pre>
