<ol>
<li><p>don't do it that way. The maven way to do it is to have standard sources under <code>src/main/java</code> and test sources under <code>src/test/java</code>. By default, standard sources will be added to the resulting JAR, while tests in the test source dir will be executed automatically. This is well-tested behavior, why change it? <strong>If you want / need a test jar, call jar:test-jar in the pom.xml of this project and use the buildhelper plugin to <a href="http://mojo.codehaus.org/build-helper-maven-plugin/attach-artifact-mojo.html" rel="nofollow">attach the resulting artifact</a> for deploy. That way you can keep the standard project layout and still have a test jar.</strong></p></li>
<li><p>if you insist on doing it, you would have to do it the other way around. The test project would have to have a dependency to the main project (you can't test what you don't know). I would suggest to just put the test code in <code>src/test/java</code> in the test project, then maven's magic can work the default way. <strong>Insert bold text from above here, too.</strong></p></li>
</ol>

<p>But the reason why the maven lifecycle was defined as it was is that failed tests are supposed to fail the build. There is no point in building a library that doesn't do what it's supposed to do.</p>
