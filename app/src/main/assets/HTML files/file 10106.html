<p>When calling <strong><code>MergeAttributes</code></strong> with <code>replaceExisting</code> set to <code>false</code>, it just adds the attributes that do not currently exist in the the attributes dictionary. It does not merge/concat the values of individual attributes.</p>

<p>I believe moving your call to</p>

<pre><code>builder.AddCssClass("selected");
</code></pre>

<p>after</p>

<pre><code>builder.MergeAttributes(attributes, false);
</code></pre>

<p>will fix your problem.</p>
