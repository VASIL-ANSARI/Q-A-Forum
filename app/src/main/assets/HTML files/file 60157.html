<p>you can reduce the code a little but in controller like this:</p>

<pre><code>$this-&gt;data['users'] = $users; // correct data no problem here
$user_orders = array();
foreach ($users as $user){
   $user_orders[$user-&gt;user_id] = $this-&gt;myMmodel&gt;get_orders($user-&gt;user_id); //make user_id as key so that you can access easily for each user 
}

$this-&gt;data['orders'] = $user_orders;
</code></pre>

<p>Then in view, you can access orders of each user inside the foreach loop like this:</p>

<p>$orders[$user->user_id]</p>

<p>as it is also an array, you have to run loop to create order rows for each user:</p>

<pre><code>$order = array(); //empty the variable before each loop
foreach($orders[$user-&gt;user_id] as $order){
   echo '&lt;tr&gt;&lt;td&gt;'.$order-&gt;id.'&lt;/td&gt;'.....//more columns like this
}
</code></pre>

<p>Hope this would help!</p>
