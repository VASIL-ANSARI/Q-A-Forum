<p>You can use <strong><a href="https://api.jquery.com/nth-child-selector//" rel="nofollow"><code>:nth-child()</code></a></strong> to filter out elements not required,</p>

<p><strong><a href="https://jsfiddle.net/6se537er/4/" rel="nofollow">Fiddle</a></strong></p>

<pre><code>$('#main-menu ul li:not(:nth-child(1),:nth-child(4))').hover(
    ...
</code></pre>

<hr>

<p>For <code>:first,:last</code> to work, I had to modify the selector to get only direct descendents.</p>

<pre><code>$('#main-menu &gt; ul &gt; li:not(:first,:last)').hover(
</code></pre>

<p><strong><a href="https://jsfiddle.net/6se537er/6/" rel="nofollow">Fiddle</a></strong></p>

<hr>

<pre><code>$('#main-menu &gt; ul &gt; li:not(:first,:last)').hover(
  function() {
    $('ul', this).stop(true, true).delay(100).slideDown(300);
  },
  function() {
    $('ul', this).stop(true, true).slideUp(300);
  });

$('#main-menu &gt; ul &gt; li:not(:first,:last):has(.dropdown-menu)').on('click', function(event) {
  if ($(event.target).parents('ul.dropdown-menu').length &gt; 0) {
    event.stopPropagation();
  } else {
    event.preventDefault();
  }
  $(this).find('ul').slideToggle();
});
</code></pre>
