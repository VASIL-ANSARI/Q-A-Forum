<p>Your question is a bit confusing to me.</p>

<p>You want to use joined table inheritance to define the role of a user, but you also want to add a role attribute to your user that, as I understand, does exactly the same. Seems like you're trying to do the same thing twice in a different way.</p>

<p>Anyway, I will try to give you an answer.</p>

<p>If you want to use separate tables for each type (Customer, Company, etc) you should have a look at mapped superclasses:
<a href="http://docs.doctrine-project.org/en/2.0.x/reference/inheritance-mapping.html#mapped-superclasses" rel="nofollow">http://docs.doctrine-project.org/en/2.0.x/reference/inheritance-mapping.html#mapped-superclasses</a></p>

<p>That way you can define basic class attributes and relations that will be used by all the entities that extend it. All data will be saved in separate tables for each entity.</p>

<p>If you want to define the role of a user using the Role entity you should define a many-to-one relation between user and role.</p>

<p>Good luck!</p>
