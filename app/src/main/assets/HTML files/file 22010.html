<p>just use <code>INSERT...ON DUPLICATE KEY UPDATE</code></p>

<pre><code>INSERT INTO reports_adv (day, uid, siteid, cid, visits) 
VALUES ('$day', '$uid', '$sid', '$cid', 1)
ON DUPLICATE KEY UPDATE visits=visits+1;
</code></pre>

<ul>
<li><a href="http://dev.mysql.com/doc/refman/5.0/en/insert-on-duplicate.html">INSERT ... ON DUPLICATE KEY UPDATE Syntax</a></li>
</ul>

<p>but before anything else, you should define a <code>UNIQUE</code> constraint on the columns.</p>

<pre><code>ALTER TABLE reports_adv  ADD CONSTRAINT tb_uq UNIQUE (day, uid, siteid, cid)
</code></pre>
