<p><code>averagePowerForChannel</code> returns a dB value where <code>0 dB</code> represents digital full scale. If you want value between 0 and 1 then dB most certainly is not the right scale for you. </p>

<p>As your code is kind of hinting at the function for turning a digital level into dB is </p>

<pre><code>dB = 20 * log10(ffs);
</code></pre>

<p>so when ffs = 1.0, dB is 0 and when ffs == 0 then dB is -inf.</p>

<p>You just need to go the other way.</p>

<pre><code>var power = exp(10, dB/20);
</code></pre>
