<p>The problem in the code is while trying to close the opened tab, it removes the css responsible for display content till here its fine but when it exits the for loop below line again toggle the class so the opened tab is closed and again opened.</p>

<p>Defective line of code</p>

<pre><code> $(document.getElementById(parentNode)).toggleClass('pp2');
</code></pre>

<p>solution is compare the id of clicked element and the element which has to be closed</p>

<pre><code>        &lt;script type="text/javascript" &gt;
    $(document).ready(function(){
        $(document).on('click',function(e){
            if(e.target.nodeName == "H6")
            {
                var rootNode = e.target.parentElement.parentElement.getAttribute('id');
                var parentNode = e.target.parentElement.getAttribute('id');
                var childN = null;
                var comp = null;
                for(var i = 0;i&lt;document.getElementById(rootNode).childElementCount;i++)
                {
                    if($(document.getElementById(rootNode).children[i]).height()&gt;25)
                    {
                        childN = $(document.getElementById(rootNode).children[i]).attr('class');
                        comp = $(document.getElementById(rootNode).children[i]).attr('id');
                        $(document.getElementById(rootNode).children[i]).removeClass('pp2');
                        //$(document.getElementById(rootNode).children[i]).addClass('pp');
                        break;
                    }
                }
                if($(document.getElementById(parentNode)).attr('id')!=comp)
                {
                    $(document.getElementById(parentNode)).toggleClass('pp2');
                }
            }
        });
    });
&lt;/script&gt;
</code></pre>
