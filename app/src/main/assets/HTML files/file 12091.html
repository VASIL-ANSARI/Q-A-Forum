<p>It seems like what you want here is a dictionary containing various fields:</p>

<pre><code>NSMutableDictionary *topDictionary = [[NSMutableDictionary alloc] init];
[topDictionary setObject:@"Test" forKey:@"name"];
[topDictionary setObject:@"1" forKey:@"version"];
...
</code></pre>

<p>Then, you have an array of containers with a dictionary in each array item:</p>

<pre><code>NSMutableArray *containers = [[NSMutableArray alloc] init];
[topDictionary setObject:containers forKey:@"containers"];
NSMutableArray *arrayItem1 = [[NSMutableDictionary alloc] init];
[containers addObject:arrayItem1];
[arrayItem1 setObject:[NSNumber numberWithInteger:1] forKey:@"id"];
...
</code></pre>

<p>Within each of the dictionaries under containers, you have a triggers array, again where each item of that array is a dictionary:</p>

<pre><code>NSMutableArray *triggers = [[NSMutableArray alloc] init];
[arrayItem1 setObject:triggers forKey:@"triggers"];
NSMutableArray *trigger1 = [[NSMutableDictionary alloc] init];
[triggers addObject:trigger1];
[trigger1 setObject:@"someClass" forKey:@"@class"];
...
</code></pre>

<p>This just shows how to add 1 container with 1 trigger in that container, but you get the idea. Convert to the appropriate loops if you want to put more than one item in each array.</p>

<p>Once you have these dictionaries (within an array, within a dictionary, within an array, within a dictionary...) you then have an object that can be serialized to JSON cleanly.</p>
