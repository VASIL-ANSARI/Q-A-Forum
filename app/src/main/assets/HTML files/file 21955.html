<p>As the others said, mysql_* statements are depricated, use mysqli_* statements...</p>

<p>The first issue is the code in the user id insert statement was missing some quotes, it should look like this:</p>

<pre><code>            mysql_query("INSERT INTO ptb_likes (user_id,liked_id) VALUES ('".$_SESSION['user_id']."','".$user_to_id."') ");
</code></pre>

<p>The user_id_has_liked query issue could be caused by the enum variable being an integer in mysql.  you could also try saving your query to a query variable and passing the variable to your query function for readability...</p>

<pre><code>            $query = "UPDATE ptb_likes SET user_id_has_liked='1' WHERE user_id=".$_SESSION['user_id'];
            $result1 = mysql_query($query) or die(mysql_error());
</code></pre>
