<p>You will need to share a little more context to get this resolved, I think. If the code runs fine locally but not on your (presumably off-site) staging environment, then it could be a matter of not all of your code being loaded by the time execution reaches the line in question. </p>

<p>I appears that your snippet is inside an event handler; even if all your code is loaded prior to reaching this line, perhaps a timing issue exists where Prototype hasn't yet extended the <code>this.element</code> object with the <code>down()</code> function? </p>

<p>Most likely the greater latency between your staging environment is causing some network-bound function to execute after another, in a way opposite to how it routinely does it for you locally.</p>

<p>Put a breakpoint on this line and see what happens. </p>
