<pre><code>#include &lt;stdio.h&gt;

#define N 16

int xchg(int *a, int *b);

int main (void){
    int i, j, k, count = 0;
    int Num[N] = {7, 1, 993, -5, 0, 16, -451, 12, 89,28, 77, 384, -2, 38, -17, 201};

    for(i = 0; i &lt; N - 1; i++){
        for(j = i + 1; j &lt; N; j++){
            count += xchg(&amp;Num[i], &amp;Num[j]);
        }
        for(k = 0; k &lt; N; k++){
            if(k &lt; N-1){
                printf("%d ", Num[k]);
            } else {
                printf("%d", Num[k]);
            }
        }
        printf("\n");
    }
    printf("total exchanges: %d\n", count);
}

int xchg(int *a, int *b){
    int s = (*a &gt; *b);

    if(s){
        int t = *a;
        *a = *b;
        *b = t;
    }
    return s;
}
</code></pre>
