<p>I found the following code works fine. Please check that you have set the id correctly for <strong>layer3</strong>. Also check that you have declared the the <strong>action</strong> var. </p>

<p>There is a better way to do this as you are using jQuery. But for the moment you can try the below code.</p>

<pre><code>&lt;!DOCTYPE HTML&gt;

&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Event Scheduler&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;form name= "evtForm" method="post" onsubmit="Validate()"&gt;
    &lt;input type=button value="Hide Shape" id= "ShapeButton" /&gt;
    &lt;div id='layer3'&gt; This is your layer 3 I guess&lt;/div&gt;
  &lt;/form&gt;

  &lt;script&gt;
    var action = 1; //make sure you declare this
    document.getElementById('ShapeButton').onclick = function(){
      toggleName(this, 'Hide Shape', "Show Shape"); shapeOpacity();
    };

    // the toggle name function (working)

    function toggleName(el, message1, message2) {
      if (!el || !message1 || !message2) {
      return false;
    }
    var text = el.tagName.toLowerCase() == 'input' ? el.value : (el.textContent || el.innerText),
        newText = text == message1 ? message2 : message1;

    if (el.tagName.toLowerCase() == 'input') {
      el.value = newText;
    }
    else {
      el.firstChild.nodeValue = newText;
    }
  }


   function shapeOpacity() {
     if ( action == 1 ) {
       document.getElementById('layer3').style.opacity = '0';
       action = 2;
     } else {
       document.getElementById('layer3').style.opacity = '100';
       action = 1;
     }
   }
  &lt;/script&gt;
 &lt;/body&gt;

&lt;/html&gt;
</code></pre>
