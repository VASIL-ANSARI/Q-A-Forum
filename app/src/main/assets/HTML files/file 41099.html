<p>If you look past the function declaration of <code>sharedDNA</code>, you'll see the following:</p>

<pre><code>var ph = byName["Philibert Haverbeke"];
console.log(reduceAncestors(ph, sharedDNA, 0) / 4);
</code></pre>

<p>If you trace this up to <code>reduceAncestors</code>, the parameters map out to:</p>

<pre><code>person -&gt; { name: "Philibert Haverbeke", ... },
f -&gt; sharedDNA,
defaultValue -&gt; 0
</code></pre>

<p>Now, take a look at <code>valueFor()</code>. It always returns a number, either the <code>defaultValue</code>, or the result of <code>sharedDNA</code>, which always returns a number.  This is the key: if a person has no parent, then <code>defaultValue</code> is used, otherwise, it generates a ratio of sharedDNA between the given relationships, or the third case, '1', if the person happens to be named "Pauels van Haverbeke".</p>

<p>To answer your question, "How valueFor(...) generates a numerical value from a person object", is that it simply returns the value that <code>sharedDNA</code> generates recursively.</p>
