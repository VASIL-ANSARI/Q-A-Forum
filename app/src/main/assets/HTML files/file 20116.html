<p>Maybe you should use array_key_exists() instead of in_array().
<a href="http://php.net/manual/en/function.array-key-exists.php" rel="nofollow">http://php.net/manual/en/function.array-key-exists.php</a></p>

<p>There's a typo on $product['cateogry']</p>
