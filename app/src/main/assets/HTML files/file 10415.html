<blockquote>
  <p>The screenshot function works correct but when i send the stream to my
  server it only receives the top of the image(for example: the original
  screenshot made is 150kb but the file i receive is only 40kb) Try
  several other file sending scripts but by the most I only receive 6
  bytes..</p>
  
  <p>When I try to use a While function it send's me nothing or 1kb so I
  know I'm doing something wrong but what?</p>
</blockquote>

<p>Sounds like you to loop and send the next 6 bytes after the first 6 bytes.  Your code more complicate then it needs to be.  I would refactor it and make it easier to understand.</p>

<p>One thing I would do is send the size of the file to the client, ahead of the image, so you know how many bytes to read.</p>

<p>It simply sounds like your not reading enough bytes, could also be your not sending enough bytes, that's up to you to figure out.</p>
