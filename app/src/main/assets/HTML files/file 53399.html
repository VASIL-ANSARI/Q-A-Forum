<p>Execute the <code>main()</code> method of your class under test from within a JUnit method.</p>

<pre><code>public class Class2 {
  @Before
  public void produceOutputFiles() {
      Class1.main(new String[] { "these", "are", "commandline", "arguments"});
  }

  @Test
  public void validateClass1Output() {
      //read in the files and validate the output
  }
}
</code></pre>

<p>Invoking Class1 via <code>Process.exec()</code> is an option with many downsides. It is much simpler to keep both the test and the tested code within the same JVM.</p>
