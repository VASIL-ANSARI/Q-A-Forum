<p>You should first query the <code>id</code> from the appropriate <code>sequence</code>, and then provide that <code>id</code> in your insert statement. As simple as that.</p>

<p>Further, we call it integration test, instead of unit test, arguably. You might like to refer to <a href="http://stackoverflow.com/questions/2228105/dbunit-problem-with-increment-id-generation/2228272">this SO thread</a> to have an idea regarding integration tests and ids.</p>

<p><strong>[Edited after comment]</strong></p>

<p>In that case, get rid of that trigger. And retrieve the <code>id</code> from the <code>sequence</code> directly, prior to make a <code>insert</code>.</p>

<p>Well, you can fire a <code>SELECT... FOR UPDATE</code> on the table, and grab the last <code>id</code>, and increment that by 1. If your <code>id</code> is not sequential, which I guess wouldn't be the case, you can hold the <code>ROWID</code>, specific to Oracle AFAIK. And then query for <code>id</code> using that. Indeed, its all kinda work around.</p>

<p><strong>Note:</strong> <em>I strongly suggest you to look at Aaron Digulla's post. See if any of that suffice.</em></p>
