<p>Your <code>__get</code> implementation is wrong.</p>

<p>Instead of this:</p>

<pre><code>return $this-&gt;$method;
</code></pre>

<p>You want this:</p>

<pre><code>return $this-&gt;$method();
</code></pre>

<p>or this:</p>

<pre><code>return call_user_func(array($this, $method));
</code></pre>

<p>As it stands, the code correctly detects that you have a <code>getLabel</code> method but then it tries to read a <code>getLabel</code> property, so <code>__get</code> is called again, does not find a <code>getGetLabel</code> method and throws.</p>

<p>Two additional tips:</p>

<ol>
<li>Use <code>foreach</code> instead of <code>for</code>.</li>
<li>You don't need to cast objects to anything in PHP; just call the methods.</li>
</ol>
