<pre><code>template &lt;typename T&gt;
double average(const vector&lt;T&gt;&amp; items, double(*selector)(T))
{
    double average= 0.0;

    for (int i = 0; i &lt; items.size(); i++)
    {
        average += selector(items[i]);
    }

    return average/ items.size();
}
</code></pre>

<p>Note that this isn't the best way, it's just the easiest to write and understand. The proper way is to use a functor so it works with C++0x's lambda expressions too.</p>
