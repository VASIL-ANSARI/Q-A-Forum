<p>The following snippet will do what you get you the block you need</p>

<pre><code>&lt;?php

function extract_block($filename, $date)
{
    $handle = fopen($filename, "r");
    $block = '';

    $block_start_text = 'line : ' . $date;
    $block_end_text   = 'tgt-noise-margin-down : ';

    $is_inside_block = false;

    while (($line = fgets($handle)) !== false) {

        if($is_inside_block) {
            $block .= $line;

            if(strpos($line, $block_end_text) !== false){
                $is_inside_block = false;
            }
        } else if(strpos($line, $block_start_text) !== false){
            $block .= $line;
            $is_inside_block = true;
        }
    }

    fclose($handle);

    return $block;
}

echo extract_block('input.txt', '1/1/6/33');
</code></pre>
