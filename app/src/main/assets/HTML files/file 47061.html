<p>Completion in TPL Dataflow is done by calling <code>Complete</code> which returns immediately and signals completion. That makes the block refuse further messages but it continues processing the items it already contain. </p>

<p>When a block completes processing all its items it completes its <code>Completion</code> task. You can <code>await</code> that task to be notified when all the block's work has been done.</p>

<p>When you link blocks together (with <code>PropogateCompletion</code> turned on) you only need to call <code>Complete</code> on the first and <code>await</code> the last one's <code>Completion</code> property:</p>

<pre><code>var copyFilesBlock = new TransformBlock&lt;Actor, Actor&gt;(async actor =&gt;
{
    await actor.CopyFilesAsync();
    return actor;
}, new ExecutionDataflowBlockOptions { MaxDegreeOfParallelism = -1 });

// Fill copyFilesBlock

copyFilesBlock.Complete();
await copyFilesBlock.Completion;
</code></pre>
