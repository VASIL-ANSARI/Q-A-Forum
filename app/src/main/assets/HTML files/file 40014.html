<p><code>$m</code> <em>is</em> <code>departure</code>. you're looping thru each element of <code>departuresegment</code>. so first <code>$m</code> is <code>departure</code> then its <code>direction</code>, then its <code>segmentid</code>. you probably just want</p>

<p><code>foreach ($apiData-&gt;getdeparturesresult-&gt;departuresegment as $m)</code></p>

<p><strong>TEST</strong></p>

<pre><code>$json = '{"getdeparturesresult":{"departuresegment":{"departure":{"location":{"@id":"7461018","@x":"12.523958","@y":"57.938402","name":"Noltorps centrum"},"datetime":"2014-12-04 23:05"},"direction":"AlingsÃ¥s station","segmentid":{"mot":{"@displaytype":"B","@type":"BLT","#text":"Buss"},"carrier":{"name":"VÃ¤sttrafik","url":"http:\/\/www.vasttrafik.se\/","id":"279","number":"1"}}}}}';
$apiData = json_decode($json);
foreach ($apiData-&gt;getdeparturesresult-&gt;departuresegment as $key =&gt; $m) {
    echo "key:" . $key . "\r\n";
    echo '$m:' . print_r($m, true);
    echo "\r\n";
}
</code></pre>

<p><strong>OUTPUT</strong></p>

<pre><code>key:departure
$m:stdClass Object
(
    [location] =&gt; stdClass Object
        (
            [@id] =&gt; 7461018
            [@x] =&gt; 12.523958
            [@y] =&gt; 57.938402
            [name] =&gt; Noltorps centrum
        )

    [datetime] =&gt; 2014-12-04 23:05
)

key:direction
$m:AlingsÃ¥s station
key:segmentid
$m:stdClass Object
(
    [mot] =&gt; stdClass Object
        (
            [@displaytype] =&gt; B
            [@type] =&gt; BLT
            [#text] =&gt; Buss
        )

    [carrier] =&gt; stdClass Object
        (
            [name] =&gt; VÃ¤sttrafik
            [url] =&gt; http://www.vasttrafik.se/
            [id] =&gt; 279
            [number] =&gt; 1
        )

)
</code></pre>

<p>Only the first one has a datetime...</p>
