<p>One potential situation that could lead to this error is when the id of teacher 1 and teacher 2 is the same. Since you close the session between each get they will be detached, and you would end up loading two different objects that both represent the same row in the database (they have the same primary key.) Then, when these are both going to be reattached to a session through a SchoolClass being saved, Hibernate will see two different objects both representing the same row in the database, and not know which one represent the correct state to persist to the database. </p>

<p>Don't know for sure if this is the case here, but you should run a debugger and check the state of the objects referenced by teacher1 and teacher2.</p>
