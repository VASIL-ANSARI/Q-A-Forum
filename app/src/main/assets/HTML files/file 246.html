<h2>The code</h2>

<p><em>r.cc</em> :</p>

<pre><code>#include "t.h"

int main()
{
    f();
    return 0;
}
</code></pre>

<p><em>t.h</em> :</p>

<pre><code>void f();
</code></pre>

<p><em>t.cc</em> :</p>

<pre><code>#include&lt;iostream&gt;
#include "t.h"    

void f()
{
    std::cout &lt;&lt; "OH HAI.  I'M F." &lt;&lt; std::endl;
}
</code></pre>

<h2>But how, how, how?!</h2>

<pre><code>~$ g++ -fpic -c t.cc          # get t.o
~$ g++ -shared -o t.so t.o    # get t.so
~$ export LD_LIBRARY_PATH="." # make sure t.so is found when dynamically linked
~$ g++ r.cc t.so              # get an executable
</code></pre>

<p>The <code>export</code> step is not needed if you install the shared library somewhere along the global library path.</p>
