<ol>
<li><p>There is no such thing as 'switch [from read] to write state'. A socket can be readable and writable at the same time, and a <code>Selector</code> doesn't 'switch': it merely reports which states exist on the socket.</p></li>
<li><p>If the write event never triggers, it is because the socket send buffer is full, which indicates that the peer isn't reading from the connection.</p></li>
</ol>
