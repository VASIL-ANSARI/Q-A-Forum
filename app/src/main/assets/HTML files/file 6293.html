<p>Ok, I fixed the problem using the following rule: </p>

<p>RewriteRule ^products-([^_\r\n//]*)-([^_\r\n//]*)/$ /redir.aspx?url=/products-$1-$2/ [NC,L]</p>

<p>What the redir.aspx page does is write a 301 code to the header and transfer to the new url that is passed as a parameter to it. </p>
