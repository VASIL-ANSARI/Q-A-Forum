<p>If you're using <code>rspec</code> you could set up something like this:</p>

<pre><code>before(:all) do
  ActiveRecord::Migration.create_table :compare_to_model do |t|
    t.string :some_column
    t.timestamps
  end
end

it "validates like it should" do
  ...
end

after(:all) do
  ActiveRecord::Migration.drop_table :compare_to_model
end
</code></pre>

<ul>
<li>One note on <code>before(:all)</code> it is a "global" setup so the data would persist from one <code>it</code> to the other, you might want to wrap each <code>it</code> with a transaction and roll it back after or instead have a <code>before(:each)</code> that will clean the table.</li>
</ul>
