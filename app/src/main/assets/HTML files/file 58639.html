<p>1.The challenge is that Gmail uses "Labels" to attach to messages, and messages can have zero or more than one label, while IMAP puts messages in folders (Inbox, Trash, etc) and every message is in one, and only one folder. Thus, when Mail.app tells the Gmail server to delete a message from the Inbox the Gmail server can not reliably tell if it should just remove the "Inbox" label from that message (leaving it with one fewer label, possibly still having other labels, or maybe no label but still avaialbe in the "All Mail" view) or if it should more permanentaly remove the message completely from the database.</p>

<p>2.The "fix" is to setup Gmail to not show the messages in multiple IMAP folders (by turning off the "All Mail" folder) and to also have the Gmail servers "expunge" the message when the Mail.app tells it so rather than doing it "automatically", even though that (default) setting on the Gmail server seems to imply that the "auto" setting would be what was desired.</p>

<p>I have not tested ALL of these settings (I mostly rely on the "30 days in the trash" feature of Gmail to empty things: <a href="https://support.google.com/mail/answer/7401?hl=en" rel="nofollow">https://support.google.com/mail/answer/7401?hl=en</a> ) and I have only recently updated to "El Capitan" but things do not seem any different from my Yosemite, Mavericks and earlier experiences. The way the system works seems to be the same using either a "regular" @gmail.com account or a "Goodle Apps for Domains" @yourdomain.com account.</p>

<p>I do however have things set so that email does get put into the trash properly on the Gmail side of things, and it looks like there are settings available to delete things immediately and it works on my system in the way I want it too.</p>

<p>So the detailed instructions are:</p>

<p>At <a href="http://gmail.com/" rel="nofollow">http://gmail.com/</a> log in to your account and select the following: "Settings" -> "Forwarding and IMAP"</p>

<p>Check "Enable IMAP"</p>

<p>For "When I mark a message in IMAP as deleted" Check "Auto-Expunge off - Wait for the client to update the server."</p>

<p>You need to select the "Save Changes" button at the bottom for this to take effect.</p>

<p>These settings will only invoke the deletion (or move to Gmail Trash) when the message no longer has any Gmail tags associated with it, or in other words, when an IMAP client removes the message from all of the IMAP folders. Since one of the "folders" that can be displayed in a Gmail IMAP client is "All Mail", just deleting a message from the Inbox of the IMAP client will not cause it to go bye-bye. Thus we need to limit the "Lables"/"Folders" that Gmail exposes as IMAP folders:</p>
