<p>There is nothing wrong with that code.</p>

<p>I was able to reproduce the problem by trying to load the document directly from my local disk (via a <code>file:</code> URL). It gave this error message:</p>

<blockquote>
  <p>x.html:9 Uncaught SecurityError: Failed to execute 'pushState' on 'History': A history state object with URL 'file:///Users/myusername/tmp/fjdkfjkd/newurl.html' cannot be created in a document with origin 'null' and URL 'file:///Users/myusername/tmp/fjdkfjkd/x.html'.document.getElementById.onclick @ x.html:9</p>
</blockquote>

<p>When I loaded the document from a web server (over HTTP), the problem went away.</p>

<p><strong>You need to load your document from a web server</strong>.</p>

<hr>

<p>There are lots of situations where things behave differently between <code>file:</code> and <code>http:</code> URLs (including scheme and root relative URLs, XMLHttpRequest, postmessage, and many others). Always do your testing over HTTP to avoid these problems.</p>
