<p>This is the correct way to get the level. </p>

<pre><code> final int sdkVersion = Integer.parseInt(Build.VERSION.SDK);

if (sdkVersion &lt; Build.VERSION_CODES.HONEYCOMB)
{
...
Notification notification = new Notification(icon, text, time); // deprecated in API level 11
...
notification.setLatestEventInfo(this, title, text, contentIntent); // deprecated in API level 11
...
}
else
{
Notification noti = new Notification.Builder(mContext)
         .setContentTitle("New mail from " + sender.toString())
         .setContentText(subject)
         .setSmallIcon(R.drawable.new_mail)
         .setLargeIcon(aBitmap)
         .build(); // available from API level 11 and onwards
} 
</code></pre>

<p>All the version codes can be found at this <a href="http://developer.android.com/guide/topics/manifest/uses-sdk-element.html">developer link</a>.</p>
