<p>In your first block of code, you are returning an object, which is different from <code>this</code> or <code>self</code>.</p>

<p>You don't necessarily have to return <code>this</code> in your constructors but you should assign your functions on the returned object. If you create a variable for the object you want to return, you can use it in your <code>setTimeout</code> callback like so:</p>

<pre><code>var class1 = function(val1)
{
    var val = val1;    

    var obj = {
        f1: function()
        {
            return val;
        },
        onEvent: function()
        {
            console.log('not implemented yet. Override');
        }
    };

    setTimeout(function()
    {
        obj.onEvent();

    }, 1000);

    return obj;
};
</code></pre>

<p>For extra style points, you might want to capitalize the name of your constructors (and perhaps use <code>new</code> to instantiate them to make things clearer to your readers).</p>
