<p>Using <a href="http://ruby-doc.org/core-2.1.2/Enumerable.html#method-i-select" rel="nofollow">select</a></p>

<pre><code>myarr = [{ "name" =&gt; "sale", "value" =&gt; "true" }, { "name" =&gt; "test", "value" =&gt; "true"}]
myarr.select { |h| h["name"] == "sale" &amp;&amp; h["value"] == "true" }
=&gt; [{"name"=&gt;"sale", "value"=&gt;"true"}]
</code></pre>

<p>In your case, you would have a Hash (after parsing the JSON) that looks like this:</p>

<pre><code>response = {"productHeader" =&gt; {"totalHits" =&gt; 32090}, "products" =&gt; [{ "name" =&gt; "sale", "value" =&gt; "true" }, { "name" =&gt; "test", "value" =&gt; "true"}]}
</code></pre>

<p>Then, you could just have this code:</p>

<pre><code>response = JSON.parse(@json_text)

response["products"].select { |h| h["name"] == "sale" &amp;&amp; h["value"] == "true" }.each do |filtered_response|
  # Do whatever you want with the filtered product
end
</code></pre>
