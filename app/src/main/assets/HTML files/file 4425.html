<p>The Rails router will already return a 404 response when no routes match. If you want to customize that response, I suppose you could do:</p>

<pre><code>class NotFound
  def initialize(app, msg, content_type = "text/html")
    @app = app
    @content = msg
    @length = msg.size.to_s
    @content_type = content_type
  end

  def call(env)
    status, headers, body = @app.call(env)

    if status == 404
      [404, {'Content-Type' =&gt; @content_type, 'Content-Length' =&gt; @length}, @content]
    else
      [status, headers, body]
    end
  end
end
</code></pre>
