<p>You have a semicolon after your <code>if</code> statement:</p>

<pre><code>if (pthread_create(&amp;supplierid, NULL, &amp;supplier, NULL) != 0);
</code></pre>

<p>This means that the statement that appears to be nested within the <code>if</code> statement is not actually nested at all and will always execute regardless of the condition.  Specifically, C is interpreting your code to mean</p>

<pre><code>if (pthread_create(&amp;supplierid, NULL, &amp;supplier, NULL) != 0)
    ; /* Do nothing */

error("ERROR creating supply threads \n");
</code></pre>

<p>To fix this, remove the stray semicolon.</p>

<p>Hope this helps!</p>
