<p>Yes, you are correct. There are two obvious ways to fix this:</p>

<ol>
<li><p>Pass <code>client</code> to the thread instead of <code>&amp;client</code>.</p></li>
<li><p>Allocate a new integer on the heap and pass its address to the thread and let the thread free it when it's done with it.</p></li>
</ol>
