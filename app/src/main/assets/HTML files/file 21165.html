<p>In your code you have DataMapper setup instruction</p>

<pre><code>DataMapper::setup(:default, "sqlite3://#{Dir.pwd}./prod.db")
</code></pre>

<p>which tells that the sqlite database-file location is in a directory named: current working directory + <code>.</code>, which cannot be found and hence the error.  So removing the dot from the URI should resolve your problem for that part.</p>

<p>Note that <code>#{Dir.pwd}</code> points to the current working directory; it might be safer to point to the absolute path, in relation to the current file, by instead saying âÂ for example: <code>File.dirname(File.expand_path(__FILE__))</code>. The reason is that if the file is used outside the directory it exists in, it can be found.</p>

<p>Now for the class definition.  In your initialization you reference a non-existing method/property called <code>name</code>.  I think what you are looking for is just a property declaration, such as</p>

<pre><code>property :name, String
</code></pre>

<p>You donât need an initializer for that, you can just use, for example, <code>Person.create(:name =&gt; 'Foo')</code> which persists the object into the database.</p>

<p>Speaking of which, coming back to the default database connection, you might be interested using an in-memory sqlite for testing.  You can do this by</p>

<pre><code>DataMapper.setup(:default, "sqlite::memory:')
</code></pre>

<p>This will start the db from a clean slate every time you use the file.</p>
