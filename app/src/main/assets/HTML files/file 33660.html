<p>The warning is due to this:</p>

<pre><code>&amp;buffer[10]
</code></pre>

<p><code>void</code> has no size, and the <code>[]</code> operator needs a concrete data type to operate in a defined manner. That this is a warning is probably due to your compiler supporting <code>void*</code> in an <code>unsigned char *</code> manner (gcc has this extension, for example). But it isn't standard. Thus the warning.</p>

<p>Change this:</p>

<pre><code>void *buffer = malloc(40);
</code></pre>

<p>To this:</p>

<pre><code>unsigned char *buffer = malloc(40);
</code></pre>
