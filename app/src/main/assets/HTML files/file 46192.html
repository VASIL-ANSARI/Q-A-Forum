<p>You loop</p>

<pre><code>        for($i=0; $i&lt;=count($pays); $i++)
</code></pre>

<p>starts at <code>$i=0</code>.</p>

<p>Then you try this:</p>

<pre><code>          if($pays[$i]['price'] &lt; $pays[($i-1)]['price'])
</code></pre>

<p>There is a <code>$pays[($i-1)]</code>. That is your unknown index <code>-1 ($i-1 (or 0-1 for the first loop))</code></p>
