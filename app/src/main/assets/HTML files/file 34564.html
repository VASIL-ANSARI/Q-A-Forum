<p>Your vector <code>a</code> contains 3 empty vectors, but you treat them as if they were not here:</p>

<pre><code>a[i][j]=i*3+j; // a[i] has size 0 here
</code></pre>

<p>This out of bounds access is undefined behaviour. The reason is that this</p>

<pre><code>a.resize(3); //cols
</code></pre>

<p>is not dong what you think it is. It essentially has no effect, because <code>a</code> is already size 3 at this stage.</p>

<p>If you want a 3 by 3 vector of vectors, initialize <code>a</code> like this:</p>

<pre><code>vector&lt;vector &lt;int&gt; &gt; a(3, std::vector&lt;int&gt;(3));
</code></pre>
