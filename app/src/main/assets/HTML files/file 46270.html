<p>The short story is that you need to use <code>VTSessionSetProperty</code> after you've created the season.</p>

<p>The dictionary you're passing in as the fifth parameter is actually used for specifying the encoder to use rather than the encoder settings. It's a bit confusing but Apple documentation states: </p>

<pre><code>To specify a particular video encoder when creating a compression session, pass an 
encoderSpecification CFDictionary containing this key and the EncoderID as its value.
The EncoderID CFString may be obtained from the kVTVideoEncoderList_EncoderID entry 
in the array returned by VTCopyVideoEncoderList.
</code></pre>

<p>You need to set the <code>kVTCompressionPropertyKey_AverageBitRate</code> and <code>kVTCompressionPropertyKey_DataRateLimits</code> properties after you have created the session using the <code>VTSessionSetProperty</code> function.</p>

<p>For example:</p>

<pre><code> status = VTSessionSetProperty(session, kVTCompressionPropertyKey_AverageBitRate, (__bridge CFTypeRef)@(600 * 1024));
 status = VTSessionSetProperty(session, kVTCompressionPropertyKey_DataRateLimits, (__bridge CFArrayRef)@[800 * 1024 / 8, 1]);
</code></pre>

<p>Just remember that <code>kVTCompressionPropertyKey_AverageBitRate</code> takes bits and  <code>kVTCompressionPropertyKey_DataRateLimits</code> takes bytes and seconds.</p>
