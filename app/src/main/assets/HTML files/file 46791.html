<p>As you are referencing <code>document</code> in code, the code should execute when dom is ready.</p>

<p>The event trigger code should execute when the jQuery is loaded, thus write the code in <code>script.onload</code> callback.</p>

<p>As mentioned <a href="http://stackoverflow.com/questions/16230886/trying-to-fire-onload-event-on-script-tag">here</a>, attach the callback before appending the <code>script</code> element to <code>document.body</code>, and also before assigning <code>src</code> to <code>script</code> element.</p>

<p><strong>Working demo</strong> : <a href="http://jsfiddle.net/ashwinaggarwal/buus4xe5/1/" rel="nofollow">jsFiddle</a></p>
