<p>There is a security separation between extension contexts and content script contexts. You can't just reference <code>window</code> of the popup from a content script (unlike <code>getBackgroundPage()</code> or <code>getViews()</code> from extension context, which is a hack to begin with).</p>

<p>The proper way to communicate between the two would be <a href="https://developer.chrome.com/extensions/messaging" rel="nofollow">Messaging</a> (you can send messages from the content script via <code>runtime.sendMessage</code>, and popup will be among the receivers).</p>

<p>Important to remember that popup can close, and then its state will be lost and it won't be listening. In that case, you either want to use a background script as a "proxy" between the two, or employ some persistent storage like <a href="https://developer.chrome.com/extensions/storage" rel="nofollow"><code>chrome.storage</code></a>.</p>

<p>Finally, Messaging/Storage only supports JSON-serializable payloads. This means you can't send DOM nodes across, among other things. You need to communicate only the bare minimum data required for your purposes and construct the DOM on the popup side.</p>
