<p>This would be one way to do it, all tough I'm no fan of callbacks, I prefer to use <a href="https://github.com/petkaantonov/bluebird" rel="nofollow">promises</a>.<br>
This approach will just propagate all errors to the <code>cb1</code>, if you want to handle errors anywhere in between you should <a href="http://www.joyent.com/developers/node/design/errors" rel="nofollow">wrap them or try to fix stuff</a>.</p>

<p>If you're gonna do async operations in that inner for loop you are in for some additional async refactor fun. </p>

<pre><code>function myFunc(schema, cb1) {
    async.each(Object.keys(schema), function(variable, cb2) {
        async.each(Object.keys(schema[variable]), function(item, cb3) {
            for (var field in schema[variable][item]) {
                // Some operations go here
            }
            createDB(item, schema[variable][item], cb3);
        }, cb2);
    }, cb1);
}

function CreateDB(name, new_items, cb) {
    ddb.createTable(selected_field.name, {hash: ['id', ddb.schemaTypes().number],
            range: ['time', ddb.schemaTypes().string],
            AttributeDefinitions: new_items
        },
        {read: 1, write: 1}, cb);
}
</code></pre>
