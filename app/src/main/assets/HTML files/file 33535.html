<p>In my opinion you could store each query in the database (it could be some NoSQL db) and you could aggregate them to count the most popular queries. </p>
