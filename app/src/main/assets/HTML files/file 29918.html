<p>Because the <code>req</code> has actual type of <code>HttpServletRequest</code>, so it can be downcasted.</p>

<p>You can check that using <code>System.out.println(req.getClass());</code></p>

<p>But in your case your actual object is of type <code>A</code> because of <code>new A()</code>, so you <strong><em>cannot cast</em></strong> it to <code>B</code></p>

<p><em>Scenario that is working:</em></p>

<pre><code>A a = new B(); //actual type is B
B b = (B)a;
</code></pre>

<p>The second statement <code>B b = (B)a;</code> is allowed because the actual type of the object when it was created was <code>B</code> because of <code>new B()</code>, just the reference type was <code>A</code>. That's why you can again cast it back to <code>B</code>.</p>
