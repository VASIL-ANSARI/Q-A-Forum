<p>The easiest way to solve that is replacing the following line:</p>

<blockquote>
  <p>when(stockPriceFetcherWithNetworkError.<strong>getPrice</strong>("YHOO"))</p>
</blockquote>

<p>with the line:</p>

<blockquote>
  <p>when(stockPriceFetcherWithNetworkError.<strong>getStockPrice</strong>("YHOO"))</p>
</blockquote>

<p>But make sure that the getStockPrice() include a try {} catch(ConnectException e){} block.</p>

<p>It seems that you do not throw the ConnectException in the getStockPrice() method.</p>

<pre><code>getStockPrice(String str) {

    getPrice(str) {
     //  Here the ConnectException is thrown
     }
   // here should appear another catch that throws the error to the upper level
}
</code></pre>

<p>Without the try{} catch{} block in the getStockPrice() method, the exception can not be catch in any place the method is called. 
That is why you should also implement a Mock to the getStockPrice().</p>

<p>When you add the try{} catch(ConnectException e) {} block it will work great.</p>
