<pre><code>char string[100], word[20], max[20];
int i = 0, j = 0, flag = 0;
</code></pre>

<p>Over-running max, will modify i or word</p>

<p>The memory could be used as below </p>

<pre><code>+-------+-------------+-------+
| word  | max         | i     |
+-------+-------------+-------+
</code></pre>

<p>or</p>

<pre><code>+-------+-------------+-------+
| i     | max         | word  |
+-------+-------------+-------+
</code></pre>

<p>So writing more than 20 bytes into max, could modify word, or i - as it overruns.</p>

<p>When you overrun these memory items, you enter undefined behavior, which may work (as you found) or crash.</p>

<p>The <code>string[i] !=0</code> is protecting against some of these failings.</p>
