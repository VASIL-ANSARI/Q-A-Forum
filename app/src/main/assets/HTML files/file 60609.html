<p>If am not wrong you are looking for this </p>

<pre><code>SELECT zoom,x,y,
       amount,
       ( amount / Cast(Sum(amount) OVER(partition BY zoom) AS FLOAT) ) * 100 as amt_percentage
FROM   (SELECT zoom,x, y,
               Count(*) AS amount
        FROM   percentage
        GROUP  BY zoom,x,y) a 
</code></pre>

<p>Or even </p>

<pre><code>SELECT zoom,x,y,
       Count(*) AS amount,
       ( Count(*) / Cast(Sum(Count(*))OVER(partition BY zoom) AS FLOAT) ) * 100 AS amt_percentage
FROM   percentage
GROUP  BY zoom,x,y 
</code></pre>

<p><em>Casting</em> the denominator to <code>FLOAT</code> is avoid the <code>Integer</code> division </p>
