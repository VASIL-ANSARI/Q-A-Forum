<pre><code>Update tableA a,tableb b
SET b.status=CASE WHEN (select count(*) from tableB where id=a.key group by key,status) &gt; 0 then 'Done' else b.status end
where a.key=b.id
</code></pre>
