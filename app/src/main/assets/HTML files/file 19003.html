<p>After talking with jrburke about the problem the best solution is to do the extending of the config array in the <code>configuration.js</code>.</p>

<p>Example of the file <code>configuration.js</code></p>

<pre><code>define(function(require, exports, module) {
    var $ = require('jquery'); // need jQuery for extend
    var config = {
        key: value,
        ...
    };
    return $.extend(true, config, module.config());
});
</code></pre>

<p>So there is no more need to do this in the <code>main.js</code>.</p>

<p>The only disadvantage of this approach is that in the <code>requirejs.config</code> you have to address
<code>package/configuration</code> and not <code>package</code>.</p>

<p>Example of the <code>requirejs.config</code></p>

<pre><code>requirejs.config({
    config: {
        "package/configuration": {
             key: value
        }
    }
});
</code></pre>
