<p>I've switched the inner while loop with the outer one, and with a little bit of changes, its working now. But I have no idea why it is working this way but not the other.</p>

<pre><code>$addrange = date('Y-m-d', strtotime($annstart . ' - 1 day'));
    $minusday = 0; //numbers of nonworking days

    while ($datediffdays &gt; 0)
        {
            $addrange = date('Y-m-d', strtotime($addrange . ' + 1 day'));
            $checkrange = date('N', strtotime($addrange));
            $resultnonworking = mysql_query("SELECT * FROM workingdays WHERE working='1'");
            while ($nonworkingcheck = mysql_fetch_array($resultnonworking))
                {
                    if($nonworkingcheck['dayid'] == $checkrange)
                        {

                            $minusday = $minusday + 1;

                        }
                }
            $range = $range." ".$addrange;
            $datediffdays = $datediffdays-1;
        }

    $range = substr($range,11); 
</code></pre>
