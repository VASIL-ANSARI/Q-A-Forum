<p>generator should be infinite (loops through data) in fit_generator. </p>

<p>c.f. <a href="http://keras.io/models/sequential/#fit_generator" rel="nofollow">keras documentation on fit_generator</a></p>

<blockquote>
  <p>The generator is expected to loop over its data indefinitely. </p>
</blockquote>

<p>Try changing your function <code>generate_batch</code> to:</p>

<pre><code>def generate_batch():
    files = glob.glob('../manga-resized/sliced/*.png')
    while True:
        random.shuffle(files)
        for fl in files:
            yield get_arrays(fl)
</code></pre>

<p>Also:</p>

<p>I think the problem of your code comes from the line </p>

<pre><code>y_reshaped = (y,(y_rows*y_columns,y_channels))
</code></pre>

<p>This line doesn't seem to do the reshaping at all. It just create a tuple with 2 elements: the numpy array <code>y</code> and the tuple <code>(y_rows*y_columns,y_channels)</code>.</p>

<p>I suppose you should write something like</p>

<pre><code>y_reshaped = np.reshape(y,(y_rows*y_columns,y_channels))
</code></pre>
