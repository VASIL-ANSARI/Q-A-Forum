<p>I think that the best way is to use standard container <code>std::vector</code> with initial reserved memory.
You can also use its member function <code>max_size</code> to determine how many elements you can allocate in the vector.</p>

<p>For example the on-line MS VC++ compiler shows the following value 536870911:)</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;vector&gt;

int main()
{
    std::vector&lt;double&gt; v;

    std::cout &lt;&lt; " max size = " &lt;&lt; v.max_size() &lt;&lt; std::endl;
}

Compiled with /EHsc /nologo /W4
main.cpp

Compilation successful!

Total compilation time: 187ms

 max size = 536870911

Total execution time: 531ms
</code></pre>
