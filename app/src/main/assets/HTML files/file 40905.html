<p>The error is coming because, every time the value of <code>$_GET</code> is not getting set.</p>

<p>So, to deal with it, </p>

<p>get the value of <code>$_GET['page']</code> in a variable.</p>

<p>So that, if we do not get <code>$_GET</code>, we will assign it a default value, that is index page.</p>

<pre><code>$page = ! empty($_GET['page']) ? $_GET['page'] : 'index'; // set default value.
</code></pre>

<p>And change this line:</p>

<pre><code>if ($page == $row['pagename']) {
</code></pre>

<p>So, the final modified code should be:</p>

<pre><code>&lt;?php
$query = "SELECT pagename, pagetitle FROM pages LIMIT 8";
$result = $mysqli-&gt;query($query);
$page = ! empty($_GET['page']) ? $_GET['page'] : 'index';
echo '&lt;ul&gt;';
while ($row = $result-&gt;fetch_array(MYSQLI_ASSOC)) {
    $class = '';
    if ($page == $row['pagename']) {
        $class =  'active';
    }
    echo '&lt;li&gt;&lt;a href="?page='.$row["pagename"].'" class="'.$class.'"&gt;' . $row["pagetitle"].' &lt;/a&gt;&lt;/li&gt;';
}
echo "&lt;/ul&gt;";
?&gt;
</code></pre>
