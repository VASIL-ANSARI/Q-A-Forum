<p>I finally found the answer:</p>

<p>First, it seems that the index tables are not generated by the generateModelsFromYaml() method, but more likely created as needed by Doctrine directly on the database...</p>

<p>So i tried to generate them manualy by using the generateSqlFromArray() on my previously generated models, but Doctrine throws an exception on the creation of the field of the primary key. After some research i found out that in case of creating index tables, the primary key of the indexed must be lower case.</p>

<p>But the scheme of the database was locked. So i found a workaround :</p>

<ul>
<li><p>I ran a small regular expression on my YAML file, to make all my primary key lower case, so a key like "IND_Id" became "ind_id".</p></li>
<li><p>I generated my models again with the new YAML template.</p></li>
<li><p>I called the generateSqlFromArray() method on the newly created model and extract the SQL CREATE of the index tables.</p></li>
<li><p>I pasted this SQL code on my database</p></li>
</ul>

<p>Now everything works fine, even with my original models despite their primary keys ar still upper cased... </p>

<p>Here is the script i created to lower case the primary keys</p>

<pre><code>$src = file_get_contents("source.yml");

//Lower case the primary key
$src = preg_replace("/([A-Z]{3}_[A-Z]{1}[a-z]*:)/e", "strtolower('\\1')", $src);

file_put_contents("source_lower.yml", $src);
</code></pre>

<p>And now the script to generate the SQL creation code of my index tables</p>

<pre><code>require_once("../config.php");

$tables = array();
$dirname = '../include/models/generated/';
$dir = opendir($dirname); 

//Extract the classname from the filenames
while($file = readdir($dir)) {
    if($file != '.' &amp;&amp; $file != '..' &amp;&amp; !is_dir($dirname.$file)){

        $classe = substr($file, 4, strlen($file) -8);
        $tables[] = $classe;
    }
}

//Generate SQL create for index tables
foreach($tables as $t){
    $sql = Doctrine_Core::generateSqlFromArray(array($t));
    afficher($sql[1]);
}

//Print the SQL code if CREATE
function afficher($str){
    if(substr($str, 0, 6) == "CREATE"){
        echo $str.";&lt;br/&gt;";
    }
}
</code></pre>
