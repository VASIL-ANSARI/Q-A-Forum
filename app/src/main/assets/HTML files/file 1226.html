<p>Most likely the problem is that the value of ison is always undefined when you try accessing it, because you are defining it inside the function, but only after trying to read it. </p>

<p>Whenever you define a variable inside a function, even if it is not declared until later in the code, it automatically overrides any variables with the same name outside the scope - thus inside the function, the value of ison is undefined until it's defined, and the code never reaches that because of your if clauses.</p>

<p>Try removing <code>var</code> from the var ison = n statements inside the function and that may help. This would make it access the variable you declare in global scope.</p>
