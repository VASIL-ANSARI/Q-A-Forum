<blockquote>
  <p>I'm building $csvdata string by concatenating data in a for loop, data from database.</p>
</blockquote>

<p>From this I gather that you are preparing the entire file to be written as a string and finally writing it to the file.</p>

<p>If so, then this approach is not good. Remember that the string is present in the main memory and every time you append, you are consuming more memory. The fix for this is to write the file line by line that is read a record from the database, transform/format if you want to, prepare the CSV row and write it to the file.</p>
