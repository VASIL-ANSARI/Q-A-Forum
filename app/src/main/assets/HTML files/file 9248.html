<p>You have two options:</p>

<p>Use has_many, :xs, :through => :ys.</p>

<pre><code>class Annotation &lt; ActiveRecord::Base
  has_many :annotation_tags
  has_many :tags, :through =&gt; :annotation_tags
end

class Tag &lt; ActiveRecord::Base
  has_many :annotation_tags
  has_many :annotations, :through =&gt; :annotation_tags
end

class AnnotationTag &lt; ActiveRecord::Base
  belongs_to :annotation
  belongs_to :tag
end
</code></pre>

<p>Then you can type:</p>

<pre><code>tag = Tag.find(123)
annotations = tag.annotations
</code></pre>

<p>Alternatively, if you don't need extra attributes on your AnnotationTag model, i.e. it's purely a join table, you can use has_and_belongs_to_many. Your join table must not have an id column, so in the migration, make sure you specify :id => false as described in <a href="http://apidock.com/rails/ActiveRecord/Associations/ClassMethods/has_and_belongs_to_many" rel="nofollow">the ActiveRecord Associations API docs</a></p>

<pre><code>class Annotation &lt; ActiveRecord::Base
  has_and_belongs_to_many :tags
end

class Tag &lt; ActiveRecord::Base
  has_and_belongs_to_many :annotations
end

class AnnotationsTag &lt; ActiveRecord::Base # First part of model name must be pluralized.
  belongs_to :annotation
  belongs_to :tag
end
</code></pre>

<p>In this case the syntax for getting all the annotations for a tag is the same.</p>

<pre><code>tag = Tag.find(123)
annotations = tag.annotations
</code></pre>
