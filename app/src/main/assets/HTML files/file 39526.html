<pre><code>$array = 
array(
'name' =&gt; 'xxx',
'chapter' =&gt; array(
    array(
    'title' =&gt; 'yyy',
    'slide' =&gt; 
        array(
        'header' =&gt; array('zzz','aaa'),
        'paragraph' =&gt; array('bbb','ccc')
        ),
        array(
            'header' =&gt; array('ddd'),
            'paragraph' =&gt; array('eee')
        )
    ),
    array(
        'title' =&gt; 'fff',
        'slide' =&gt; array(
            'header' =&gt; array('ggg'),
            'paragraph' =&gt; array('hhh')
        )
    )
    )
);

$xml = new SimpleXMLElement("&lt;?xml version=\"1.0\"?&gt;&lt;course&gt;&lt;/course&gt;");

function array_to_xml($array, &amp;$xml) {
    foreach($array as $key =&gt; $value) {
        if(is_array($value)) {
            if(!is_numeric($key)){
                $subnode = $xml-&gt;addChild("$key");
                array_to_xml($value, $subnode);
            }
            else{
                $subnode = $xml-&gt;addChild("item$key");
                array_to_xml($value, $subnode);
            }
        }
        else {
            $xml-&gt;addChild("$key",htmlspecialchars("$value"));
        }
    }
};

array_to_xml($array, $xml);

$xml-&gt;asXML('file.xml');
</code></pre>

<p>The content in <code>file.xml</code> is exactly as you requested.</p>
