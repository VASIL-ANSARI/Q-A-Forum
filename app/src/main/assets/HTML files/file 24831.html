<p>A closure is cleaned up by the garbage collector when there is no code that could possibly reach any of the variables inside the closure.</p>

<p>Really a closure works no differently in the garbage collector than any other object in javascript.  When nobody has a reference to anything in it, then the garbage collector is free to clean it up.</p>

<p>In your specific example, your immediately invoked function expression creates a closure that will last as long as any other code has a reference to something in the closure. So, when the <code>database.insert()</code> function starts executing, it has a reference to your <code>success()</code> function and that keeps the closure alive.  When it finishes and calls the <code>success()</code> function, it will presumably clear its reference to the <code>success()</code> function after calling it, thus freeing  that reference to something inside the closure.  If the garbage collector then finds no other references to anything in that closure, it will then free the closure.</p>
