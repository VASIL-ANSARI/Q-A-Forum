<p>You're explictly specifying that 0,0,0 is transparent:</p>

<pre><code>$oTransparentColor = imagecolorallocatealpha( $this-&gt;oTransparentCanvas, 0, 0, 0, 127 );
</code></pre>

<p>This will apply to ANY pixel in the image where the color triplet is 0,0,0 - in other words, all blacks, as you're finding.</p>

<p>If you want the original images to come through, you'd convert to using an alpha channel. It'd be a seperate "layer" in the image that exclusively specifies transparency/opaqueness for each pixel. That or scan the images for a color that's not used in the original, and then specify that as the new transparent value instead of defaulting to 0,0,0.</p>
