<p>I have to make one assumption since there are a number of problems with the code:  Assuming that buffer[c] is the first character before the inet address</p>

<pre><code>if (buffer[c] == ' ')
{
     in_addr_t addr
     if (inet_aton(&amp;buffer[c+1], &amp;addr))
          // do stuff
}
</code></pre>

<p>Note:</p>

<ul>
<li><code>inet_aton</code> is deprecated since it does not support ipv6.  Use <code>int inet_pton(int af, const char *src, void *dst);</code> for forward compatibility.</li>
</ul>

<p>-- Edit --<br>
To take the substring from the beginning of <code>buffer</code> to (but not including) <code>buffer[c]</code>, any of these will work:</p>

<h1>1</h1>

<pre><code>char buf2 [MAX];
strncpy (buf2, buffer, c);
buf2 [c] = '\000';
</code></pre>

<h1>2</h1>

<pre><code>char buf2 [MAX];
sprintf (buf2, "%.*s", c, buffer);
</code></pre>

<h1>3</h1>

<pre><code>char buf2 [MAX];
int  j;
for (j = 0;  j &lt; c;  ++j)
    buf2 [j] = buffer [j];
buf2 [c] = '\000';
</code></pre>
