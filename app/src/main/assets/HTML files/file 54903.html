<p>My team and I came up with a solutionâ¦</p>

<p><strong>API Contract</strong></p>

<p>We have a developed a API contract that allows us to make requests to the server for 1 or more widgets (including passing relevant request arguments) that will return 1 or more widget responses in a JSON wrapper.  Thus we can do retrievals in these ways:</p>

<ul>
<li>Single Widget Retrieval</li>
<li>Multiple (Aggregate) Widget Retrieval - We are requesting data for 2 or more widgets at a time.</li>
</ul>

<p>in a single call to the server.</p>

<hr>

<h2>Deliver Data to Widget Controllers from an Aggregated Retrieval</h2>

<p>1) <strong>Aggregated Retrieval</strong>: We have an AngualrJS âpageâ controller that is responsible for making the aggregated retrieval for all the widgets on the page upon page load. It makes the request for all 5 widgets on the page by delegating the AJAX request to an Ng factory to handle data retrievalâweâll call that âPageResourceFactoryâ.</p>

<p>2) <strong>Forward to Individual Widget ResourceFactories</strong>: Upon successfully getting data back the âPageResourceFactoryâ, it calls another factory helper to forward the relevant responses to the individual widget resource factories calling their set methods.  Thus at this point, all 5 widget resource factories have their data set.</p>

<p>3) <strong>Widget Controllers Subscribe to New Data</strong>: During page initialization each widget controller has already setup a subscription to their own resource factories to essentially listen for when new data has been set (via their resource factory set methods). THUS, the controllers can know when the data has changed (whether or not they the widget controller initiated a retrieval or not).</p>

<p>4) <strong>Widget Controllers Bind Data</strong>: Each widget controller is ânotifiedâ of a data change, and thus can respond accordingly by putting it on the scope to bind to the view.</p>

<h2>Single Retrieval</h2>

<p>This works just a standard AJAX retrieval.<br>
1) Controller makes request via a resource factory.</p>

<p>2) The resource factory with the aid of $http performs the AJAX request and passes the promise object back up the the controller.</p>

<p>3) The controller takes the data (after a successful promise call) and binds it for the view to display.</p>

<hr>

<p>This is the way we approached the problem.  I'm sure there are other possibilities.</p>
