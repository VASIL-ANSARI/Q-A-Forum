<p>When I wrote a program like this, I ended up creating a wall object, which had a start x/y and an end x/y.  Geometry was needed in order to determine the correct ricochet/bounce angle since walls could be at any orientation.  Essentially the direction of the ball changes by two times the difference in orientation between the wall and the ball's direction.  For example, if the ball is moving at 45* above the X-axis, and the wall is oriented at 90* above the X-axis (i.e. it's straight up and down), then the ball's new heading is its original heading plus two times the difference between its heading and the wall's direction, or in other words 45* + 2*(90*-45*), or in other words, 135*.  The problem is that it doesn't work if you consider the wall's orientation to be -90* (i.e. 90* below the X-axis, which is still straight up and down).  In that case you'd calculate the ball's new heading as -45* which is wrong.  It also matters if you hit the wall from the left or from the right.  Fun, right?  Lots of things to think about.</p>

<p>Balls collide when their centers are within (R1 + R2) distance of each other, where R1 is the radius of the first ball, and R2 is the radius of the second ball.</p>

<p>Essentially, what I did was I created a temporary (invisible) wall that was perpendicular with the vector from the center of one ball to the center of the other, and then I ordered the two balls to bounce off of this wall.  This gave the correct ricochet behavior.</p>

<p>I know you probably don't care about my "wall collision" stuff, but I think what I have described could give you something of an idea of the kind of geometry you're going to need to perform in order to solve this problem. </p>

<p>In short, bouncing balls off of each other <em>correctly</em> is difficult.  Consider removing/abandoning this functionality if it's not required and/or you're not willing to spend the effort.</p>

<p>You could also put together something less correct, but easier.  You could simply have balls move away from each other when they collide, but then you'd get "unnatural" looking ricochets.</p>

<p>I know it certainly doesn't solve your problem, but hopefully this helps.</p>
