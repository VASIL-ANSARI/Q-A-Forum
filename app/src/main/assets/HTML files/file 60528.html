<p>Aside from quoting errors indicated in the syntax highlighting...</p>

<p>You're trying to execute PHP code inside of a string:</p>

<pre><code>echo "&lt;option value='$pin'($nickval == '$pin' ? 'selected='selected'' : '')&gt;$fullname &lt;/option&gt;";
</code></pre>

<p>Variable interpolation is one thing, but code inside of a string isn't going to automatically execute.  It's just a string being echoed to the page.  (Check the page source and see what's actually being emitted to the browser.)</p>

<p>Separate the strings from the code which builds the strings:</p>

<pre><code>echo "&lt;option value='$pin' " . ($nickval == $pin ? "selected='selected'" : "") . "&gt;$fullname &lt;/option&gt;";
</code></pre>
