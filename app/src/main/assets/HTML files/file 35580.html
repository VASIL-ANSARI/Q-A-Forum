<p>You need to wrap your query in your IF statement. If it doesn't exist you can't use it. I'd put it after your file is uploaded and confirmed as succeeding. (Might want to check your IF statements, too. Not sure all of them are necessary).</p>

<pre><code>&lt;?php
$conn = mysql_connect("localhost","root","") or die (mysql_error());
mysql_select_db("shopaholic",$conn) or die (mysql_error());

if(isset($_POST['submit'])){

    $name       = $_FILES['file']['name'];  
    $temp_name  = $_FILES['file']['tmp_name'];  
    if(isset($name)){
        if(!empty($name)){      
            $location = '..Shopaholic/upload/';      
            if(move_uploaded_file($temp_name, $location.$name)){
                echo 'uploaded';
                $sql1= mysql_query("INSERT INTO dumimage (name)values('$name')"); 
            }
        }       
    }  else {
        echo 'please uploaded';
    }
}

?&gt;
</code></pre>
