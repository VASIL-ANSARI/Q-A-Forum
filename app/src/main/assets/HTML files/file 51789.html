<p>I can't help but notice you've got two different for_loop and for_done defined; you might want to differentiate them somehow.  </p>

<p>as per some of the other suggestions, maybe something like this, for example, could work:  </p>

<pre><code>for_loop1:
     pushl   %edi           #push i
     pushl   %esi           #push n
     leal    x(,%edi,4), %eax
     pushl   %eax           #push array
</code></pre>

<p>...  </p>

<pre><code>for_loop2:
     pushl   %edi           #push i
     pushl   %esi           #push n
     leal    y(,%edi,4), %eax
     pushl   %eax           #push array
</code></pre>
