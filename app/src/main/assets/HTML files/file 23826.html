<p>Your regular expression is only looking for two letters try this:</p>

<pre><code>browser_locale = request.env['HTTP_ACCEPT_LANGUAGE'].try(:scan, /^[a-z-]{2,5}/).try(:first).try(:to_sym)
</code></pre>

<p>This will work with two to five character codes with lower case letters or dashes.</p>

<p>This is just a start you may need to refine this regular expression more.</p>
