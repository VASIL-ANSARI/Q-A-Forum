<p>This</p>

<pre><code>users_list = AddUser (list, req);
</code></pre>

<p>is meaningless. <code>users_list</code> is a type name. You can't assign anything to a type.</p>

<p>You used that type name to declare a variable above</p>

<pre><code>users_list list = NULL;
</code></pre>

<p>Wasn't it your intent to use that variable, as in</p>

<pre><code>list = AddUser (list, req);
</code></pre>

<p>?</p>

<p>Based on the implementation of <code>AddUser</code> this is exactly how you are supposed to use it: it returns the new list head pointer value.</p>

<hr>

<p>Another problem in your code is memory allocation in <code>AddUser</code></p>

<pre><code>new = malloc(sizeof(users_list));
</code></pre>

<p><code>users_list</code> is evidently a <em>pointer</em> type. I don't know what type it points to, since you are not showing your definition of <code>users_list</code> (is it a pointer to <code>req</code>?), but in any case <code>sizeof(users_list)</code> gives you the size of a <em>pointer</em>. This is obviously incorrect. You need <code>sizeof</code> of the pointed object, not of the pointer. I'd change it into</p>

<pre><code>new = malloc(sizeof *new);
</code></pre>

<p>and recommend avoiding using <code>sizeof(type)</code> in the future as much as possible. Prefer to use <code>sizeof expression</code> instead. In general, memory allocation should look as follows</p>

<pre><code>pointer = malloc(sizeof *pointer);
</code></pre>

<p>That should help you to avoid such <code>sizeof</code> errors.</p>
