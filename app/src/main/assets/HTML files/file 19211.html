<pre><code>$fileArray = file('blah.txt');
foreach ($fileArray as $key =&gt; $thisLine) {
    if ( condition ) {
        $fileArray[$key] = "changed state";
    }
}
$newFileArray = implode('',$fileArray);
</code></pre>

<p>or passing by reference directly:</p>

<pre><code>$fileArray = file('blah.txt');
foreach ($fileArray as &amp;$thisLine) {
    if ( condition ) {
        $thisLine = "changed state";
    }
}
$newFileArray = implode('',$fileArray);
</code></pre>
