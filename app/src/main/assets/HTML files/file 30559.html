<p><strong>I think this is what you need:</strong></p>

<pre><code>$html = &lt;&lt;&lt; EOF
&lt;div [class]="myClass"&gt; asd [class] 2 a a a a a a &lt;/div&gt;   class
&lt;div [class]="myClass"&gt; [class] asd df &lt;/div&gt;
&lt;div [class]="myClass"&gt; [class2] &lt;/div&gt;
&lt;div [class]="myClass"&gt; [class2] sdf [class] aa &lt;/div&gt;
&lt;div [class]="myClass"&gt;[class] sdf [class] aa &lt;/div&gt;
EOF;

preg_match_all('/(\[class\]|\[class2\])(?=[^&gt;]*(&lt;|$))/i', $html, $result, PREG_PATTERN_ORDER);
for ($i = 0; $i &lt; count($result[1]); $i++) {
    echo $result[1][$i];
}
</code></pre>

<p><strong>OUTPUTS:</strong></p>

<pre><code>[class][class][class2][class2][class][class][class]
</code></pre>

<p><a href="http://ideone.com/aQhyLW" rel="nofollow">LIVE DEMO</a></p>

<p><strong>If you just need a javascript regex you can use:</strong></p>

<pre><code>var myregexp = /(\[class\]|\[class2\])(?=[^&gt;]*(&lt;|$))/ig;
var match = myregexp.exec(subject);
while (match != null) {
    // matched text: match[0]
    // match start: match.index
    // capturing group n: match[n]
    match = myregexp.exec(subject);
}
</code></pre>
