<p>The <code>Argument list too long</code> error message is coming from the bash shell and is happening before your code even gets started executing. </p>

<p>The only code you can fix to eliminate this problem is the bash source code (or maybe it is in the kernel) and then, you're always going to run into a limit. If you increase from 2048 files on command line to 10,000, then some day you'll need to process 10,001 files ;-)</p>

<p>There are numerous solutions to managing 'too big' argument lists. </p>

<p>The standardized solution is the xargs utility.</p>

<pre><code> find / -print | xargs echo 
</code></pre>

<p>is a un-helpful, but working example.</p>

<p>See <a href="http://stackoverflow.com/questions/683776/how-to-use-xargs-properly-when-argument-list-is-too-long">How to use &quot;xargs&quot; properly when argument list is too long</a> for more info.</p>

<p>Even xargs has problems, because file names can contain spaces, new-line chars, and other unfriendly stuff.</p>

<p>I hope this helps.</p>
