<p>Your problem is not yet with the XML parser here, it's more fundamentally:</p>

<pre><code> $file_content = fread($fp, 5000000000);
</code></pre>

<p>AFAIK in PHP strings are limited to 2GB in size. You try to obtain 50GB into that string. That simply does not work. Please consult the documentation which data does fit into which data-type. For strings you can obtain the information here:</p>

<blockquote>
  <p><strong>Note:</strong> <a href="http://php.net/manual/en/language.types.string.php" rel="nofollow">string</a> can be as large as up to 2GB (2147483647 bytes maximum)</p>
</blockquote>

<p><em>Source:</em> <a href="http://php.net/manual/en/language.types.string.php" rel="nofollow">http://php.net/manual/en/language.types.string.php</a></p>

<p>You should therefore understand that <code>xml_parse</code> must <em>not</em> operate on the whole string at once, it allows to parse chunk by chunk. Here again, you should read the manual, understand what which usage those functions are meant and then write your code.</p>

<p>Especially as you've running against the wall already. Time to change the code and rewrite it with a pulling logic. Or instead, take <code>XMLReader</code>, perhaps with <a href="https://github.com/hakre/XMLReaderIterator" rel="nofollow"><code>XMLReaderIterator</code> extension</a>.</p>
