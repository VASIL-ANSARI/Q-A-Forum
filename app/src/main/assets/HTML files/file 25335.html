<p>As this is supposed to be homework, I'll try to show you the some common source of bugs and how to find them.</p>

<ol>
<li><p>Variables which are used must (should) be assigned to before that. This counts especially for pointers, e. g. <code>FILE *</code>.</p></li>
<li><p>If a function (e. g. <code>fopen()</code>) fails, it normally indicates this by returning a special value which must be checked before continuing.</p></li>
<li><p>To check which value a variable has, you can use <code>printf()</code> to show it.</p></li>
</ol>

<p>This is for finding principal errors such as segfaults.</p>

<p>But logical errors are hard to find as well: if you read 3 values and store them into variables, it might be more useful to use them all instead of only one of them. (But maybe this one is not yet the goal of this exercise.)</p>

<hr>

<p>I wrote the lines before this before I learned that it is not the task to search for bugs in a given program, but to write a program by yourself, so I'll  get a little more concrete by now.</p>

<p>A <code>FILE *</code> is something returned by <code>fopen()</code>. You can return it or you can write it to a variable or another memory location indirectly pointed to by a pointer "one level deeper".</p>

<p>So you should rewrite your <code>open_files()</code> (BTW: why file*<em>s</em>*? It's currently only one...):</p>

<p>either for returning the value (preferrable):</p>

<pre><code>FILE* open_files(char *input[])
{
   FILE *infile = fopen(input[1], "r");

   if (infile == NULL)
   {
      perror("Error: Cannot read file.\n");
   }

   return infile;
}
</code></pre>

<p>and call it with</p>

<pre><code>input = open_files(input);
</code></pre>

<p>or with "pass by reference":</p>

<pre><code>void open_files(FILE **infile, char *input[])
{
   *infile = fopen(input[1], "r");

   if (*infile == NULL)
   {
      perror("Error: Cannot read file.\n");
   }

   return *infile;
}
</code></pre>

<p>and call it with</p>

<pre><code>open_files(&amp;input, in);
</code></pre>

<p>Only doing that you'll have your variable <code>input</code> at the caller's site really written to.</p>
