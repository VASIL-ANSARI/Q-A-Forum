<p>The first problem is <code>for c in infile:</code>. You're not iterating over a <code>string</code>, but a <code>file</code>. To get the content of the <code>file</code>, you need to call the <code>File.read()</code> method. </p>

<p>Second problem is <code>keycode[1]</code>, which gets the first element of the <code>keycode</code> dictionary, whatever its content. <code>keycode[c]</code> is the correct way.</p>

<pre><code>with open ("encrypted.txt" , "r") as infile:
    for c in infile.read():
        if c in keycode:
            c = keycode[c]
        decrypted_text.append(c)
</code></pre>

<p>This is what the keyfile should look like:</p>

<pre><code>i h
p o
m l
z y
</code></pre>

<p><code>i</code> is substituted for <code>h</code>, <code>p</code> -> <code>o</code>  and so on. Keep in mind that the dictionary index is case-sensitive, so <code>H</code> is different than <code>h</code>. And again, you're iterating over a file, in this case you need the <code>File.readlines()</code> method in your <code>key()</code> method.</p>
