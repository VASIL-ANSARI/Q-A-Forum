<pre><code>DROP TABLE IF EXISTS my_table;

 CREATE TABLE my_table
 (rank INT NOT NULL
 ,name CHAR(1) NOT NULL
 ,PRIMARY KEY(rank,name)
 );

 INSERT INTO my_table VALUES
 (1   ,'A'),
 (1   ,'B'),
 (1   ,'C'),
 (2   ,'D'),
 (2   ,'E'),
 (2   ,'F'),
 (3   ,'G'),
 (3   ,'H'),
 (3   ,'I');

 SELECT * FROM my_table;
 +------+------+
 | rank | name |
 +------+------+
 |    1 | A    |
 |    1 | B    |
 |    1 | C    |
 |    2 | D    |
 |    2 | E    |
 |    2 | F    |
 |    3 | G    |
 |    3 | H    |
 |    3 | I    |
 +------+------+

 SELECT x.*,COUNT(*) subrank FROM my_table x JOIN my_table y ON y.rank = x.rank AND y.name &lt;= x.name GROUP BY x.rank,x.name;
 +------+------+---------+
 | rank | name | subrank |
 +------+------+---------+
 |    1 | A    |       1 |
 |    1 | B    |       2 |
 |    1 | C    |       3 |
 |    2 | D    |       1 |
 |    2 | E    |       2 |
 |    2 | F    |       3 |
 |    3 | G    |       1 |
 |    3 | H    |       2 |
 |    3 | I    |       3 |
 +------+------+---------+

 SELECT rank
      , MAX(CASE WHEN subrank = 1 THEN name END) name1
      , MAX(CASE WHEN subrank = 2 THEN name END) name2
      , MAX(CASE WHEN subrank = 3 THEN name END) name3
   FROM     
      ( SELECT x.*
             , COUNT(*) subrank 
          FROM my_table x 
          JOIN my_table y  
            ON y.rank = x.rank 
           AND y.name &lt;= x.name 
         GROUP  
            BY x.rank
             , x.name
      ) a
  GROUP 
     BY rank;

 +------+-------+-------+-------+
 | rank | name1 | name2 | name3 |
 +------+-------+-------+-------+
 |    1 | A     | B     | C     |
 |    2 | D     | E     | F     |
 |    3 | G     | H     | I     |
 +------+-------+-------+-------+
</code></pre>
