<p>First, with your code that shows the tasks list you end up having more <code>div</code> elements with the same <code>ID</code> on the page, that is wrong, <code>id</code> should be unique, you can have more <code>div</code> elements with the same <code>class</code> not <code>id</code>.</p>

<p>so you need to do smoethig like this:</p>

<pre><code>&lt;div class="span5" id="tasks_&lt;%= task.id %&gt;"&gt;
</code></pre>

<p>that will output something like:</p>

<pre><code>&lt;div class="span5" id="tasks_5"&gt;
...
&lt;div class="span5" id="tasks_6"&gt;
...
&lt;div class="span5" id="tasks_7"&gt;
...
</code></pre>

<p>the same for <code>addtaskdiv</code> and <code>addcard</code> divs.</p>

<p>having different ids you will be able to get the unique element on page with jquery to append the <code>&lt;p id='subtask'&gt;&lt;/p&gt;</code> to desired element by ID. Right now it goes to first cause you have allof them wiht the same ID and it appends to first one that was found.</p>

<pre><code> $("#addcard_5 &gt; a").click(function(){
   $('#addtaskdiv_5').append("&lt;p id='subtask'&gt;&lt;/p&gt;");
 });
</code></pre>

<p>5 in the example above is a variable that will change depending on what button you'll press.</p>

<p><strong>Update</strong></p>

<blockquote>
  <p>how will u get the card id in jquery?</p>
</blockquote>

<pre><code>&lt;a href="#" data-id='&lt;%= task.id %&gt;'&gt;Add a card...&lt;/a&gt;
</code></pre>

<p>wil generate html: <code>&lt;a href="#" data-id='5'&gt;Add a card...&lt;/a&gt;</code> and jquery code will look something like this:</p>

<pre><code>$('a').click(function(){
   $('#addtaskdiv_' + $(this).data('id')).append("&lt;p id='subtask'&gt;&lt;/p&gt;");
});
</code></pre>
