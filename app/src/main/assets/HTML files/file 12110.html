<p>Close, but no cigar.  You'll need to learn how to use the Expr classes that comes with Doctrine in order to create the correct WHERE clause.</p>

<p><a href="http://www.doctrine-project.org/docs/orm/2.1/en/reference/query-builder.html#expr-classes" rel="nofollow">http://www.doctrine-project.org/docs/orm/2.1/en/reference/query-builder.html#expr-classes</a></p>

<p>In the example you provided, you are actually aiming for something like this (not tested):</p>

<pre><code>$q-&gt;add('select', 's')
  -&gt;add('from', 'app\model\Sub s')
  -&gt;add('leftJoin', 's.case c')
  -&gt;add('where', $q-&gt;expr()-&gt;andX($q-&gt;expr()-&gt;like('s.type', ':type'), $q-&gt;expr()-&gt;eq('case', ':case')))
  -&gt;setParameter('type', "%$type")
  -&gt;setParameter('case', $id);
</code></pre>

<p>As your WHERE clause gets more complicated, so will the nesting of expressions.</p>
