<p>If you change test_helper to do</p>

<pre><code>Foo.class_eval do
  ...
end 
</code></pre>

<p>Then rails is forced to load your Foo model (so that it can call <code>class_eval</code> on it)</p>

<p>As to why the test initialisation process changed you would have to dig back through the changelogs/commits - there definitely were changes around how/when you app code is preloaded. </p>
