<p>This is a predefined macro in gcc (a GNU C extension); see <a href="https://gcc.gnu.org/onlinedocs/cpp/Common-Predefined-Macros.html" rel="nofollow">https://gcc.gnu.org/onlinedocs/cpp/Common-Predefined-Macros.html</a>.</p>

<p>As for why this is legal: The standard reserves all names starting with two underscores (and all names starting with an underscore followed by an uppercase letter) for use by the implementation, so gcc could predefine <code>__whatever</code> and still follow the standard.</p>
