<p>Fixed. Here it is:</p>

<pre><code>$(function() {
    var pagecontent = $(".page_content");
    var pages = $("ul.pages li,#logo");
    var hash = window.location.hash || "#home";
    var title = document.title;

    // new block
    var titlex = $('h2', hash).first().text();
    document.title = titlex;
    $(hash).show();

    $('ul.pages a[href="' + hash + '"]')
        .addClass("active")
        .closest("li")
            .addClass("active");
    // end

    pagecontent.not(hash).hide();
    pages.click(function() {
        $(this).addClass('active').siblings().removeClass('active');
        $(this).parent().closest('li').addClass('active').siblings().removeClass('active'); 
        pagecontent.hide();
        var activepage = $(this).find("a").attr("href");
        window.location.hash = activepage;  //new: fix location hash
        $(activepage).fadeIn();
        title = $('h2', activepage).first().text();   
         $('title').text(title);
        return false;
    });
});
</code></pre>

<p>We could discuss the style but this works.</p>

<p>EDIT: Note that <code>click</code> handler sets appropriate location hash. Seems like right decision but it causes flicker in browser title bar. If it bothers you, try replacing</p>

<pre><code>window.location.hash = activepage;
$('title').text(title);
</code></pre>

<p>with</p>

<pre><code>if( history.pushState ) {
    history.replaceState({}, title, activepage);
} else {
    window.location.hash = activepage;
    document.title = title;
}
</code></pre>
