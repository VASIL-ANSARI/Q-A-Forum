<p>The issue is that you have not supplied the mocked version of the <code>firebase</code> object to your object under test.  The <code>firebase</code> object as it exists in js/services-fb-functions.js is purely internal is not exposed in any way for testing.  Good practice would generally be to use <a href="https://en.wikipedia.org/wiki/Dependency_injection" rel="nofollow">dependency injection</a> for providing internal objects that you wish to mock out during tests.  I've adapted your code slightly to work with JSFiddle and Jasmine 1.3, so please excuse my limited JS skills (there are definitely more elegant ways of exposing the internal object), but this JSFiddle should demonstrate my point:  <a href="http://jsfiddle.net/dkichler/h8omsc5v/" rel="nofollow">Simple Jasmine example using spies</a></p>
