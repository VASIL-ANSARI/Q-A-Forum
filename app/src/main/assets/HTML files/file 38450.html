<p>I'm not sure where you were going with your <code>compile</code> example, but if you <code>compile</code> <em>just</em> the potential identifer for <code>eval</code>, it exposes what is going on.</p>

<pre><code>&gt;&gt;&gt; dis(compile("1", "&lt;string&gt;", "eval"))

  1           0 LOAD_CONST               0 (1)
              3 RETURN_VALUE

&gt;&gt;&gt; dis(compile("a", "&lt;string&gt;", "eval"))

  1           0 LOAD_NAME                0 (a)
              3 RETURN_VALUE

&gt;&gt;&gt; dis(compile("1a", "&lt;string&gt;", "eval"))

  File "&lt;string&gt;", line 1
    1a
     ^
SyntaxError: unexpected EOF while parsing

&gt;&gt;&gt; dis(compile("ä½ å¥½", "&lt;string&gt;", "eval"))

  1           0 LOAD_NAME                0 (ä½ å¥½)
              3 RETURN_VALUE
</code></pre>

<p>It would require more testing before using for real (for edge cases), but getting a <code>LOAD_NAME</code> opcode back is indicative. Failure states can include both an exception and getting a different opcode so you have to check for both.</p>
