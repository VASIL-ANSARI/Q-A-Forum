<p>First, you can't interact with the ws object till it establishes a connection to the server.  </p>

<p>There are a couple of ways to handle this scenario.  You can use the "onOpen" attribute and have it call a function once the web socket connect has been established.  </p>

<p>However, you are probably better off just using the "onMessage" attribute and create a generic  listener function that processes all web socket messages from the server. </p>

<pre><code>function messageHandler(msg) {

    if (msg.type == 'response' &amp;&amp; msg.reqType == 'welcome'){

        alert('user connected');
    }       
}
</code></pre>
