<p>First, you have to understand, that method <code>getElementsByTagName</code> and any other getter return  object (or array of objects) of class <code>DOMNode</code>. If it has content, but not wrapped in any tag, this content can be returned by <code>nodeValue</code> property. And you use it to get template name. But nodeValue doesn't contain html of children. You have to create it. Here is example:</p>

<pre><code>$tmp_dom = new DOMDocument(); 
$tmp_dom-&gt;appendChild($tmp_dom-&gt;importNode($child, true)); 
$html = trim($tmp_dom-&gt;saveHTML());
</code></pre>

<p>so your code should be like:</p>

<pre><code>$doc = new DOMDocument();
$doc-&gt;loadXML( $xml_file_string );//xml file loading here
$themes = $doc-&gt;getElementsByTagName( "theme" );
foreach( $themes as $theme )
{
    $theme_name = $theme-&gt;getElementsByTagName( "name" );
    $theme_thumb = $theme-&gt;getElementsByTagName( "thumb" );
    $theme_name = $theme_name-&gt;item(0)-&gt;nodeValue;
    $theme_thumb = $theme_thumb-&gt;item(0)-&gt;nodeValue;
    echo $theme_name.'&lt;br&gt;';
    echo $theme_thumb.'&lt;br&gt;';
    $templates = $theme-&gt;getElementsByTagName( "template" );
    foreach( $templates as $template )
    {
        $template_name = $template-&gt;getElementsByTagName( "name" );
        $template_name = $template_name-&gt;item(0)-&gt;nodeValue;
        $template_html = $template-&gt;getElementsByTagName( "html" );

        //HERE IS CHANGE
        $tmpHtml = new DOMDocument();
        $tmpHtml-&gt;appendChild($tmpHtml-&gt;importNode($template_html-&gt;item(0), true)); 
        $template_html = trim($tmpHtml-&gt;saveHTML());

        //REST OF CODE
    }
}
</code></pre>

<p>I've only made change for <code>$template_html</code>, but I think you can now do the rest.</p>
