<p>It helps to replace this line:</p>

<pre><code>    response = yield from protocol.request(request).response
</code></pre>

<p>with this:</p>

<pre><code>    protocol_request = protocol.request(request)
    protocol_request.observation.register_callback(observation_callback)
    response = yield from protocol_request.response
</code></pre>

<p>where <code>observation_callback</code> is a function defined as:</p>

<pre><code>def observation_callback(response):
    print("callback: %r" % response.payload)
</code></pre>

<p>Now the message payload is printed whenever a new notification message is received from the server.</p>
