<p>You could create a different script called, say, <code>user_logged_in.php</code>, which would take a user ID as parameter and would output <code>1</code> if that user is logged in or <code>0</code> otherwise. Then you can call that script from any domain.</p>

<p>Just make sure the call is secure. Maybe also include a key that must have a certain value in order for the script to respond, or check the IP of the caller to be that of domain2.com.</p>

<p>For example, you could access the script at a URL like:</p>



<pre class="lang-none prettyprint-override"><code>http://www.domain.com/handlers/user_logged_in.php?id=48&amp;key=SECRET_KEY
</code></pre>

<p>Then you would check in <code>user_logged_in.php</code> if <code>$_REQUEST['key']</code> is indeed equal to <code>SECRET_KEY</code> (make that a little more secure though) and, if so, check the database to see if the user with id <code>48</code> is logged in or not.</p>
