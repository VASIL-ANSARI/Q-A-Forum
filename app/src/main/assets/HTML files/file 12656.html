<p>You could export the whole class (and optionally use the pimpl idiom, but that's not mandatory):</p>

<p>In your DLL header file "MyDll.h", write the following:</p>

<pre><code>#ifdef MYDLL_EXPORTS
#define MYDLL_API __declspec(dllexport)
#else
#define MYDLL_API __declspec(dllimport)
#endif

class MYDLL_API MyClass
{
...
};
</code></pre>

<p>Then, make sure that MYDLL_EXPORTS is defined in your DLL project only, so when you compile your DLL, your class is "dllexported", while when included in your main application, it's "dllimported".</p>

<p>Also, you won't need the .def file anymore.</p>
