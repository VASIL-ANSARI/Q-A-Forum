<p>Notepad saves Unicode files with a byte order mark. This means that the first bytes of the file will be:</p>

<ul>
<li>EF BB BF -- UTF-8</li>
<li>FF FE -- "Unicode" (actually UTF-16 little-endian, looks like)</li>
<li>FE FF -- "Unicode big-endian" (looks like UTF-16 big-endian)</li>
</ul>

<p>Other text editors may or may not have the same behavior, but if you know for sure Notepad is being used, this will give you a decent heuristic for auto-selecting the encoding. All these sequences are valid in the ANSI encoding as well, however, so it is possible for this heuristic to make mistakes. It is not possible to guarantee that the correct encoding is used.</p>
