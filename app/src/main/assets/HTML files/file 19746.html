<p>In C, declaring <code>struct foo</code> does not introduce a type called <code>foo</code>.</p>

<p>You need to:</p>

<ul>
<li>Say <code>struct node</code> wherever you say <code>node</code>,</li>
<li>or add <code>typedef struct node node</code>.</li>
</ul>
