<p>the following should work [<em>updated</em>]</p>

<pre><code>$(':checkbox').click( function() {
  // check if the label following the checkbox  is 'All'
  if ( $(this).next('label').text() == 'All') 
    {
     if ( $(this).is(':checked'))
       $(':checkbox').attr('checked', true)
     else
       $(':checkbox').attr('checked', false);
    }
} );
</code></pre>

<p>And more correct, instead of checking the next label, we should check the label that corresponds to the clicked checkbox according to the <code>for</code> attribute..</p>

<p>so </p>

<pre><code>if ( $(this).next('label').text() == 'All') 
</code></pre>

<p>could be</p>

<pre><code>if ( $('label[for="'+$(this).attr('id')+'"]').text() == 'All') 
</code></pre>
