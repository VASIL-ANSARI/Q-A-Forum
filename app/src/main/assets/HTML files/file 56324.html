<p>This is an interesting question since it actually involves measuring the text width and height given line breaks but also given possible word wrapping. All subject to constraints (i.e. the width)</p>

<p>My suggestion is not to count the number of new lines etc rather than to let <code>Qt</code> measure the <a href="http://doc.qt.io/qt-5/qfontmetrics.html#boundingRect-2" rel="nofollow">text bounding rectangle (link to Qt5)</a>. So given the maximum width of <code>500</code> and a large enough height for a limiting rectangle you could do something like this:</p>

<pre><code>font = self.msgtext.currentFont()
metric = QFontMetric(font)
rect = metric.boundingRect(0, 0, 500, 10000, 
                           Qt.AlignTop | Qt.AlignLeft | Qt.TextWordWrap,
                           self.msgtext.toPlainText())
</code></pre>

<p>the resulting height would be found in <code>rect</code></p>

<pre><code>rect.height()
</code></pre>

<p>Note, this is only a guide, it doesn't provide working code. Also it won't solve arising issues right away.</p>
