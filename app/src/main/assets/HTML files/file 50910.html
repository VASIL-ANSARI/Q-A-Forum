<p>During a test session the test runner <a href="https://github.com/django/django/blob/2425f6fda099a2134dbf72c8a30270cc9a659f1e/django/test/runner.py#L398" rel="nofollow">sets up</a> a local memory backend (by calling <a href="https://github.com/django/django/blob/2085d8d5bc2625076983d3be14b30ea684c3f0d5/django/test/utils.py#L95" rel="nofollow"><code>django.test.utils.setup_test_environment()</code></a>), which will simply append sent mails to <code>mail.outbox</code> instead of really sending them, therefore changing your email user and password settings won't have an effect.</p>

<p>Also, invalid user and password settings shouldn't generate a BadHeaderError, that's only used when a header contains newline or carriage return characters.</p>
