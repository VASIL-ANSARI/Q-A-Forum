<p>Also, what if you have three level instead of two ? What if you have four ? I recommend you to go with the conventional practice of keeping trace of the line where the actual log() call appears.</p>

<pre><code>class client
{
  public function get_some_data()
  {
    $data = $this-&gt;get_my_data();

    if (empty($data)) {
      $this-&gt;log-&gt;add('no data in sight');
    }

    // lots of processing

    if ($something) {
      $this-&gt;log-&gt;add('data was corrupted');
    }
  }
}

//...

$client-&gt;get_some_data();
</code></pre>

<p>If you only log the upper level call, you would only know that it happened in get_some_data() but not where exactly. You might think "Yes but I can find it using the exact error that was logged", but when you are digging logs to pinpoint a problem that is really not what you want to be doing.</p>

<p>If you have several call to this function and you want more informations about which one logged the line, what you can do is store a minimal stack trace alongside your log, see <a href="http://php.net/manual/en/function.debug-backtrace.php" rel="nofollow">debug_backtrace()</a>. It can be as minimal as</p>

<pre><code>2011-12-25 17:02:37 ERROR "data was corrupted" at /path/client.php:6 (called from /path/somefile.php:57)
</code></pre>

<p>I would also strongly recommend that you add different logging level, because the logging you want in dev/debug situation is not the one you want in production.</p>
