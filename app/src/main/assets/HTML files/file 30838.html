<p>Here are the results I get. For me (gcc 4.6.3) -O3 -funroll-loops wins.</p>

<pre><code>&gt; gcc -o s s.c                                               
&gt; time ./s                                                   
Elapsed time: 13
./s  13.08s user 0.00s system 99% cpu 13.088 total

&gt; gcc -o s s.c -O1                                           
&gt; time ./s                                                   
Elapsed time: 16
./s  16.02s user 0.00s system 99% cpu 16.042 total

&gt; gcc -o s s.c -O2                                           
&gt; time ./s                                                   
Elapsed time: 16
./s  16.06s user 0.00s system 99% cpu 16.076 total

&gt; gcc -o s s.c -O3                                           
&gt; time ./s                                                   
Elapsed time: 7
./s  7.38s user 0.00s system 99% cpu 7.381 total

&gt; gcc -o s s.c -O3 -funroll-loops                            
&gt; time ./s                                                   
Elapsed time: 6
./s  6.04s user 0.00s system 99% cpu 6.046 total
</code></pre>

<p>(Note: "Elapsed time" line excludes the time spent in building the test array -- but it's negligible).</p>
