<p>As suggested by @jksnw in the comments, you can use <code>itertools.product</code> to do this:</p>

<pre><code>import itertools

dct = {
    'bk1': {
        'k11': ['a1', 'b1', 'c1'],
        'k12': ['a2', 'b2', 'c2']
    },
    'bk2':{
        'k21': ['d1', 'e1'],
        'k22': ['d2', 'e2'],
        'k23': ['d3', 'e3']
    },
    'bk3': {
        'k31': ['f1', 'g1', 'h1'],
        'k32': ['f2', 'g2', 'h2']
    }
}

big_keys = dct.keys()
small_keys = (dct[big_key].keys() for big_key in big_keys)

res = {}
for keys_from_each in itertools.product(*small_keys):
    key = "_".join(keys_from_each)

    value = []
    for big_key, small_key in zip(big_keys, keys_from_each):
        value.extend(dct[big_key][small_key])

    res[key] = value
</code></pre>

<p>So that:</p>

<pre><code>&gt;&gt;&gt; res

{'k11_k21_k31': ['a1', 'b1', 'c1', 'd1', 'e1', 'f1', 'g1', 'h1'],
 'k11_k21_k32': ['a1', 'b1', 'c1', 'd1', 'e1', 'f2', 'g2', 'h2'],
 'k11_k22_k31': ['a1', 'b1', 'c1', 'd2', 'e2', 'f1', 'g1', 'h1'],
 'k11_k22_k32': ['a1', 'b1', 'c1', 'd2', 'e2', 'f2', 'g2', 'h2'],
 'k11_k23_k31': ['a1', 'b1', 'c1', 'd3', 'e3', 'f1', 'g1', 'h1'],
 'k11_k23_k32': ['a1', 'b1', 'c1', 'd3', 'e3', 'f2', 'g2', 'h2'],
 'k12_k21_k31': ['a2', 'b2', 'c2', 'd1', 'e1', 'f1', 'g1', 'h1'],
 'k12_k21_k32': ['a2', 'b2', 'c2', 'd1', 'e1', 'f2', 'g2', 'h2'],
 'k12_k22_k31': ['a2', 'b2', 'c2', 'd2', 'e2', 'f1', 'g1', 'h1'],
 'k12_k22_k32': ['a2', 'b2', 'c2', 'd2', 'e2', 'f2', 'g2', 'h2'],
 'k12_k23_k31': ['a2', 'b2', 'c2', 'd3', 'e3', 'f1', 'g1', 'h1'],
 'k12_k23_k32': ['a2', 'b2', 'c2', 'd3', 'e3', 'f2', 'g2', 'h2']}
</code></pre>

<p>Here, <code>itertools.product</code> is used to get a list of the "small keys" that we take from each block:</p>

<pre><code>&gt;&gt;&gt; big_keys = dct.keys()
&gt;&gt;&gt; small_keys = (dct[big_key].keys() for big_key in big_keys)
&gt;&gt;&gt; list(itertools.product(*small_keys))

[('k12', 'k22', 'k31'),
 ('k12', 'k22', 'k32'),
 ('k12', 'k23', 'k31'),
 ('k12', 'k23', 'k32'),
 ('k12', 'k21', 'k31'),
 ('k12', 'k21', 'k32'),
 ('k11', 'k22', 'k31'),
 ('k11', 'k22', 'k32'),
 ('k11', 'k23', 'k31'),
 ('k11', 'k23', 'k32'),
 ('k11', 'k21', 'k31'),
 ('k11', 'k21', 'k32')]
</code></pre>
