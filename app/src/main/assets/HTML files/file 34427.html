<p>try this</p>

<pre><code> while(current-&gt;next!=NULL)
</code></pre>

<p>as opposed to this</p>

<pre><code> while(current!=NULL)
</code></pre>

<p>when you get to the last node you are calling tmp->next which is past the last node. so your pointer is pointing to the middle of nowhere.</p>
