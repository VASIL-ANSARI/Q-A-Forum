<p>So typically what you need is the application.js &amp; application.css files to reference all the css &amp; js files to compile them. Anything you don't have in there, you need to have in another manifest file that you add to the precompile path. Or that you add manually to the precompile path.</p>

<p>So if you have:</p>

<pre><code>assets/
  stylesheets/
    application.css
    styles/
    mobile.css
</code></pre>

<p>Application.css includes everything in styles folder. What your precompile path should look like is this:</p>

<pre><code>config.assets.precompile += %w(mobile.css)
</code></pre>

<p>Now you showed scanning for various extensions. You can really add those to the array, you don't need to grab full file paths or anything fancy.</p>

<pre><code>config.assets.precompile += %w(mobile.css .css .eot .htc)
</code></pre>

<p>And so on.</p>

<p>Now keep in mind that if you use folders other than: assets/images, assets/stylesheets or assets/javascripts, add the folders as you need to in the production.rb:</p>

<pre><code> config.assets.paths &lt;&lt; Rails.root.join("app", "assets", "fonts")
 config.assets.paths &lt;&lt; Rails.root.join("vendor", "assets", "audio")
</code></pre>

<p>Then the wildcards in the precompile path will come into play.</p>

<p>To test this, simply setup production on your computer, and run the rake command:</p>

<pre><code>RAILS_ENV=production bundle exec rake assets:precompile
</code></pre>

<p>And look at the output in public. I'm pretty sure the environment defaults to production for that command, but may as well be explicit.</p>
