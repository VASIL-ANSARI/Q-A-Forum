<p>So as far as I see, you have two lines, that set <code>$y</code>.</p>

<pre><code>`$y = 0;`
</code></pre>

<p>and</p>

<pre><code>// Put tables into an array
while ($row = mysql_fetch_array($resource)) {
  // If statement to find position of username in array
  if($arrayofdata[$n]['username'] == $username){
    $y = $n;
  }
  $arrayofdata[$n] = $row;
  $n++;
}
</code></pre>

<p>Looking further you see this three lines:</p>

<pre><code>$arrayofdata = array(); //create EMPTY array
[...]
if($arrayofdata[$n]['username'] == $username){ //check index $n
[...]
$arrayofdata[$n] = $row; //set index $n
</code></pre>

<p>You access <code>$arrayofdata[$n]</code> before you set it. I guess your if-statement throws a PHP-Warning, control your logs ;)
You set <code>$y = $n</code> in the code that follows if your <code>if</code>-statement is true. As <code>$arrayofdata[$n]</code> doesn't exist, the if-clause if always false and <code>$y</code> stays 0.</p>
