<p>In your code</p>

<pre><code>a[n][n]
</code></pre>

<p>invokes <a href="https://en.wikipedia.org/wiki/Undefined_behavior" rel="nofollow">undefined behaviour</a>. as you've used <code>n</code>'s. value uninitialized. That's certainly not how you use <a href="https://en.wikipedia.org/wiki/Variable-length_array" rel="nofollow">VLA</a>.</p>

<p>For reference, from <code>C11</code> standard document</p>

<p><strong>Point 1.</strong> Chapter <code>6.7.9</code>, paragraph 10,</p>

<blockquote>
  <p>If an object that has automatic storage duration is not initialized explicitly, its value is
  indeterminate.</p>
</blockquote>

<p><strong><em>....[The case for <code>int n</code>, <code>n</code> is not initialized explicitly]</em></strong></p>

<p>and </p>

<p><strong>Point 2.</strong></p>

<p>from the Annex J, chapter <code>J.2</code>, reasons for undefined behaviour,</p>

<blockquote>
  <p>The value of an object with automatic storage duration is used while it is
  indeterminate.</p>
</blockquote>

<p><strong><em>....[The case of <code>a[n][n],</code>]</em></strong></p>

<p><strong>Solution:</strong></p>

<p>You need to move the definition of <code>a</code> after you have successfully <em>scanned</em> the value of <code>n</code>.</p>
