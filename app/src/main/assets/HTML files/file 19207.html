<p><code>if ($('#tokens'))</code> will return an empty array (<code>[]</code>), so no matter what that will always evaluate to true. I'm guessing you want <code>if ($('#tokens').length)</code>. If there is an item in the array it will evaluate to true, if it's empty it evaluates to false.</p>

<p>What's tripping you up is when the variable is being set. <code>bparam</code> is being set on page load. I would bind it to be set when whatever is triggering the event occurs.</p>
