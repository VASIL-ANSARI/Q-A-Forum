<p>The CI Session Class will allow you to store sessions in the database (note that this doesn't negate the use of cookies, just adds an extra layer of persistence for security in case you need to validate a session ID). Here is the sql statement to create the session table.</p>

<pre><code>CREATE TABLE IF NOT EXISTS  `ci_sessions` (
    session_id varchar(40) DEFAULT '0' NOT NULL,
    ip_address varchar(16) DEFAULT '0' NOT NULL,
    user_agent varchar(120) NOT NULL,
    last_activity int(10) unsigned DEFAULT 0 NOT NULL,
    user_data text NOT NULL,
    PRIMARY KEY (session_id),
    KEY `last_activity_idx` (`last_activity`)
);
</code></pre>

<p>Then, you need to tell CI to use the database for session data:</p>

<pre><code>// in /application/config.php
$config['sess_use_database'] = TRUE;

// and what the name of the db table is
$config['sess_table_name'] = 'ci_sessions';
</code></pre>

<p>Then, when you log in your user, you'd add details to their session data:</p>

<pre><code>$this-&gt;session-&gt;set_userdata('id', $user_id);
$this-&gt;session-&gt;set_userdata('username', $username);
$this-&gt;session-&gt;set_userdata('email', $email);
$this-&gt;session-&gt;set_userdata('isLogged', TRUE);
</code></pre>

<p>And this is what you'd use to see if someone has access to a page or resource.</p>

<pre><code>if ($this-&gt;session-&gt;userdata('isLogged') === TRUE)
{
    // show page
}
else
{
    // show access error
}
</code></pre>
