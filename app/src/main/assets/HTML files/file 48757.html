<p>Hopefully this will help you.</p>

<p>Because each div needs to have a unique color, they've been created individually, outside of the loop. They then get added to an array, which is iterated through in order to add them to the DOM, attach event listeners, and apply various CSS styles. Inside the click handler, we grab the value of the div's "data-color" attribute and use it to update the div's background-color style.</p>

<pre><code>&lt;script&gt;
  var div1 = document.createElement("div");
  div1.setAttribute("data-color", "red");

  var div2 = document.createElement("div");
  div2.setAttribute("data-color", "green");

  var div3 = document.createElement("div");
  div3.setAttribute("data-color", "blue");

  var divs = [div1, div2, div3];

  for (var i = 0; i &lt; divs.length; i++) {
    divs[i].style.width = "50px";
    divs[i].style.height = "50px";
    divs[i].style.margin = "5px";
    divs[i].style.backgroundColor = "#CCC";
    divs[i].addEventListener('click', clickResponse);
    document.body.appendChild(divs[i]);
  }

  function clickResponse(event) {
    var bgColor = event.target.getAttribute("data-color");
    event.target.style.backgroundColor = bgColor;
  }
&lt;/script&gt;
</code></pre>
