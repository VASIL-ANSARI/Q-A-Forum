<p><code>row_array()</code> returns the first row only. If you want all the records to be returned, use <code>result_array()</code> instead</p>

<pre><code>$result = $query-&gt;result_array();
return $result;
</code></pre>
