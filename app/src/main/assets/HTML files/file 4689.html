<p>Comes down to preference of course.  I would say that the above is pretty acceptable.  Simple conditions and loops are pretty standard in a view.  I would say the things to avoid would be assigning variables, hitting models for data you haven't already gathered, etc.</p>

<p>If you don't want anything like tha in there, you can always build helpers.  This kind of thing has to be somewhere.</p>

<p>edit:</p>

<p>a good rule of thumb is "does this code directly relate to the presentation?"  I would say the answer regarding your above case is yes.</p>
