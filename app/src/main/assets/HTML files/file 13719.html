<blockquote>
  <p>The problem is that I dont know how to check what flags are on with
  s.sa_flags</p>
</blockquote>

<p>You can test bits, for example:</p>

<pre><code>if (s.sa_flags &amp; SA_RESTART)
    ....
</code></pre>
