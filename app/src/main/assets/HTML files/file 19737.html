<p>You don't need to extend <code>Provider</code>. Just create your own <code>ProviderFactory</code> that will take reference to <code>lifecycle</code> and will create <code>PropertySetter</code> and then <code>Provider</code>:</p>

<pre><code>public class ProviderFactory {

  public static create(Lifecycle lc) {
    return new Provider(lc, new PropertySetter(lc));
  }
}
</code></pre>

<p>Here is Spring declaration:</p>

<pre><code>&lt;bean id="defaultProvider" scope="prototype" 
      class="a.b.c.ProviderFactory" factory-method="create"&gt;
    &lt;constructor-arg ref="lifecycle" /&gt;
&lt;/bean&gt;
</code></pre>
