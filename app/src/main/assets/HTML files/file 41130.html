<p>Sure there is a way:</p>

<pre><code>void f(bool c, vector&lt;T&gt;&amp; a, list&lt;T&gt;&amp; b) {
    auto lambda = [&amp;](T&amp; t) {/* your magic here */}
    if(c)
        for(auto&amp;&amp; x : a)
            lambda(x);
    else
        for(auto&amp;&amp; x : b)
            lambda(x);
}
</code></pre>

<p>You can do the same with full functions equally well.</p>

<p>But before you complain about the huge runtime-penalty of calling a function vs. having it inlined, measure and compare!<br>
(The same about binary-size for inlining, naturally.)</p>
