<pre><code>targetPic = str.replace('#', '');
</code></pre>

<p>should be</p>

<pre><code>targetPic = targetPic.replace('#', '');
</code></pre>

<p><a href="http://www.tizag.com/javascriptT/javascript-string-replace.php" rel="nofollow">since there is no variable</a> <code>str</code> imho</p>

<p><a href="http://forum.jquery.com/topic/jquery-attr-href-giving-full-path-instead-of-relative-in-ie" rel="nofollow">but this code <strong>will not work</strong></a> in browsers where <code>$(this).attr('href');</code>returns the full absolute url (thiat is including <code>http://......#</code>) like some versions of IE</p>
