<p>That happens because built-in sessions mechanism locks session file if some request still uses it.</p>

<p>So the possible solution for you is to release session in long living code by <code>session_write_close()</code></p>

<p><sub>
PS: oh, haven't seen there is such comment from @chris. As a justification it is not a stealing an answer I put this link, that proofs I answered similar question before: <a href="http://stackoverflow.com/a/6405685/251311">http://stackoverflow.com/a/6405685/251311</a>
</sub></p>
