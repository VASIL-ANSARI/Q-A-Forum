<p>The best way would likely be to write your own daemon which runs, forks child processes, monitors them, and will restart them as needed.  </p>

<p>Take a look at <a href="http://php.net/manual/en/book.pcntl.php" rel="nofollow">http://php.net/manual/en/book.pcntl.php</a></p>

<p>However, in your case, there may be a simpler answer...  Put a one minute crontab in place which calls your loader script, like this:</p>

<pre><code>* * * * *  /usr/bin/php /path/to/loader.php
</code></pre>

<p>The loader script can be a simple shell script (or php script).  Run this command in the shell.  It will return the number of instances of the script you are running.</p>

<pre><code>ps aux | grep "/usr/bin/php /path/to/thing/you/run.php" | grep -v grep | wc -l
</code></pre>

<p>If # instances > 3, then do not start one.  Otherwise, start one.  If in PHP, you can simply include the desired file.  If in bash, just write <code>/usr/bin/php /path/to/thing/you/run.php</code></p>

<p>Hope it helps some!</p>
