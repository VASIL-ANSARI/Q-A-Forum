<p>That code is badly outdated. It's based on a preview release of Web API. In the final version of Web API, the correct configuration hook for dependency injection is</p>

<pre class="lang-cs prettyprint-override"><code>config.DependencyResolver = new MyDependencyResolver();

public class MyDependencyResolver : IDependencyResolver
{
    public IDependencyScope BeginScope()
    {
        // return a different instance if you want to dispose resources
        return this;
    }

    public object GetService(Type serviceType)
    {
        if (t == typeof(TasksController))
        {
            return new TasksController(new TaskRepository());
        }

        if (t == typeof(OtherController))
        {
            return new OtherController();
        }

        if (t == typeof(OneMoreController))
        {
            return new OneMoreController();
        }

        return null;
    }

    public IEnumerable&lt;object&gt; GetServices(Type serviceType)
    {
        return null;
    }

    public void Dispose()
    {
    }
}
</code></pre>
