<pre><code>select username from table1 where username in
(
select username from (
select  username ,
count( * )
from table2 
group by username
having count( * ) &gt; 5
) as x
);
</code></pre>

<p>tested on mysql 5.6 :<a href="http://sqlfiddle.com/#!9/ea7152/1" rel="nofollow">schema and code</a></p>
