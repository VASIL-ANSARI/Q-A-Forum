<p>It sounds like a curious (and rather wasteful) setup to run in an app server and then run another web server inside ... Guess you have your reasons for this self inflicted complexity :-)</p>

<p>The first and easiest solution is probably to not use the whiteboard and use Declarative Services references and then just register with the given http service. Then you can use Config Admin to set the target filter for the Http Service reference. Alternatively, you can just register at all Http Services.</p>

<p>Second solution is to fix the Apache Felix Whiteboard service, allow it to be configured to all Http Services or a specific one through Config Admin. You can also make your own whiteboard bundle, it is a very small bundle and quite trivial, especially with DS. Please donate it (back) to Apache Felix if you do.</p>

<p>Third solution is to use Service Hooks and ensure that the Whiteboard bundle only sees the correct Http Service. Again use Config Admin for configuring such a bundle. A bit hackish though.</p>

<p>Fourth solution, let ActiveMQ run in a separate framework and export its service(s) to the client framework. Not sure if this is feasible, works in general very well with service oriented bundles. This could use OSGi subsystems but not sure how far along the implementations are for this is.</p>

<p>Last solution, would be my preference, get rid of the problem and let the ActiveMQ run on the bridge web server under a properly protected path or alternatively use Jetty as your web server and skip Tomcat.</p>
