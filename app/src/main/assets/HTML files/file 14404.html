<p>Looks like <code>split</code> will work better here:</p>

<pre><code>var paramsMap = {};
var params = string.split("&amp;");
for (var i = 0; i &lt; params.length; ++i) {
    var keyValue = params[i].split("=", 2);
    paramsMap[keyValue[0]] = keyValue[1];
}
</code></pre>

<p>If you desperately want to use a regex, you need to use the <code>g</code> flag and the <code>exec</code> method. Something along the lines of</p>

<pre><code>var regex = /([^=]+)=([^&amp;]+)&amp;?/g;
var paramsMap = {};
while (true) {
    var match = regex.exec(input);
    if (!match)
        break;
    paramsMap[match[1]] = match[2];
}
</code></pre>

<p>Please note that since the <code>regex</code> object becomes stateful, you either need to reset its <code>lastIndex</code> property before running another extraction loop or use a new <code>RegExp</code> instance.</p>
