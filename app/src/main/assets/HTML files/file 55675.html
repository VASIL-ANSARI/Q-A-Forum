<p>You've run into the <a href="http://docs.python-guide.org/en/latest/writing/gotchas/#late-binding-closures" rel="nofollow">"late binding closures" <em>gotcha</em></a>.  All the calls to <code>cons_i</code> are being made with the second argument equal to 19.</p>

<p>A fix is to use the <code>args</code> dictionary element in the dictionary that defines the constraints instead of the lambda function closures:</p>

<pre><code>cons_per_i = [{'type':'eq', 'fun': cons_i, 'args': (i,)} for i in np.arange(m)]
</code></pre>

<p>With this, the minimization works:</p>

<pre><code>In [417]: sol2 = minimize(obj, x0 = z0, constraints = cons_per_i, method = 'SLSQP', options={'disp': True})
Optimization terminated successfully.    (Exit mode 0)
            Current function value: 2.1223622086
            Iterations: 6
            Function evaluations: 192
            Gradient evaluations: 6
</code></pre>

<p>You could also use the the suggestion made in the linked article, which is to use a lambda expression with a second argument that has the desired default value:</p>

<pre><code>cons_per_i = [{'type':'eq', 'fun': lambda z, i=i: cons_i(z, i)} for i in np.arange(m)]
</code></pre>
