<p>The registered service name <code>some\class\baseClass</code> is internally formatted by the service manager. The formatting is simply to lowercase and remove any non-alphanumeric characters, which results in <code>someclassbaseclass</code>. </p>

<p>When you create an abstract factory, you have the choice of both the name you <em>requested</em> in the <code>$serviceManager-&gt;get($requestedName)</code> method call and <em>also</em> the service manager's internal name <code>$name</code> (<code>someclassbaseclass</code>).</p>

<p>So the only change would be to replace the uses of <code>$name</code> with <code>$requestedName</code>.</p>

<pre><code>use Zend\ServiceManager\AbstractFactoryInterface;
use Zend\ServiceManager\ServiceLocatorInterface;

class baseClassFactory implements AbstractFactoryInterface
{
    public function canCreateServiceWithName (ServiceLocatorInterface $locator, $name, $requestedName)
    {
        return ('baseClass' === $requestedName || is_subclass_of($requestedName, 'baseClass'));
    }

    public function createServiceWithName (ServiceLocatorInterface $locator, $name, $requestedName)
    {
        $db = $locator-&gt;get('db');

        return new $requestedName($db);
    }
}
</code></pre>
