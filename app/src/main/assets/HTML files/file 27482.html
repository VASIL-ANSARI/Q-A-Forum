<p>I think the problem lies with the FSX object.
Where is this loaded?</p>

<p>If it has not been loaded before the script defining your module executes, the code will error out and Crm will be undefined.</p>

<p>There is a nicely written article <a href="http://www.develop1.net/public/post/Asynchronous-loading-of-JavaScript-Web-Resources-after-U12POLARIS.aspx" rel="nofollow">here</a> about loading dependant libraries for a CRM form.</p>

<p>It proposes are a number of solutions:
1) Use RequireJs or HeadJs to dynamically load your dependant scripts.
2) Loading Libraries by including them in Ribbon commands.</p>
