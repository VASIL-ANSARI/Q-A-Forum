<p>The call that set the sampler uniform shall not set GL_TEXTUE0, but actually 0.</p>

<p>Indeed:</p>

<pre><code>glUniform1i(location, 0)
</code></pre>

<hr>

<p>For setting up a sampler uniform do:</p>

<pre><code>glUseProgram(progId);
// ...
glActiveTexture(GL_TEXTURE0 + texUnit);
glBindTexture(texId);
glUniform1i(texUnit);
</code></pre>

<p>The main concept is that the uniform variable are a shader program state (it is mantained until you re-link the program or reset the uniform value). Without binding a program, glUniform1i shall fail since there's not shader program at which it can set the uniform value!</p>

<hr>

<p>As a general advice, call <em>glGetError</em> after each OpenGL call to detect these conditions. Most of those calls can be removed by preprocessor in release version.</p>
