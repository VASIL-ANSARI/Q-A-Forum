<p>Sorry for the confusion. Your conflict handler will never be called in this scenario. Conflicts in Amazon Cognito only occur if both the local and remote data change in between a synchronization. Because you are changing data <strong>and</strong> merging an identity at the same time, the merge flow occurs. </p>

<p>When an identity merge is detected, the Amazon Cognito library does the following:</p>

<ol>
<li>renames all local datasets to "NAME.old_identity_id"</li>
<li>calls the merge handler (if defined).</li>
</ol>

<p>This means that if you made a change but did not synchronize, then logged in and caused an identity merge, the local change would never be propagated to the remote sync store unless you used the second flow from the <a href="http://docs.aws.amazon.com/cognito/devguide/sync/handling-callbacks/" rel="nofollow">developer guide</a> and copied the data as necessary. I suspect this is what is causing your second issue.</p>

<p>As to your first, are you sure the merge handler is not being called? Can you add some debugging to your handler to see if it is actually being called?</p>
