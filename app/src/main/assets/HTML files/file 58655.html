<p><code>di</code> and <code>df</code> are already dates. You're trying to use them as argument to <code>Date</code>, i.e. <code>new Date(new Date)</code>. That's a) rather nonsensical and b) where your error comes from (<code>new Date</code> accepts an integer or string as argument, not a <code>Date</code>).</p>

<p>Get rid of the <code>new Date()</code> around <code>df</code> and <code>di</code>.</p>
