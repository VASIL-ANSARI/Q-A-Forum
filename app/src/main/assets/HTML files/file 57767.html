<p>The <a href="http://mxr.mozilla.org/seamonkey/source/security/nss/lib/ckfw/builtins/certdata.txt?raw=1" rel="nofollow">place where the certificates are imported from</a> currently redirects to <a href="https://hardhat.cdn.mozilla.net/en-US/outages.html" rel="nofollow">an under construction/outage page</a>. Once the maintenance is done, try again. I think this is a tad bit of a blunder on either Mozilla or the mozroots maintainer. All you see in the console output is either a stack trace or <code>Couldn't retrieve the file using the supplied information.</code> depending on your build of mozroots.</p>

<p><a href="http://i.stack.imgur.com/816DY.jpg" rel="nofollow"><img src="http://i.stack.imgur.com/816DY.jpg" alt="Sadness"></a></p>

<p>The workaround is to somehow use certmgr to import the correct CA certs, and then import the endpoint certs (use <code>certmgr -ssl -m https://api.nuget.org</code>). If the CA for the certs are missing, the certs are considered invalid. If the certs are considered invalid, you can import them, but the restore will still panic, calling out the certs lack of matching issuer CA cert.</p>

<p>I say somehow, because I haven't figured out a good safe way to recommend doing it yet. I'm definitely going to have the proper mozroots certs baked into the next mono+dotnet docker image I build.</p>

<p>Newer builds of mozroots have command line parameters to substitute the certificate data endpoint. Going to use <a href="http://web.archive.org/web/20141205154834/http://mxr.mozilla.org/seamonkey/source/security/nss/lib/ckfw/builtins/certdata.txt?raw=1" rel="nofollow">a web.archive.org copy</a> as a substitute for <code>mozroots --url ...</code> for now. Going to see if I can just use <a href="https://hg.mozilla.org/mozilla-central/raw-file/tip/security/nss/lib/ckfw/builtins/certdata.txt" rel="nofollow">this</a> or maybe <a href="https://hg.mozilla.org/services/services-central/raw-file/tip/security/nss/lib/ckfw/builtins/certdata.txt" rel="nofollow">this</a> instead, or perhaps another <code>certdata.txt</code> from Mozilla's official mercurial repo.</p>
