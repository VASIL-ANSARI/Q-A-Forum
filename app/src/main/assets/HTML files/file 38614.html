<p>You have made a typical mistake not to tell the linker about visibility. If you create the library you need to expose so called library symbols. The easiest way to check that is to use nm utility like this (-g means - show extern symbols only):</p>

<pre><code>nm -g &lt;your library&gt;
</code></pre>

<p>The solution is quite simple but varies from compiler to compiler. For GCC/CLang it is <strong>attribute</strong> but almost all support <strong>extern</strong>. Typical usage looks like that somewhere in your top configuration file:</p>

<pre><code>#if COMPILER_HAS_ATTR_HIDDEN_VISIBILITY   // GCC with -fvisibility=hidden
#define PUBLIC_API            __attribute__((visibility("default")))
#define PRIVATE_API           __attribute__((visibility("hidden")))
#elseif COMPILER_HAS_DECLSPEC_VISIBILITY  // Microsoft C++
#define PUBLIC_API            __declspec(dllexport)
#define PRIVATE_API
#else
#define PUBLIC_API            extern
#define PRIVATE_API
#endif
</code></pre>

<p>Now redeclare your class:</p>

<pre><code>// Exposed class
class PUBLIC_API A
{

};
</code></pre>

<p>Another question is how to detect that with your building toolchain but that is out of scope of your question. For quick prove - add extern keyword to your class declaration and rebuild the library.</p>
