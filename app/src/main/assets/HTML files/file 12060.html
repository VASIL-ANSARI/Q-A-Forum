<p>You're not actually doing an assigment in your view code, just evaluating a statement.</p>

<p>Try (note the <strong><em>||=</em></strong>, as compared to <strong><em>||</em></strong> in your code):</p>

<pre><code>&lt;% @product.categories ||= {"0" =&gt; {"category_name"=&gt; nil, "effective_date"=&gt; nil},"1" =&gt; {"category_name" =&gt; nil, "effective_date"=&gt; nil}} %&gt;
</code></pre>
