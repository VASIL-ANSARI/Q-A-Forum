<p>In order to have a SupportMapFragment nested inside a Fragment, you need to use <code>getChildFragmentManager()</code> instead of <code>getFragmentManager()</code>.</p>

<p>So, you would change this:</p>

<pre><code> mMap = ((SupportMapFragment) getFragmentManager().findFragmentById(R.id.map)).getMap();
</code></pre>

<p>To this, and also move all of the code referencing <code>mMap</code> to <code>onResume()</code>:</p>

<pre><code> mMap = ((SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.map)).getMap(); 
</code></pre>

<p>If you go this route you will also need to fix your layout xml to use a SupportMapFragment:</p>

<pre><code>&lt;fragment
        android:id="@+id/map"
        class="com.google.android.gms.maps.SupportMapFragment"
        android:layout_width="match_parent"
        android:layout_height="match_parent"/&gt;
</code></pre>

<p>However, it would be best to not have nested Fragments if you don't need to, since it can lead to <a href="http://stackoverflow.com/questions/14083950/duplicate-id-tag-null-or-parent-id-with-another-fragment-for-com-google-androi">other problems</a>.</p>

<p>A better approach is just to make the Fragment extend SupportMapFragment.  Doing it this way, you don't even need a layout xml file.</p>

<p>Example:</p>

<pre><code>public class MapView extends SupportMapFragment 
                                    implements OnMapReadyCallback {

    private GoogleMap mMap;
    private Marker marker;


    public MapView() {
    }

    @Override
    public void onResume() {
        super.onResume();

        setUpMapIfNeeded();
    }

    private void setUpMapIfNeeded() {

        if (mMap == null) {

            getMapAsync(this);
        }
    }

    @Override
    public void onMapReady(GoogleMap googleMap) {

        mMap = googleMap;
        setUpMap();
    }

    private void setUpMap() {

        mMap.setMyLocationEnabled(true);
        mMap.setMapType(GoogleMap.MAP_TYPE_HYBRID);
        mMap.getUiSettings().setMapToolbarEnabled(false);

    }


}
</code></pre>
