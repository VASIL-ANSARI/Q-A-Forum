<p>Try this:</p>

<p>In Model:</p>

<pre><code>class Plans extends BasePlans
{
 ...
public $planTypeSearch;
 ...

public function search() {    
...     
$criteria-&gt;compare('plan.plan_type', $this-&gt;planTypeSearch, true);
...
),
return new CActiveDataProvider($this, array(
    'criteria' =&gt; $criteria,
    'sort'=&gt;array(
        'attributes'=&gt;array(
            'planTypeSearch'=&gt;array(
                 'asc'=&gt;'plan.plan_type',
                 'desc'=&gt;'plan.plan_type DESC',
             ),
         ),
     ),
 );
</code></pre>

<p>In your view:</p>

<pre><code>array(
    'name'=&gt;'planTypeSearch',
    'header'=&gt; 'Plan Type',
    'value'=&gt;'(isset($data-&gt;plan)) ? $data-&gt;plan-&gt;plan_type: null',
    'filter'=&gt;isset($plans) ? CHtml::listData($plans, 'plan_type','plan_type') : NULL,
),
</code></pre>
