<blockquote>
  <p>It looks like the app is looking for columns named product.id and product.msrp as opposed to using the actual values of product.id and product.msrp when it queries the SQL table.</p>
</blockquote>

<p>Exactly. The correct way to pass values to the query would be</p>

<pre><code> where("line_items.order_id IS NOT NULL AND line_items.product_id = ? AND line_items.product_price = ?", product.id, product.msrp)
</code></pre>
