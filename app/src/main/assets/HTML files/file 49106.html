<p><code>x = x.getPred()</code> is the problem. The first check in the <code>while</code> loop is fine, but it breaks after <code>x</code> is updated the first time, then rechecked.</p>

<p>As implemented, <code>getPred</code> is returning <code>self.pred</code> (the only case where it returns a <em>value</em> from <code>self.pred</code> instead of the whole thing is broken; the length is 0, and you index, so it will raise <code>IndexError</code>). <code>self.pred</code> is a <code>list</code>.</p>
