<p>We use subdomains in some of our apps,and have found that you have to use the <code>_url</code> helper (as opposed to the <a href="http://guides.rubyonrails.org/routing.html#path-and-url-helpers" rel="nofollow"><code>_path</code> helper</a>):</p>

<p><a href="http://i.stack.imgur.com/W9Cp6.png" rel="nofollow"><img src="http://i.stack.imgur.com/W9Cp6.png" alt="enter image description here"></a></p>

<pre><code>#config/routes
constraints subdomain: "admin" do
  namespace :admin, path: "" do
    ...
  end
end
</code></pre>

<p>We call it using the following:</p>

<p><a href="http://i.stack.imgur.com/mjeQU.png" rel="nofollow"><img src="http://i.stack.imgur.com/mjeQU.png" alt="enter image description here"></a></p>

<pre><code>def after_sign_in_path_for(resource)
  if resource.admin? &amp;&amp; resource.admin_redirect?
    admin_root_url
</code></pre>

<p>--</p>

<p>So you'll be able to do the following:</p>

<pre><code>&lt;%= link_to "Logout", services_users_logout_url %&gt;
</code></pre>

<p>This will use the full URL for the link (which could be problematic), but should work okay. The path won't work because it's <em>relative</em>. You have to use the <em>url</em> because then it sets the subdomain.</p>
