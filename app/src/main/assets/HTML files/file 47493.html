<p>In your keypress handler, replace:</p>

<pre><code>var whiteSpace = ...
</code></pre>

<p>with:</p>

<pre><code>whiteSpace = ...
</code></pre>

<p>Right now you're just assigning the other function to a <em>new</em> <code>whiteSpace</code> variable that is scoped to that keypress handler function. If you want to override the previously defined <code>whiteSpace</code> variable, you need to make sure you're actually assigning to that same variable reference, not creating a new one.</p>
