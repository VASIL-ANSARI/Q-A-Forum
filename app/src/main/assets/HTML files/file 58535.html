<pre><code>ret = "no";
</code></pre>

<p>That overwrites the pointer. Change to:</p>

<pre><code>strcpy(ret, "no");
</code></pre>

<p>Same applies for the <code>"yes"</code> case.</p>

<p>Also, as pointed out by @DavidSchwartz, for your purposes it is probably not necessary to use dynamically allocated memory. Could just return the string literals directly:</p>

<pre><code>char * isActive(unsigned char a_flag)
{
    if((a_flag &amp; 1) == 1)
    {
        //is active
        return "yes";
    }
    return "no";  
}
</code></pre>

<p>And of course in that case the caller should not <code>free</code> the returned value.</p>
