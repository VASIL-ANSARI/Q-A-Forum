<p>I think you can try with callback function. The login function takes one callback param and execute that function at end.</p>

<pre><code>module.exports.login = function(username, password, callback) {
  var status;
  var userid = username;
  User.findOne({
    'username': [userid],
    'password': [password]
  }, function(err, user) {
    if (!user) {
      console.log("logged err");
      status = false;
    } else {
      console.log("login in");
      status = true;
    }
    console.log(status);
    callback(status);
  });
};
</code></pre>

<p>While calling the function login pass the third param as a callback function.</p>

<pre><code>var user_controller = require('./controllers/user_controller');
passport.use(new passportLocal(function(username, password, done) {
  user_controller.login(username, password, function(value) {
    if (value) {
      console.log(value + "true")

      done(null, {
        id: username,
        name: username
      });
    } else {
      console.log(value + "false");
      done(null, null);
    }
  })
}));
</code></pre>

<p>Note: I am not tested the above code.</p>
