<p>Ok, As Catnapper said, the code above should work! What I didn't mention was that all my middleware is inheriting a class that inherits Sinatra::Base.</p>

<p>And Sinatra has its own exception handlers, which can be modified like this</p>

<pre><code>set :raise_errors, false
set :show_exceptions, false
</code></pre>

<p>And this is how you write an exception handler in sinatra (for the example in the question):</p>

<pre><code>error Api::MissingParameterError do |parameter|
  status 400
  headers { }
  body "parameter #{parameter} missing"
end
</code></pre>
