<p>I don't know enough about your setup to determine if it's an error in the upstream code or if it's simply a race condition. My gut tells me you're racing. Try adding a sleep after the <code>click save</code> to see if that helps.</p>

<p>If your test is booting up a second process for your server (which I suspect it is) then your test is firing off a request (to be handled by the server at some future time) and then immediately checking the <code>blog</code> count. The request hasn't been handled by your server by the time you're checking the blog count.</p>

<p>Instead of checking the blog count at the database level, I'd recommend checking text or elements on the page. The user is getting some feedback from the save right? Assert against that.</p>
