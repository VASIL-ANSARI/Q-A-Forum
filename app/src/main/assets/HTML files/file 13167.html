<p>I think you can use ajaxStart and ajaxComplete event (jQuery)</p>

<pre><code>&lt;div id="indicator"&gt;&lt;img src="/path/to/your/image.gif"/&gt;&lt;/div&gt;
</code></pre>

<p>And</p>

<pre><code>$("#indicator").bind("ajaxStart", function(){
    $(this).show();
});

$("#indicator").bind("ajaxComplete", function(){
    $(this).hide();
});
</code></pre>

<p>When you use $.ajax or $.post it will show and hide the loader automatically while ajax request start and when it stop.</p>

<p>Or if you use XmlHttpRequest, you can based on readyState of XmlHttpRequest object to set indicator image.</p>

<p>For example:</p>

<pre><code>xmlHttp.onreadystatechange=function(){ 
    if (xmlHttp.readyState==4){ 
        document.getElementById("yourDiv").innerHTML=xmlHttp.responseText;
    }else if(xmlHttp.readyState==3){
        document.getElementById("yourDiv").innerHTML="&lt;img src='loader.gif' /&gt;Loading...";
   }
}
</code></pre>

<p>with readyState as:</p>

<ul>
<li>0 Uninitialized: The initial value.</li>
<li>1 Open: The open() method has been successfully called.</li>
<li>2 Sent: The UA successfully completed the request, but no data has yet been received.</li>
<li>3 Receiving: Immediately before receiving the message body (if any). All HTTP headers have been received. </li>
</ul>

<p>source:<a href="http://www.w3.org/TR/2006/WD-XMLHttpRequest-20060405/" rel="nofollow">http://www.w3.org/TR/2006/WD-XMLHttpRequest-20060405/</a></p>
