<p>You'd need to order by a subquery which retrieves the count of the child records, something like:</p>

<pre><code>order("(select count(*) from user_photos where user_photos.user_id = users.id) desc")
</code></pre>

<p>However maintaining a counter cache for user_photos on the users table would be more efficient.</p>

<pre><code>order("user_photos_count desc")
</code></pre>
