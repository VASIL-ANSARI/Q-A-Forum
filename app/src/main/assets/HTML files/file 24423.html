<p>If you check the <a href="http://linux.die.net/man/3/getopt_long" rel="nofollow">manual page</a>, you will see that:</p>

<blockquote>
  <p><strong>getopt_long()</strong> and <strong>getopt_long_only()</strong> also return the option character when a short option is recognized. For a long option, they return val if flag is NULL, and 0 otherwise.</p>
</blockquote>

<p>So if you use the short option when invoking your program, it will return that option character. For the function to behave as you want, you <em>must</em> use the long argument when invoking your program.</p>
