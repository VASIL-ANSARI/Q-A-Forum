<p>You have already moved the read pointer past the end of the file with the line:</p>

<pre><code>fp.seekg(0,std::ios::end);
</code></pre>

<p>You need to reset it back to the beginning.  You can do that with:</p>

<pre><code>fp.seekg(0,std::ios::beg);
</code></pre>
