<p>Use the <a href="http://www.yiiframework.com/doc/guide/1.1/en/database.arr#statistical-query" rel="nofollow">Statistical Query <em>STAT</em></a> provided by <strong>Active Record</strong> and force it to use the <a href="http://www.w3schools.com/sql/sql_func_sum.asp" rel="nofollow">SQL SUM function</a> by assigning  its <strong>select</strong> option :</p>

<p><em>invoice.php :</em></p>

<pre><code>public function relations()
{
    return array(
        'payments' =&gt; array(self::HAS_MANY, 'InvoicePayments', array( 'id' =&gt; 'invoice_id' )
        'paymentsSum'=&gt;array(self::STAT, 'InvoicePayments', 'invoice_id', 'select' =&gt; 'SUM(payment_amount)'),
    );
}
</code></pre>

<p>Then you can use it to load one or many models by using any of the <em>lazy</em> or <em>eager</em> approache, here is 3 different examples :</p>

<pre><code>// the lazy loading approach
$invoice=Invoice::model()-&gt;findByPk(10);
$total = $invoice-&gt;paymentsSum;

// the eager loading approach
$invoices=Invoice::model()-&gt;with('paymentsSum')-&gt;findByPk(10);
$total = $invoice-&gt;paymentsSum;

// the eager loading approach to load all invoices
$invoices=Invoice::model()-&gt;with('paymentsSum')-&gt;findAll();
$total_of_invoice_10 = $invoices[10]-&gt;paymentsSum;
</code></pre>
