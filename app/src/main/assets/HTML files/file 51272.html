<p>See log message:</p>

<blockquote>
  <p>The 'filter' and 'locker' options must be present on the provided external 'scanner': org.springframework.integration.file.WatchServiceDirectoryScanner@7b12e52f </p>
</blockquote>

<p>That says that you have not to use <code>filter</code> (<code>filename-pattern</code> etc.) and <code>locker</code> options on the <code>&lt;int-file:inbound-channel-adapter&gt;</code>, if you use <code>scanner</code> option.</p>

<p>So, just move their references to the <code>WatchServiceDirectoryScanner</code>.
Of course, if you don't have <code>locker</code>, there is no reason to create some <code>NoOpLocker</code>. Just don't declare <code>&lt;property name="locker"&gt;</code> on the <code>WatchServiceDirectoryScanner</code> bean definition.</p>
