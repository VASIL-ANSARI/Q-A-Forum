<p>Without any of your code I tried something. See if you can apply to your code. (<a href="http://jsfiddle.net/karalamalar/yDyAj/3/" rel="nofollow">working example</a>)</p>

<p><strong>HTML</strong></p>

<pre><code>&lt;table&gt;
    &lt;thead&gt;
        &lt;tr&gt;
            &lt;th&gt;&lt;input type="checkbox" name="selectAll" id="selectAll" /&gt;&lt;/th&gt;
            &lt;th&gt;Row name&lt;/th&gt;
        &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
        &lt;tr&gt;
            &lt;td&gt;&lt;input type="checkbox" name="select" /&gt;&lt;/td&gt;
            &lt;td&gt;test row 0&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;&lt;input type="checkbox" name="select" /&gt;&lt;/td&gt;
            &lt;td&gt;test row 1&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;&lt;input type="checkbox" name="select" /&gt;&lt;/td&gt;
            &lt;td&gt;test row 2&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;&lt;input type="checkbox" name="select" /&gt;&lt;/td&gt;
            &lt;td&gt;test row 3&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;&lt;input type="checkbox" name="select" /&gt;&lt;/td&gt;
            &lt;td&gt;test row 4&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/tbody&gt;
&lt;/table&gt;
</code></pre>

<p><strong>CSS</strong></p>

<pre><code>.selected { background-color: #ffff00; }
</code></pre>

<p><strong>Javascript</strong></p>

<pre><code>jQuery(function($) {
    $('tbody :checkbox').change(function() {
        $(this).closest('tr').toggleClass('selected', this.checked);
    });
    $('thead :checkbox').change(function() {
        $('tbody :checkbox').prop('checked', this.checked).trigger('change');
    });
});
</code></pre>
