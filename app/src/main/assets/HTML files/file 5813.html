<ol>
<li>Boost::Test does not have a mocking framework or library. If you want mocks, you have to do it yourself, or use something like GMock. Of course, you could use google mock with Boost::Test without problems.</li>
<li><p>How else would you expect something to be mockable? That's how it works in every other programming language! (Okay, not with duck typing, but that carries more overhead than virtual methods) If you're concerned about performance:</p>

<ol>
<li>Implement everything in terms of virtuals as specified in the general google mock docs.</li>
<li>Profile your code for places where that's not sufficient</li>
<li>Replace those profiled sections (or rather, the segment of your code which indicates performance is a problem) with <a href="http://code.google.com/p/googlemock/wiki/CookBook#Mocking_Nonvirtual_Methods">high-perf dependency injection</a> instead.</li>
<li>Don't replace everything with high-perf DI, because that would send compile times through the roof.</li>
</ol>

<p>In all seriousness though, I don't think the virtual calls are going to make huge differences in performance. The one case where virtuals are bad are where they're located inside of inner loops (such as in the <code>iostream</code> library where they're called possibly for every character of input or output), and even then only in performance sensitive code.</p></li>
</ol>

<p><strong>EDIT:</strong> I missed the very important word <em>not</em> in the above question #2 -- that you're  <strong>not</strong> worried about performance. If that's the case then my answer is you're effectively screwed. A plain function or method call in C++ generates a plain method call, and there's no opprotunity for you to change where that call points. In most cases this doesn't require <em>too</em> much code change, because correct C++ code uses references wherever possible, which won't need to be modified despite the fact that virtuals are being used. You will have to watch out however for anyone using value semantics, because they will be subject to the slicing problem.</p>
