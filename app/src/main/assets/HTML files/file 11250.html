<p>There are at least two tools you can deploy along your application and collect some statistics, even in production:</p>

<ol>
<li><p><a href="http://www.eclipse.org/aspectj/" rel="nofollow"><strong>AspectJ</strong></a> - weave all classes and somehow log every method execution.</p></li>
<li><p><a href="http://www.eclemma.org/jacoco/trunk/" rel="nofollow"><strong>JaCoCo</strong></a> - essentially does the same thing but automatically with a help of a Java agent. Executed methods/branches (in fact, this is a code coverage tool) are saved in a file for future processing. Should solve your problem pretty easy.</p></li>
</ol>

<p>Both approaches should work with any JVM language (I see <a href="/questions/tagged/jruby" class="post-tag" title="show questions tagged 'jruby'" rel="tag">jruby</a> in your question) as they work on bytecode level. I once used JaCoCo to measure code coverage (think: which methods/branches were execured) during Selenium test run.</p>
