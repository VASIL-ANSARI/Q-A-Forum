<p>Try this</p>

<pre><code>    select r.mediaid, 
       count(*) as total_rows, 
       sum(rating) as id_sum,
       SUM(rating)/count(*) AS score
    from rating r, media m
    where r.mediaid=m.mediaid
    group by r.mediaid
</code></pre>

<p>If you want to report only those records with a score above a threshold such as 0.75
then add the 'having' clause </p>

<pre><code> select r.mediaid, 
        count(*) as total_rows, 
        sum(rating) as id_sum,
        SUM(rating)/count(*) AS score
   from rating r, media m
  where r.mediaid=m.mediaid
  group by r.mediaid
  having score &gt; .75  
</code></pre>

<p>Here's a demo <a href="http://sqlfiddle.com/#!8/b5851/4" rel="nofollow">SQL Fiddle</a></p>

<p><strong>After Comment</strong></p>

<p>One way is to sort by scores <strong>desc</strong> and then limit to 1 record like this <a href="http://sqlfiddle.com/#!8/b5851/37" rel="nofollow">SQL Fiddle#2</a></p>

<pre><code>    select r.mediaid, 
     count(*) as total_rows, 
     sum(rating) as id_sum,
     SUM(rating)/count(*) AS score
from rating r, media m
 where r.mediaid=m.mediaid
 group by r.mediaid
order by score desc limit 1
</code></pre>
