<p>In C++, unlike in C, you <em>have to</em> cast the result of malloc. Your code can be tweaked into working order with a simple cast.</p>

<pre><code>int *a = (int *)malloc(4);
</code></pre>

<p>A great article about this mandatory cast and the reasons behind it <a href="http://stackoverflow.com/questions/605845/do-i-cast-the-result-of-malloc?rq=1">can be found here. </a><br>
An additional link for reference <a href="http://stackoverflow.com/questions/15118990/typecasting-malloc-c">can be found here.</a></p>

<p><strong>Edit:</strong> As suggested in the comments, the use of <code>malloc()</code> should not be commonplace. The closest alternative is using <code>new</code> to allocate.</p>

<pre><code>int *a = new int[15];
</code></pre>

<p><strong>Additional Edit:</strong> As again suggested in the comments, if you have to use <code>malloc()</code>, at least use a C++ cast.</p>

<pre><code>int *a = static_cast&lt;int*&gt;malloc(sizeof(int)); // shout out to @edheal, @mgetz
</code></pre>
