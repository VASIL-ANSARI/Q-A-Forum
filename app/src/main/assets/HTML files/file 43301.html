<p>Okay, that code hurt my brain, so here's an edit of it:</p>

<pre><code>$('textarea').keydown(function(e){
    var $this = $(this),
        bw = parseFloat($this.css('border-top-width')) + 
            parseFloat($this.css('border-bottom-width')),
        thisTargetH = this.scrollHeight,
        thisOrigH = $this.outerHeight() - bw,
        diff = thisTargetH-thisOrigH;
    if( diff &gt; 0 ){
         $this.height('+='+diff); 
    }
});
</code></pre>

<p>See <a href="http://jsfiddle.net/o328detj/2/" rel="nofollow"><strong>this demo fiddle</strong></a> for a working example</p>
