<p>In your <code>login.php</code> (?) you convert the old passwords from MD5 to bcrypt and replace the old MD5 hash in the database with the new one.</p>

<p>Pseudo code:</p>

<pre><code>$password = $_POST["password"];

if (substr($pwInDatabase, 0, 1) == "$")
{
    // Password already converted, verify using password_verify
}
else
{
    // User still using the old MD5, update it!

    if (md5($password) == $pwInDatabase)
    {
        $db-&gt;storePw(password_hash($password));
    }
}
</code></pre>

<p>Double hashing would not increase the security of bcrypt, as bcrypt itsef is a one-way hashing function.</p>

<p>Nota: MD5 produces a 32 character length string, while <code>password_hash()</code> is a minimum of 60.</p>

<p>Read the manual: </p>

<ul>
<li><a href="http://php.net/manual/en/function.password-hash.php" rel="nofollow">http://php.net/manual/en/function.password-hash.php</a></li>
</ul>

<p>If and when you do decide to use <a href="http://php.net/manual/en/function.password-hash.php" rel="nofollow"><code>password_hash()</code></a> or the compatibility pack (if PHP &lt; 5.5) <a href="https://github.com/ircmaxell/password_compat/" rel="nofollow">https://github.com/ircmaxell/password_compat/</a>, it is important to note that if your present password column's length is anything lower than 60, it will need to be changed to that (or higher). The manual suggests a length of 255.</p>

<p>You will need to ALTER your column's length and start over with a new hash in order for it to take effect. Otherwise, MySQL will fail silently.</p>
