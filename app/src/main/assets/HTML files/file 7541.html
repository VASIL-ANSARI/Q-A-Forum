<p>I don't know when the <em>welcomeMessage</em> method will be called, but if it's after the document has finished loading then it is closed. Calling <em>document.write</em> then will call <em>document.open</em>, which completely clears the document. Likely you have an element that the message should be written into, much better to use the load or DOMReady events (or whatever is available on WebOS).</p>

<p>Consider a much simpler form of the function and don't forget to declare variables to limit their scope to only what is necessary:</p>

<pre><code>  var tod = ['morning','morning','afternoon','evening'];
  var now = new Date();
  var greeting = 'Good ' + (tod[now.getHours()/6|0]) + '!';
</code></pre>

<p>If you want a library, try <a href="http://www.cinsoft.net/mylib.html" rel="nofollow">myLibrary</a>. No, it's not <strong>my</strong> Library, it's your library when you use it. You can create a customised core and just the DOM ready part that is quite small and the code quality is excellent.</p>
