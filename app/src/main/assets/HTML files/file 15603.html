<p>Probably the PHP parser does not add renaming of the same namespace "http://somenamespace" with the same prefix "ttauth" because it is redundant. Both xmls you shown ( the output and expected ) are equivalent. If you want to be sure you have the namespaces attributes as you want, you should add them manually by using addAtribute - <a href="http://www.php.net/manual/en/domdocument.createattribute.php" rel="nofollow">http://www.php.net/manual/en/domdocument.createattribute.php</a>. See the following code snippet:</p>

<pre><code>$domAttribute = $domDocument-&gt;createAttribute('xmlns:ttauth');
$domAttribute-&gt;value = 'http://somenamespace';
$accessuser-&gt;appendChild($domAttribute);
</code></pre>

<p>Hope it helps</p>
