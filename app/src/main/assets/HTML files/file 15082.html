<p>Well <code>m.evaluate(q, null, XPathConstants.NODESET);</code> passes in a null reference to the evaluate method so you create <code>new DOMSource(null)</code> I think which does not seem to make sense to me and probably results in that error later where a relative XPath <code>inventory/book/chapter[3]/preceding-sibling::chapter//title</code> is evaluated.</p>
