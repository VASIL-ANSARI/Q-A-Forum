<p>Global and static variables can only be initialized with constant expressions known at compile time. Calling your <code>foo()</code> function does not constitute using a constant expression. Further, the order in which global and static variables are initialized is not specified. Generally, calling <code>foo()</code> would mean that there must be a certain order, because the function can reasonably expect some other variables to be already initialized.</p>

<p>IOW, in C, neither of your code is executed before <code>main()</code>.</p>

<p>In C++ there are ways around it, but not in C.</p>
