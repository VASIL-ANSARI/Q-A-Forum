<p>Your code seems a bit faulty.</p>

<pre><code>// this is your shortcode
extract(shortcode_atts(array(
    'posts_per_page' =&gt; '1',
    'post_type' =&gt; 'person',
    'post_id' =&gt; null,
    'caller_get_posts' =&gt; 1)
, $atts));
</code></pre>

<p>It should look like this (based on the assumption, that $atts' elements are taken from the shortcode parameters):</p>

<pre><code>// you extract the parameters into variable names
extract(shortcode_atts(array(
    'posts_per_page'   =&gt; 'posts_per_page_var',
    'post_type'        =&gt; 'post_type_var',
    'post_id'          =&gt; 'post_id_var',
    'caller_get_posts' =&gt; 'caller_get_posts_var')
, $atts));

// creating the array of arguments for the query
$new_atts = array(
    'posts_per_page'   =&gt; $posts_per_page_var,
    'post_type'        =&gt; $post_type_var,
    'post_id'          =&gt; $post_id_var,
    'caller_get_posts' =&gt; $caller_get_posts_var
);
$posts = new WP_Query($new_atts);
// and go on with your code...
</code></pre>

<p>It think this should solve your problem.</p>

<p>Longer tutorial:</p>

<p><a href="http://www.webdesignerdepot.com/2013/06/how-to-create-your-own-wordpress-shortcodes/" rel="nofollow">http://www.webdesignerdepot.com/2013/06/how-to-create-your-own-wordpress-shortcodes/</a></p>
