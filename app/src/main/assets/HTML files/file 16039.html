<p>I'm not sure why you're getting that specific error (somehow it thinks their use of the &lt;&lt; operator is defined as taking an rvalue reference to an std::ostream), but it looks like the recommended way may be to specialize the CppUnit::assertion_traits template as seen in <a href="http://cppunit.svn.sourceforge.net/viewvc/cppunit/trunk/cppunit/include/cppunit/TestAssert.h?revision=582&amp;view=markup" rel="nofollow">TestAssert.h</a>. Something like this:</p>

<pre><code>namespace CppUnit{
    template&lt;class X, class Y&gt;
    struct assertion_traits&lt;std::pair&lt;X,Y&gt;&gt;{
        static bool equal(const std::pair&lt;X,Y&gt; &amp;a, const std::pair&lt;X,Y&gt; &amp;b){
            return a == b;
        }
        static std::string toString(const std::pair&lt;X,Y&gt; &amp;p){
            std::ostringstream o;
            o &lt;&lt; "(" &lt;&lt; p.first &lt;&lt; ", " &lt;&lt; p.second &lt;&lt; ")";
            return o.str();
        }
    };
}
</code></pre>
