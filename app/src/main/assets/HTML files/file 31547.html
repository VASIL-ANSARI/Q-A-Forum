<p>I found a solution, as I mentioned when deleting a file I:</p>

<ol>
<li>Cancel the operation process</li>
<li>Delete the file from CoreData</li>
</ol>

<p>When doing 1 without 2 everything works fine (or doing 2 without 1)
My solution was to add an 'isCancelled' condition in 'setCompletionBlockWithSuccess' block,
here is the code:</p>

<pre><code>[operation setCompletionBlockWithSuccess:^(AFHTTPRequestOperation *operation, id responseObject) {
    NSLog(@"File downloaded succesffully!");
    [self reportEndDownload:file withStatusCode:[NSNumber numberWithInt:DOWNLAOD_STATUS_COMPLETE]];
} failure:^(AFHTTPRequestOperation *reqOperation, NSError *error) {
    //This is the condition which solved my problem
       if ( [operation isCancelled] ) {
          [operation deleteTempFileWithError: &amp;error];
          return;
       }
    }
}];
</code></pre>
