<p>long is the reserved word in JS. <a href="http://www.quackit.com/javascript/javascript_reserved_words.cfm" rel="nofollow">Please check here</a>. So, please try lng instead of long also for setting icon please see <a href="https://developers.google.com/maps/documentation/javascript/overlays#Icons" rel="nofollow">here</a>. Try something like</p>

<pre><code>function teste(lat,lng){
    alert (lat);
    alert (lng);
    //var companyPos3 = new google.maps.LatLng(41.545308,-8.421782);
    var companyPos3 = new google.maps.LatLng(lat,lng);
    var companyMarker3 = new google.maps.Marker({
          position: companyPos3,
          map: map,
         // icon: companyLogo,
          title:"Mar!!!" });
        //}      
    ...
}
</code></pre>
