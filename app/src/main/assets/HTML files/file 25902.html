<p>Try this variant:</p>

<pre><code>def call(index = 0)
  if block_given? and (res = yield(index + 1)) != nil
    res + 1
  else
    index + 1
  end
end
</code></pre>
