<p>I'll take a stab in the dark here and say that your test</p>

<pre><code>if ($row["rights"]=="2")
</code></pre>

<p>means you are checking to see if the user logged in has the "rights" of 2?</p>

<p>Then when you loop through your query... </p>

<pre><code>while ($row = mysql_fetch_assoc($result))
</code></pre>

<p>You are overwriting your <strong>$row</strong> variable. So whatever you thought was in there to begin with, isn't anymore. You should use a different variable for either your user or looping through the query. </p>

<p><strong>EDIT</strong>:
It's also possible that the variable isn't in scope once you get to where you are testing it. You could try using a print_r($row) in footer.php to see what is currently inside of $row -- that should help.</p>
