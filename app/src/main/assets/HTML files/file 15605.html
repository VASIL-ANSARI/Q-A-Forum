<p>I've used valums uploader without problem. Different browsers upload files in different ways. IE will use an file upload html control, whilst Firefox &amp; Chrome can do it Ajax style. I wrote my own upload handler, but the first thing you need to do is figure which method was used.</p>

<p>I do this like this:</p>

<pre><code>if (HttpContext.Current.Request.QueryString["qqfile"] != null)
    file = new UploadedFileXhr();
else if (HttpContext.Current.Request.Files.Count &gt; 0)
    file = new UploadedFileForm();
else
    return new UploadResult("Request was not valid.");
</code></pre>

<p>An XHR upload means you read from the input buffer like so:</p>

<pre><code>int read = HttpContext.Current.Request.InputStream.Read(buffer, 0, buffer.Length);

while (read == buffer.Length)
{
    ms.Write(buffer, 0, buffer.Length);
    read = HttpContext.Current.Request.InputStream.Read(buffer, 0, buffer.Length);
}

ms.Write(buffer, 0, read);
</code></pre>

<p>A file upload is simpler like so:</p>

<pre><code>UploadResult result = new UploadResult(true);
result.Stream = _File.InputStream;
result.Name = System.IO.Path.GetFileName(_File.FileName);
</code></pre>

<p>Even if you add multiple files in the client, each file is uploaded individually.</p>
