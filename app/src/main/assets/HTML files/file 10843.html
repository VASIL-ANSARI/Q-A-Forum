<p>The inner for loop should probably be </p>

<pre><code>int f = c+(r*image.infoHeader.biHeight);
int t = (image.infoHeader.biWidth-r-1) + (image.infoHeader.biHeight*c);
tempPixel[f]=image.pixels[t];
</code></pre>

<p>To calculate the index for a flat array of a pixel at <code>[x,y]</code>, you need to use <code>i=y+Y*x</code> or <code>i=x+X*y</code> if <code>Y</code> and <code>X</code> are the width and height, respectively.</p>
