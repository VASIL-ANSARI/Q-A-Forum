<p>As you pointed yourself, the <code>ImageTypeCheck.getImageType</code> method is closing the stream.</p>

<p>How were you supposed to find the issue?</p>

<ol>
<li>The error message clearly indicates that the stream has been disposed. All that left was finding the culprit.</li>
<li>The callstack shows that the <code>ImageTools.IO.Gif.GifDecoder.Decode</code> was being called when the error was thrown. So it happened before that.</li>
<li>Luckily, there's only one method using the stream before the GifDecoder, and that is <code>ImageTypeCheck.getImageType</code></li>
</ol>

<p>To fix the issue, just remove the <code>stream.Close</code> from the <code>ImageTypeCheck.getImageType</code> method, and replace it with a <code>Seek</code> to go back to the beginning of the stream (the GifDecoder expects the stream to be positioned at the start of the picture).</p>

<pre><code>stream.Seek(0, SeekOrigin.Begin);
</code></pre>
