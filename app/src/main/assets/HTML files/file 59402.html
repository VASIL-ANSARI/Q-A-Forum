<p>JGit has a very simple <code>diff</code> command that would write textual diff of the changes between two commits to an output stream.</p>

<p>For example:</p>

<pre class="lang-java prettyprint-override"><code>OutputStream outputStream = ...
List&lt;DiffEntry&gt; diffEntries = git.diff().setOutputStream( outputStream ).call();
</code></pre>

<p>Probably more interesting is the list of <code>DiffEntry</code> returned after calling the command.
Each DiffEntry represents a changed files and tells its path name, whether it was added, changed or deleted, pointers (blob-ids's) to the old and new content and more.</p>

<p>And from each <code>DiffEntry</code>, you can obtain an <code>EditList</code> which holds information about which lines were changed.</p>

<p>For Example:</p>

<pre class="lang-java prettyprint-override"><code>try( DiffFormatter diffFormatter = new DiffFormatter( DisabledOutputStream.INSTANCE ) ) {
  diffFormatter.setRepository( git.getRepository() );
  List&lt;DiffEntry&gt; diffEntries = diffFormatter.scan( oldTreeIterator, newTreeIterator );
  FileHeader fileHeader = diffFormatter.toFileHeader( diffEntries.get( 0 ) );
  return fileHeader.toEditList();
}
</code></pre>

<p>This code also shows how to obtain diff entries with more detailed control  without using the <code>DiffCommand</code>.</p>

<p>Just recently I wrote an entire blog post about JGit's diff APIs. For more details please see here: <a href="http://www.codeaffine.com/2016/06/16/jgit-diff/" rel="nofollow">http://www.codeaffine.com/2016/06/16/jgit-diff/</a></p>
