<p>You have defined your <code>:posts</code> resources directly, and namespaced it under <code>api</code> > <code>v1</code>. You can access <code>http://api.localhost:3000/posts</code> but you can't access the under <code>v1</code>. You need to add namespace to it like this </p>

<pre><code>namespace :v1 do
  resources :posts do
    resources :comments
  end
end
</code></pre>

<p>What you've done is you've namespaced your <code>v1</code> inside <code>api</code>. You can take the above approach or try accessing like <code>http://api.localhost:3000/api/v1/posts</code></p>

<blockquote>
  <p>Update:</p>
</blockquote>

<pre><code>Rails.application.routes.draw do
  mount RailsAdmin::Engine =&gt; '/admin', as: 'rails_admin'
  devise_for :users

  namespace :api, defaults: {format: 'json'} do
    namespace :v1 do
      resources :posts do
        resources :comments
      end
    end
  end

  #The below part to access everything the regular way(non-api way)
  resources :posts do
    resources :comments
  end

 #namespace :v1 do
 #  resources :posts, only: [:index]
 #end  
 #end

 root 'posts#index'

end
</code></pre>

<p>Update your routes file to the following. And try accessing these two urls</p>

<p><a href="http://localhost:3000/posts" rel="nofollow">http://localhost:3000/posts</a></p>

<p><a href="http://localhost:3000/api/v1/posts" rel="nofollow">http://localhost:3000/api/v1/posts</a></p>

<p>You can not access sub domains in your localhost without extra configuration. So try the new routes code, without <code>constraints</code> in your route.</p>
