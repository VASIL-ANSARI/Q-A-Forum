<p>attachment_fu patches Tempfile.make_tmpname in <strong>attachment_fu/init.rb</strong>, and it doesn't work in 1.9.2: sprintf("%d",nil) fails, and in 1.8.7 the result of this expression is "0".</p>

<p>The fix is to insert a line in <strong>init.rb</strong> from:</p>

<pre><code>sprintf('%s%d-%d%s', File::basename(basename, ext), $$, n, ext)
</code></pre>

<p>to</p>

<pre><code>n ||= 0
sprintf('%s%d-%d%s', File::basename(basename, ext), $$, n, ext)
</code></pre>

<p>You can find some of the discussion here <a href="https://github.com/technoweenie/attachment_fu/issues/25">https://github.com/technoweenie/attachment_fu/issues/25</a> </p>

<p>Cheers!</p>
