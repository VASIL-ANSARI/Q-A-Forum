<p>E.g.:</p>

<pre><code>SELECT x.*
  FROM my_table x 
  JOIN my_table y 
    ON y.id &gt;= x.id 
   AND y.user_id = x.user_id 
 WHERE y.date &gt; 1447000031 
 GROUP 
    BY x.id 
HAVING COUNT(*) &lt;= 2;
</code></pre>

<p>or, faster, but more typing...</p>

<pre><code>SELECT id
     , package
     , user_id
     , date 
  FROM 
     ( SELECT x.*
            , CASE WHEN @prev_user = user_id THEN @i:=@i+1 ELSE @i:=1 END rank
            , @prev_user := user_id 
         FROM my_table x
            , ( SELECT @prev_user = 0,@i:=1 ) vars 
        WHERE date &gt; 1447000031
        ORDER 
           BY user_id
        , date
 ) a 
 WHERE rank &lt;= 2;
</code></pre>
