<p>You will have to replace this line <code>while (!file.eof())</code> by</p>

<pre><code>while (true)
    {
        /*code*/
        file.get(key, 99, '\n');
        if (file.eof()) { break; } // and similarly for other usages where you are reading the stream
        /*code*/
    }
</code></pre>

<p>Edit:
Ok. Looks like your problem lies here, quoting from <a href="http://en.cppreference.com/w/cpp/io/basic_istream/get" rel="nofollow">documentation of ifstream::get</a>: </p>

<blockquote>
  <p>the next available input character c equals delim, as determined by Traits::eq(c, delim). This character is not extracted </p>
</blockquote>

<p>So after each call to <strong>get</strong> your seek pointer is still pointing to the deliminator. So after the first call, get keeps encountering the newline character and hence returning you an empty data. You can either add a dummy read to consume that deliminator or even better use <a href="http://en.cppreference.com/w/cpp/io/basic_istream/getline" rel="nofollow">getline</a></p>
