<p>As <code>send</code> is only defined in the <code>loop()</code> function, it will only be defined once that is called (and called only within the scope of the document ready handler)</p>

<p>I assume you're calling <code>one_more()</code> before <code>send</code> is defined.</p>

<p>For the purposes of illustration, what you have above is essentially</p>

<pre><code>var send;
send.abort();
</code></pre>

<p>A quick work-around would be to define <code>send</code> with the appropriately named methods, eg</p>

<pre><code>var send = send || {abort: function(){}};
</code></pre>

<p>This would stop the errors but you really should work out when things are executed and defined</p>
