<p>I use parseURI.js by Steven Levithan: <a href="http://blog.stevenlevithan.com/archives/parseuri" rel="nofollow">http://blog.stevenlevithan.com/archives/parseuri</a></p>

<p>It's small but comprehensive. To use it to do the same job as your snippet:</p>

<pre><code>var url = parseUri(text);
return url.host + url.path;
</code></pre>
