<p>The issue here is that your <code>pos:</code> property is a string: <code>new google.maps.LatLng(51,0)</code> 
and you can't pass a string to a Marker constructor.</p>

<p>The solution is to set <code>pos_lat</code> and <code>pos_lng</code> as numbers and use those in the constructor:</p>

<pre><code>&lt;?php
$markers = '';
while($loc = mysql_fetch_assoc($qry)){
    $markers .= "{id:'".$loc['id']."', title:'".$loc['city']."', pos_lat: ".$loc['latitude'].", pos_lng: ".$loc['longitude']."},";
}
?&gt;
</code></pre>

<p>&nbsp;</p>

<pre><code>for (var i=0; i &lt; locations.length; i++)
    {
        marker_stack[ locations[i].id ] = new google.maps.Marker({
            map: map,
            position: new google.maps.LatLng(locations[i].pos_lat,locations[i].pos_lng),
            title: locations[i].title
        });
    }
</code></pre>
