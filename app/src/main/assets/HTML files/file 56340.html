<p>NB. I don't know C# so I can only try to explain in plain language.</p>

<p>You could simply map the values, e.g. if rdr.Name is <code>BookHeader</code> then write <code>&lt;h1&gt;</code> etc.pp. If you have access to the <code>rdr.Name</code>  in the <code>EndElement</code> case you can simply close the same mapped value like <code>&lt;/h1&gt;</code>. Otherwise you'd have to keep track of the open elements yourself and close the innermost.</p>

<p>About the problem to skip some of the xml structure see my comment to the question.</p>

<p>Note that I agree with some other commentators that this problem generally is more suited for an XSLT solution.</p>
