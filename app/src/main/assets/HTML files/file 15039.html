<p>Here's one approach:</p>

<p>1) Define a set of colours which we'll call centroids -- these are the middle of the basic colours you want to break images into. You can do this using a clustering algorithm like <a href="http://en.wikipedia.org/wiki/K-means_clustering" rel="nofollow">k-means</a>, for example. So now you've got, say, 100 centroids (buckets, you can think of them as), each of which is an RGB colour triple with a name you can manually attach to it.</p>

<p>2) To generate the histogram for a new image: </p>

<ul>
<li>open the image in <a href="http://php.net/manual/en/book.image.php" rel="nofollow">gd</a> or whatever</li>
<li>convert it to an array of pixel values (e.g. using <a href="http://www.php.net/manual/en/function.imagecolorat.php" rel="nofollow">imagecolorat</a>)</li>
<li>determine the distance (<a href="http://en.wikipedia.org/wiki/Euclidean_distance" rel="nofollow">euclidean distance</a> is ok) between the pixel value and all the centroids. Classify each pixel as to which bucket it's closest to.</li>
<li>Your output is a centroid assignment for each pixel. Or, given you just want a histogram, you can just count how many times each centroid occurs.</li>
</ul>

<p>Bear in mind that this kind of colour assignment is somewhat subjective. I'm not sure there'll be a definitive mapping from colours to names (e.g., it's <a href="http://www.amazon.co.uk/Through-Language-Glass-Words-Colour/dp/043401690X" rel="nofollow">language dependent</a>). But if you google, there might exist a look-up table that you could use, although I've not come across one.</p>

<p>Hope this helps!</p>

<p>Ben</p>
