<p>Try it </p>

<p>Server object:</p>

<pre>
class Server{

 protected $class_name = '';

 public function __construct($class_name)
    {
        $this->class_name = $class_name;
    }
 public function AuthHeader($Header)
    {
        //if($Header->username == 'foo' && $Header->password == 'bar')
         //   $this->authenticated = true;

    }

 public function log($method_name,$data)
    {
        $filename = 'log.txt';
        $handle = fopen($filename, 'a+');
        fwrite($handle, date("l dS of F Y h:i:s A").' - '.$_SERVER['REMOTE_ADDR']."\r\n".$method_name."\r\n".print_r($data,true));
        fclose($handle);
    }   

 public function __call($method_name, $arguments)
    {
        $this->log($method_name,$arguments); //  log
        if($arguments[0]!=AUTH) return 'Authorization required'; // auth check
        $_method_name = '_'.$method_name; //  method name replace
        if(!method_exists($this->class_name, $_method_name )) return 'Method '.$method_name.' not found'; // methot exist check
        return call_user_func_array(array($this->class_name, $_method_name ), $arguments); //call method
    }
}
</pre>

<p>It is my a working  code with logging request. I had same problem with it.</p>

<p>Server:</p>

<pre>
$Service = new Server('YouClassHere');

$server->setObject($Service);
</pre>
