<p><code>std::thread</code> constructor, the same as <code>std::bind</code>, takes all its parameters by value. But <code>std::ofstream</code> have a <code>delete</code>d copy constructor, hence the error.</p>

<p>Wrap all parameters that should be passed by reference with <code>std::ref</code>.</p>
