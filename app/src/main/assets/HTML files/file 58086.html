<p>This should be a good example:</p>

<pre><code>public class Main {

    public static void main(final String[] args) {
        final Map&lt;Integer, Map&lt;String, Double&gt;&gt; tmp = new HashMap&lt;&gt;();
        tmp.put(1, new HashMap&lt;String, Double&gt;() {{
            put("1", 3.45);
            put("2", 1.23);
            put("3", 0.98);
        }});
        tmp.put(2, new HashMap&lt;String, Double&gt;() {{
            put("1", 1.00);
            put("2", 2.00);
            put("3", 3.00);
        }});

        System.out.println(tmp.entrySet().stream()
                .collect(
                    toMap(Map.Entry::getKey, 
                    data -&gt; 
                        data.getValue()
                            .values().stream()
                            .mapToDouble(Number::doubleValue).sum())));
    }

}
</code></pre>

<p>output will be <code>{1=5.66, 2=6.0}</code> and all this does is takes entry set of map, gets a stream of it and collects to new map sums of inner map values. </p>
