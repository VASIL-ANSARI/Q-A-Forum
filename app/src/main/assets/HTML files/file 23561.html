<p>There's probably a more efficient way, but off the top:</p>

<pre><code>a = [
{:name=&gt;"CCC_010112.JPG", :type=&gt;"CCC", :date=&gt;"120101"},
{:name=&gt;"BBB_050112.JPG", :type=&gt;"BBB", :date=&gt;"120501"},
{:name=&gt;"BBB_040112.JPG", :type=&gt;"BBB", :date=&gt;"120401"},
{:name=&gt;"BBB_030112.JPG", :type=&gt;"BBB", :date=&gt;"120301"},
{:name=&gt;"BBB_020112.JPG", :type=&gt;"BBB", :date=&gt;"120201"},
{:name=&gt;"BBB_010112.JPG", :type=&gt;"BBB", :date=&gt;"120101"},
{:name=&gt;"AAA_040112.JPG", :type=&gt;"AAA", :date=&gt;"120401"},
{:name=&gt;"AAA_030112.JPG", :type=&gt;"AAA", :date=&gt;"120301"},
{:name=&gt;"AAA_020112.JPG", :type=&gt;"AAA", :date=&gt;"120201"}
]

a_types = (a.collect { |e| e[:type] }).uniq
a_top3 = []
a_types.each { |t| a_top3 &lt;&lt; (a.select { |e| e[:type] == t }).take(3) }
a_top3.flatten!
</code></pre>
