<p>One thing that people ignore so often is that you have the full power of Node.js in your Gruntfile.</p>

<pre><code>var modules=["Render", "User"];
var version = grunt.option('version', 2);
var _ = require('underscore');
var fs = require('fs');

grunt.initConfig({

  uglify: _.reduce(modules, function(obj, module){

    obj[module] = {
      files: {},
      options: {
        // Add your options here
      }
    };

    obj[module].files['build/app/'+module+'/api.js'] =
      _.chain(fs.readdirSync('./src/app/'+module+'/api'))
        .filter(function(filename){
            // Check against your regular expression here
        })
        .map(function(filename){
            return './src/app/'+module+'/api/'+filename
        })
        .value();

    return obj;

  }, {});
})
</code></pre>
