<p>confirmed is always false because javascript is asynchrone.</p>

<p>You need to use some closure. Something like this should do the trick:</p>

<pre><code>    $('input:submit').click(function() {
        // get form associated with the button
        var form = $(this).parents('form')
        $( "#dialog-confirm" ).dialog({
            resizable: false,
            height:140,
            modal: true,
            buttons: {
                "Yes": function() {
                    $( this ).dialog( "close" );
                    // maybe set an hidden field to keep button value if needed
                    form.submit()
                },

                "No": function() {
                    $( this ).dialog( "close" );
                }
            }
        });
        return false;
    }
</code></pre>
