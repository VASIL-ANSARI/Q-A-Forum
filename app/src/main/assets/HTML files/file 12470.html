<p>A regex can be extremely cumbersome for this application. Instead, I suggest you use an HTML parser, such as PHP's DOMDocument. Here is an example.</p>

<pre><code>$node1 = '&lt;body&gt;';
$node2 = '&lt;body id="my-id" data-attribute="content"&gt;';
$node3 = '&lt;body data-attribute="content"&gt;';
$node4 = '&lt;body class="already-existing-class" id="my-id" data-attribute="content"&gt;';

foreach( range( 1, 4) as $i)
{
    $var = 'node'.$i;
    $doc = new DOMDocument();
    $doc-&gt;loadHTML( $$var);
    foreach( $doc-&gt;getElementsByTagName( 'body') as $tag)
    {
        $tag-&gt;setAttribute('class', ($tag-&gt;hasAttribute('class') ? $tag-&gt;getAttribute('class') . ' ' : '') . 'some-new-class');
    }
    echo htmlentities( $doc-&gt;saveHTML()) . "\n";
}
</code></pre>

<p><a href="http://codepad.viper-7.com/nEgCP7" rel="nofollow">Demo</a></p>

<p>Notice the output of the <code>&lt;body&gt;</code> tag is correct. You (or another SO member) are free to determine how to extract just the body tag from the DOMDocument.</p>
