<p>According to the C++ Standard (11.3 Friends)</p>

<blockquote>
  <p>6 A function can be defined in a friend declaration of a class if and
  only if the class is a non-local class (9.8), the function name is
  unqualified, and the function has namespace scope.</p>
</blockquote>

<p>However it is not visible outside the class until it will be declared in the enclosing namespace.</p>

<p>Nevertheless the compiler can find the function due to the so-called Argument Dependent Lookup.</p>

<p>It is due to the ADL that in your example the operators are called successfully.</p>

<p>For example for this statement</p>

<pre><code>cout&lt;&lt;s2;
</code></pre>

<p>the compiler sees that there is used an object of type dev (dev s2;) and seeks the operator in the scope of the class.</p>

<p>Take into account that it is better when the operators return references to the streams. In this case you can combine the operators with other stream operators.
For example</p>

<pre><code>friend std::ostream &amp; operator &lt;&lt;( std::ostream &amp;dout, const dev &amp;s1 )
{
    return dout &lt;&lt; s1.str &lt;&lt; " " &lt;&lt; s1.n;
}
</code></pre>
