<p>Take a look at dependency injection and the plug-in pattern. They support injecting a concrete implementation of a repository. Your service layer then has only one reference to <code>IProductRepository</code> and a concrete repository gets injected. Something along the lines of this:</p>

<pre><code>public class ProductService
{
    private readonly IProductRepository _productRepository;

    public ProductService(IProductRepository productRepository)
    {
        _productRepository = productRepository;
    }
}


public class ConsumingClass {
{
    private readonly IProductService _productService = new ProductService(new ProductXmlRepository());

    // methods to use the the product service
}
</code></pre>

<p>But better would be to use a inversion of control container like NInject or SimpleInjector. Those frameworks can be used to link abstract classes (<code>IProductRepository</code>) to concrete classes (<code>ProductXmlRepository</code> or <code>ProductXmlRepository</code>) based on xml configurations.</p>
