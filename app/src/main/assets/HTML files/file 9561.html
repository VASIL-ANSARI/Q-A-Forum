<p>IIRC, nobody has ever asked for such an API, so none exists.  I'm not entirely sure what you would do with such an API, anyway... any non-trivial program will reference symbols not defined in any .bc file, like <code>malloc</code>.</p>

<p>If you really want to check, something like the following should work:</p>

<pre><code>for (Module::iterator I = M-&gt;begin(), E = M-&gt;end(); I != E; ++I)
  if (I-&gt;isDeclaration())
    UndefGlobals.insert(&amp;*I);

for (Module::global_iterator I = M-&gt;global_begin(),
                             E = M-&gt;global_end();
     I != E; ++I)
  if (I-&gt;isDeclaration())
    UndefGlobals.insert(&amp;*I);
</code></pre>
