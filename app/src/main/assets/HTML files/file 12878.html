<p>You're doing an async XHR, then immediately doing a loop trying to use its results.   I have no idea why this possibly works in Chrome, but it's definitely racy.  Have you tried passing "sync:true" in your post options?</p>

<p>Edit: Oh, nevermind.  I see why your code works.  The hive.pollen script has this wonderful bit:</p>

<pre><code>sync: navigator.userAgent.toLowerCase().indexOf('safari/') != -1 ? false : true,
</code></pre>

<p>So it's doing a sync XHR in Chrome/Safari and an async one in everything else, by default (because it passes <code>options.sync</code> as the value for the <code>async</code> argument to <code>XMLHttpRequest.open</code>, which is backwards, but whatever; it does mean that you actually need to pass <code>sync: false</code> at the callsite to get sync behavior).  And since you don't specify whether you want sync or async, you get sync in Chrome and async in Firefox.</p>

<p>Oh, and the script has this wonderful comment before that line:</p>

<pre><code>//  TODO: FIX THIS.
</code></pre>
