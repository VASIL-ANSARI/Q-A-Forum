<p>You have failed to shift the 8-bit values down after masking:</p>

<pre><code>stringBuffer.append((char) (0xFF000000 &amp; (b)));
</code></pre>

<p>should be:</p>

<pre><code>stringBuffer.append((char) ((b &gt;&gt; 24) &amp; 0xff));
</code></pre>

<p>Note that by shifting first, we can omit the unwieldy large constants and always just do 8-bit masking.</p>
