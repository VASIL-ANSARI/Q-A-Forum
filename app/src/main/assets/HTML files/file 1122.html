<p>I assume that the class MyWeightedEdge already contains a method such as </p>

<pre><code>public void setWeight(double weight)
</code></pre>

<p>If this is indeed the case, then what you need to do is:</p>

<p>Derive your own subclass from <em>ListenableDirectedWeightedGraph</em> (e.g., <em>ListenableDirectedWeightedGraph</em>). I would add both constructor versions, delegating to "super" to ensure compatibility with the original  class.</p>

<p>Create the graph as in your question, but using the new class</p>

<pre><code>ListenableDirectedWeightedGraph g = 
    new CustomListenableDirectedWeightedGraph(
        MyWeightedEdge.class);
</code></pre>

<p>Override the method <em>setEdgeWeight</em> as follows:</p>

<pre><code>public void setEdgeWeight(E e, double weight) {
    super.setEdgeWeight(e, weight);
    ((MyWeightedEdge)e).setWeight(weight);
}
</code></pre>

<p>And, last but not least, override the <em>toString</em> method of the class <em>MyWeightedEdge</em> to return the label you want the edge to have (presumably including the weight, which is now available to it).</p>

<p>I hope this helps.</p>
