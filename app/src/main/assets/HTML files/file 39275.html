<p>It might be worthwhile to save the captured data in your own buffers instead of writing to a file. You can then supply these buffers to the playback.</p>

<p>Please make sure that you add the following line from AVFoundation framework for simultaneous capture and playback:</p>

<p>[[AVAudioSession sharedInstance] setCategory: AVAudioSessionCategoryPlayAndRecord error:nil];</p>

<p>Hope this helps.</p>
