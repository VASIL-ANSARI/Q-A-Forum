<p>Don't forget <strong>/</strong> at the end of your directory because you concatenate that with the filename:</p>

<pre><code>$directory = $_SERVER['DOCUMENT_ROOT'] . '/pictures/';
</code></pre>

<p>if you still get issue try to add more checks:</p>

<pre><code>&lt;?php
if(isset($_POST)) {
  $message = $_POST['message'];
  if(is_uploaded_file($_FILES['userfile']['tmp_name']){
    //we got something, set it up
    $directory = $_SERVER['DOCUMENT_ROOT'] . '/pictures/';
    $file = basename( $_FILES['userfile']['name']);        
    $uploadfile = $directory . $file; 
    $randomPhotoID = md5(rand() * time());
    //perform the upload
  if(move_uploaded_file($_FILES['userfile']['tmp_name'], $uploadfile)) {
      echo 'successful';
    } else {
      echo 'unsuccessful';
    }
  }else{
      echo "Nothing was uploaded";
  }
}else{
    echo 'POST is not set cannot proceed to upload';
}
</code></pre>
