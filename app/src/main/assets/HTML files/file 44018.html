<p>The act of posting to StackOverflow suddenly makes things all make sense. </p>

<p>So for some reason, it has to do with registering filters globally. Because I was a bit lazy, I had done the following </p>

<pre><code>public static void RegisterGlobalFilters(GlobalFilterCollection filters)
{
    filters.Add(new TransactionAttribute());
}
</code></pre>

<p>So basically wrapping every request in a transaction. This doesn't seem to want to work when using the DependencyResolver. If I remove this, and add the attribute directly on a method, things start working.</p>

<p>As a site note, I also found a different way to inject properties without using constructor using Autofac : <a href="http://alexmg.com/filterattribute-property-injection-in-autofac-mvc-3-integration/" rel="nofollow">http://alexmg.com/filterattribute-property-injection-in-autofac-mvc-3-integration/</a> which seems to be the default way when dealing with filters under autofac. </p>

<p>Something about this approach irks me a little though as having a property public like that seems a little odd (Since it really shouldn't be set by ANYONE except in a constructor). But, it does make things able to be unit tested (Although I assume the dependency resolver way has ways to be unit testable too). </p>

<p>So for now, I'll place the attribute directly on the actions. But it probably needs to be looked into as things like logging/error handling that may require injection surely would be in the globalfilters collection?</p>
