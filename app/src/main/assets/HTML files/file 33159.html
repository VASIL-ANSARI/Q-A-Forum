<p>I think the problem is with how you are choosing the second index: <code>rand() % percentage</code> will always fill towards the front of the arrays.</p>

<p>The standard random number generator in C (<code>srand</code> + <code>rand</code>) tends to be pretty bad at generating numbers that pass statistical tests for randomness. There are more sophisticated random number generators with better properties available as part of the <a href="http://www.gnu.org/software/gsl/" rel="nofollow">GNU Scientific Library</a> that you may find helpful.</p>
