<p>You are right, <code>tf.select</code> wants the condition to be of the same shape as the two other inputs.</p>

<p>You should instead use <code>tf.cond</code>. See <a href="http://stackoverflow.com/questions/37299345/using-if-conditions-inside-a-tensorflow-graph/37302813#37302813">this detailed answer</a> about using if condition in the TensorFlow graph.</p>
