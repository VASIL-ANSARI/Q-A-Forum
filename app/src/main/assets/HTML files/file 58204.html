<p>Here's a correct solution:</p>

<pre><code>inp =  open("hello.txt", "r")
out = open("compr.txt", "w")
kar=inp.read(1)
prevkar=''

def iterations(a,b):
    re = 1
    while a==b:
        re+=1
        b = a
        a = inp.read(1)
    out.write(str(re))
    return a

def no_iteration(a):
    out.write(a)
    return

while kar:
    if kar==prevkar:
        prevkar=kar
        kar = iterations(kar, prevkar)
    else:
        no_iteration(kar)
        prevkar=kar
        kar=inp.read(1)

inp.close()
out.close()
</code></pre>

<p>the problem with wrong numbers was because you set <code>re</code> to be 1 every time you looped through letters, also <code>iterations(a, b)</code> did one <code>inp.read(1)</code> but did nothing with it, making <code>while kar:</code> loop skip one letter after each call to <code>iterations(a,b)</code></p>
