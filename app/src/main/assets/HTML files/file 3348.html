<p>That should be locating the Tags correctly (you can check this by stepping through in the debugger) so I think the problem is more likely with the drawing.  There are a couple of things that might be causing problems here.</p>

<p>First, the Control.Bounds property is relative to the <em>parent</em> element.  Therefore when you recurse into the child controls collection, the rectangles are being drawn at the "wrong" coordinates: for example, if a child control is at the top left of a group box its Bounds might be (0,0,100,100), but you'd actually want the rectangle to be drawn at the group box coordinates.</p>

<p>Second, I believe the child control, because it is a separate HWND, is going to appear over the top of the parent control's Graphics context.  I.e. you are drawing on the parent control (the UserControl say), but the child control (the GroupBox say) is above that, obscuring your drawing.</p>

<p>For both of these issues the solution is to get the graphics context of the child control and pass that into the recursive call.</p>
