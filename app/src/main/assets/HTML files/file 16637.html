<p>If you're using a content script to capture the DOM, it should be as easy as injecting the capturing code into all the frames:</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>chrome.tabs.executeScript(tabId, { code:code, <strong>allFrames:true</strong>});</p>
    </blockquote>
  </blockquote>
</blockquote>

<p>Then have the message passing function also pass back <code>window.location</code> and cross-reference that with the <code>src="..."</code> attribute on all the frames.</p>
