<p>This should work:</p>

<pre><code>def all_subsets(b):
    if len(b)==1:
        return [[], b]  # if set has 1 element then it has only 2 substets
    else:
       s = all_subsets(b[:-1])  # calculate subsets of set without last element
       # and compose remaining subsets
       return sorted(s + [e + [b[-1]] for e in s], key=len)  # you can omit sorting if you want
</code></pre>
