<p>Without full visibility of the code I'm guessing that <code>new_connection_</code> is a <code>shared_ptr</code> and that you're not keeping a reference to it anywhere. This will then cause the smart pointer to delete the connection and close the socket.</p>

<p>Stick a breakpoint in your connections destructor and check whether this is the case.</p>

<p>Without seeing more code it's hard to diagnose the issue.</p>
