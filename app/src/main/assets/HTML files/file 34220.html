<p>Generally, your logic that makes decisions based on business rules goes in the service layer.  The code that creates, updates, or deletes rows from tables (the standard CRUD functions) goes into the repository.  </p>

<p>So if you need to retrieve data by joining multiple tables together, that's in the repository.  The code that says "if this condition is met, then do this to the database" is in the service layer.  If you need to add or update a row in several tables, that's still in the repository, and can either be done in one method (if the 2 tables conceptually are one, but are split into two for database efficiency reasons, like a one to many or many to many relationship), or you can use separate methods, one for each table, and just call them from one method in the service layer.</p>
