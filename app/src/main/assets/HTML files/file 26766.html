<p>Why not something that's a little less strictly-typed?</p>

<p>If you're comfortable with setting/reading <code>.value</code> as a string, from the first dropdown (ie: "product"), then you could have an object as simple as:</p>

<pre><code>var products = {
    hat : {
        colours : [ "red", "green", "blue", "black", "grey" ]
    },
    shirt : {
        colours : [ "pink", "salmon", "mauve", "chartreuse" ]
    }
};
</code></pre>

<p>It could be more simple:</p>

<pre><code>var products = {
    hat : [ "grey", "gray", "charcoal", "smoke" ],
    shirt : [/*...*/]
};
</code></pre>

<p>So why add "colour" as a property to each?<br>
Simply because it's an adjective for an object that you might want to add more adjectives to: <code>.size : [], .shipping_options : [], .cut : []</code>.</p>

<pre><code>shirt : {
    size : [],
    logo : [],
    cut  : []
}
</code></pre>

<p>And you really don't want to end up in a:</p>

<pre><code>products[0][1][1]
products[1][2][3]
</code></pre>

<p>world.</p>

<p>Try this:</p>

<pre><code>var Products = {},
    product_type,
    current_value,
    color_arr;

for (...) {
    product_type  = entry.gsx$product.$t;
    current_value = entry.gsx$color.$t;

    Products[product_type] = Products[product_type] || { colors : [] };
    /* same as:
        if (!Products.hat) { Products.hat = { colors : [] }; }
        ...basically, Products.hat == itself, else a new object
    */
    color_arr = Products[product_type].colors;
    color_arr.push(current_value);

}
</code></pre>

<p>Now, you can say <code>Products.hat.colors[1]</code></p>

<p>And if you set your first dropdown up like this:</p>

<pre><code>&lt;select name="product"&gt;
    &lt;option value="hat"  &gt;Cap&lt;/option&gt;
    &lt;option value="shirt"&gt;Tee&lt;/option&gt;
&lt;/select&gt;
</code></pre>

<p>Then:</p>

<pre><code>var type = product_select.value,
    avail_colours = Products[type].colors;
</code></pre>
