<p>At the risk of getting yelled at, i would get a javascript helper library like <a href="http://jquery.com">jquery</a> or <a href="http://prototypejs.org">prototype</a> they encapsulate the logic in nice methods - both have an .each method/iterator to do it - and they both strive to make it cross-browser compatible</p>
