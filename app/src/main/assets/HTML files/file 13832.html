<p>First, I think you should use Many-Many relation between users and roles table - </p>

<pre><code>    public function relations() {
    return array(
        'toolaccesses' =&gt; array(self::HAS_MANY, 'Toolaccess', 'userID'),
        'usergalleries' =&gt; array(self::HAS_MANY, 'Usergallery', 'userid'),
        'roles' =&gt; array(self::MANY_MANY, 'Roles', 'userinroles(userid, roleid)'),
        'tools' =&gt; array(self::MANY_MANY, 'Tool', 'toolid'),
    );
</code></pre>

<p>After that, you will able to get roles for users with <code>$user-&gt;roles</code>. About some actions with roles, related to concrete user: i use <a href="http://www.yiiframework.com/extension/advancedrelationsbehavior/" rel="nofollow">this extension</a> to save many-many relations. Sorry if i understood you wrong.</p>
