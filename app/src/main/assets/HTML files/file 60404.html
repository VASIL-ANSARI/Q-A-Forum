<p>The <code>.replace(/\r\n+/g, ",")</code> part of code replaces multiple occurrences of a CR followed with one or more LF symbols with a comma. E.g., it will replace with a comma <code>"\r\n\n\n\n\n\n"</code> or <code>"\r\n"</code>, but will never find <code>"\n\n\n\n"</code>.</p>

<p>Since linebreaks can be defined as CRLF, CR, LF, you may change that part to</p>

<pre><code>.replace(/(?:\r?\n|\r)+/g, ",")
</code></pre>

<p>to replace CRLF/LF/CR type of linebreaks.</p>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>var s = "pradeep\r\nnaveen\nkiran\rhere";
console.log(s.replace(/(?:\r?\n|\r)+/g, ","));</code></pre>
</div>
</div>
</p>
