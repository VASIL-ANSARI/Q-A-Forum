<pre><code>while ((getchar())!='\n');
</code></pre>

<p>The above line is used to flush anything on the line not read by <code>scanf</code>, for example non-digits and spaces, so the next input starts in a new line.</p>

<p>Also:</p>

<ul>
<li><code>scanf</code>-call should check the number of assigned matches (0 matches <em>is</em> possible.</li>
<li>the result of <code>malloc</code> should never be cast (that just hides bugs).</li>
<li>the result of <code>malloc</code> should be checked for <code>NULL</code>. (Warning: <strong>Undefined Behavior</strong>)</li>
<li><code>fgets</code> expects the buffer length and guarantees 0-termination. Passing one less means you get a shorter string.</li>
</ul>
