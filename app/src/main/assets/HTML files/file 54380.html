<blockquote>
  <p>What is the best way to approach this? Presumably I update the lastLogin column on logout?</p>
</blockquote>

<p>You can't force a user to logout so this approach wont work.</p>

<p>Instead of setting the <code>lastLogin</code> when logging out, consider setting it on logging in. You can keep a 2nd column <code>actualLastLogin</code> so avoid overwriting the value immediately.</p>

<p>On login, do:</p>

<pre><code>UPDATE users
    SET lastLogin = NOW(),
    actualLastLogin = lastLogin
..
</code></pre>

<p>Then read the value of <code>actualLastLogin</code>.</p>

<p>It's possible users don't have a clear login moment because you might have a system that persist a session (such as a "remember me on this computer"). In that case you need to define what you think is a session. If you're inactive for 1 hour does that mark the end of your session? It's up to you.</p>

<hr>

<p>Alternatively you could keep a log of logins and return the last one.</p>
