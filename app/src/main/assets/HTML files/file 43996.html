<p>For matching with all kind of URLs the following code can help you:</p>

<pre><code>&lt;?php

$content = '&lt;html&gt;

&lt;title&gt;Random Website I am Crawling&lt;/title&gt;

&lt;body&gt;

Click &lt;a href="http://clicklink.com"&gt;here&lt;/a&gt; for foobar

Another site is http://foobar.com';

$regex = "((https?|ftp)\:\/\/)?"; // SCHEME
$regex .= "([a-z0-9+!*(),;?&amp;=\$_.-]+(\:[a-z0-9+!*(),;?&amp;=\$_.-]+)?@)?"; // User and Pass
$regex .= "([a-z0-9-.]*)\.([a-z]{2,4})"; // Host or IP
$regex .= "(\:[0-9]{2,5})?"; // Port
$regex .= "(\/([a-z0-9+\$_-]\.?)+)*\/?"; // Path
$regex .= "(\?[a-z+&amp;\$_.-][a-z0-9;:@&amp;%=+\/\$_.-]*)?"; // GET Query
$regex .= "(#[a-z_.-][a-z0-9+\$_.-]*)?"; // Anchor


$matches = array(); //create array
$pattern = "/$regex/";

preg_match_all($pattern, $content, $matches); 

print_r(array_values(array_unique($matches[0])));
echo "&lt;br&gt;&lt;br&gt;";
echo implode("&lt;br&gt;", array_values(array_unique($matches[0])));


?&gt;
</code></pre>
