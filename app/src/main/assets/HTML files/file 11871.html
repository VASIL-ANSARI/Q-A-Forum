<p>Your <code>controller.pageControl</code> is most likely nil. This could be because it isn't wired to an IBOutlet or otherwise initialized, or because your unit tests aren't actually running within the app executable. Take a look at the steps in <a href="http://twobitlabs.com/2011/06/adding-ocunit-to-an-existing-ios-project-with-xcode-4/" rel="nofollow">setting up your unit test target</a> and check your settings.</p>

<p>Alternatively, you could mock the UIPageControl object:</p>

<pre><code>- (void)testPageControl {
    id mockPageControl = [OCMockObject mockForClass:[UIPageControl class]];
    [[mockPageControl expect] setNumberOfPages:3];
    [[mockPageControl expect] setCurrentPage:0];

    id mock = [OCMockObject partialMockForObject:controller];
    NSArray *mockPagesArray = [NSArray alloc] initWithObjects:...];
    [[[mock stub] andReturn:mockPagesArray] viewedPages];
    [[[mock stub] andReturn:mockPageControl] pageControl];

    [controller viewDidLoad];

    [mockPageControl verify];
}
</code></pre>
