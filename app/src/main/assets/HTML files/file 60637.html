<p>Below is an example of JNI code calling a method returning a string. Hope this helps.</p>

<pre><code>int EXT_REF Java_JNITest_CallJava(
    JNIEnv* i_pjenv, 
    jobject i_jobject
)
{
    jclass      jcSystem;
    jmethodID   jmidGetProperty;
    LPWSTR      wszPropName = L"java.version";

    jcSystem = i_pjenv-&gt;FindClass("java/lang/System");
    if(NULL == jcSystem)
    {
        return -1;
    }
    jmidGetProperty = i_pjenv-&gt;GetStaticMethodID(jcSystem,
                      "getProperty", "(Ljava/lang/String;)Ljava/lang/String;");
    if(NULL == jmidGetProperty)
    {
        return -1;
    }

    jstring joStringPropName = i_pjenv-&gt;NewString((const jchar*)wszPropName, wcslen(wszPropName));
    jstring joStringPropVal  = (jstring)i_pjenv-&gt;CallStaticObjectMethod(jcSystem, 
                               jmidGetProperty, (jstring)joStringPropName);
    const jchar* jcVal = i_pjenv-&gt;GetStringChars(joStringPropVal, JNI_FALSE);
    printf("%ws = %ws\n", wszPropName, jcVal);
    i_pjenv-&gt;ReleaseStringChars(joStringPropVal, jcVal);
    return 0;
}
</code></pre>
