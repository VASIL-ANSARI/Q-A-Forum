<p>Here's a quick solution.  Note, however, that you could get duplicate solutions if your list contains duplicate values.</p>

<pre><code>from itertools import *

s = [5, 7, 9, 12, 6]
m = 15

c = chain(*[combinations(s, i) for i in range(len(s)+1)])
r = [n for n in c if sum(n) == m]

print r
</code></pre>

<p>Here's a more complicated version that handles duplicate values in the list:</p>

<pre><code>from itertools import *
from collections import *

s = [5, 7, 9, 12, 6]
m = 15

c = Counter(s)
u = list(c)
ul = len(u)
t = [c[x] for x in u]
p = product(*[xrange(i+1) for i in t])
e = ([a for b in [[u[i]] * x[i] for i in range(ul)] for a in b] for x in p)
r = [n for n in e if sum(n) == m]

print r
</code></pre>
