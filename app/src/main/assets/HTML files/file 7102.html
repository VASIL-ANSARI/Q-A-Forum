<p>You can use the below function for posting data to web-server.</p>

<pre><code>-(void)callCommentWebService:(NSString *)pstrCommentXML{

    NSString *soapMsg = 
    [NSString stringWithFormat:
    @"&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;"
    "&lt;soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;"
    "&lt;soap:Body&gt;"
    "&lt;getImageComment xmlns=\"http://tempuri.org/\"&gt;"
    "&lt;Commentsxml&gt;%@&lt;/Commentsxml&gt;"
    "&lt;/getImageComment&gt;"
    "&lt;/soap:Body&gt;"
    "&lt;/soap:Envelope&gt;", pstrCommentXML
    ];


    //Create URL Request
    NSURL *url = [NSURL URLWithString: @"http://www.website.com/website/WebService.asmx?op=getImageComment"];
    NSMutableURLRequest *req = [NSMutableURLRequest requestWithURL:url];

    //Populate Headers
    NSString *msgLength = [NSString stringWithFormat:@"%d", [soapMsg length]];
    [req addValue:@"text/xml; charset=utf-8"  forHTTPHeaderField:@"Content-Type"];  
    [req addValue:msgLength forHTTPHeaderField:@"Content-Length"];
    [req setHTTPMethod:@"POST"];
    [req setHTTPBody: [soapMsg dataUsingEncoding:NSUTF8StringEncoding]];

    conn = [[NSURLConnection alloc] initWithRequest:req delegate:self];
    if (conn)
    {
        webData = [[NSMutableData data] retain];
    }
}
</code></pre>

<p>Here,
url = you server web-service path</p>

<p>pstrCommentXML = you XML file whose format defined for upload</p>

<p>Then you can use simple delegate methods for getting response from server.</p>

<pre><code>-(void) connection:(NSURLConnection *) connection didReceiveResponse:(NSURLResponse *) response 
{
    [webData setLength: 0];
}

-(void) connection:(NSURLConnection *) connection didReceiveData:(NSData *) data 
{
    [webData appendData:data];
}

- (void) connection:(NSURLConnection *) connection didFailWithError:(NSError *) error 
{
    [webData release];
    [connection release];
}

-(void) connectionDidFinishLoading:(NSURLConnection *) connection 
{

}
</code></pre>

<p>Hope you got the point.</p>
