<p>You are concatenating your key with the confirmation url directly. It will always lead to a 404 error page because the link doesn't exists.
Instead you can get the query via get request and process it in the confirmation script as follows.</p>

<pre><code>$link = 'www.example.com/confirmation/?key='.$query;
</code></pre>

<p>In the confirmation script get the query via get method as follows.</p>

<pre><code>$key=$_GET['key'];
</code></pre>

<p>Let the original key will be stored as <code>$original_key=12345;</code>
Now check whether the passed key is similar to the original key as</p>

<pre><code>if($key==$original_key)
{
//confirm e-mail
}
else
{
//invalid key
}
</code></pre>
