<p>This Java bug explains how: <a href="http://bugs.sun.com/view_bug.do?bug_id=4787931">http://bugs.sun.com/view_bug.do?bug_id=4787931</a></p>

<p>System property <code>user.home</code> is set by:</p>

<ol>
<li>Read the registry value for key: <code>HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\Shell Folders\Desktop</code></li>
<li>Take the parent path of this value, but do <em>not</em> resolve environment variables.</li>
</ol>

<p>Example: <code>%userprofile%\Desktop</code> => <code>%userprofile%</code> (unresolved environment variable)</p>

<p>This issue should be fixed in Java 8.</p>

<p>Related Ref: <a href="http://stackoverflow.com/questions/2134338/java-user-home-is-being-set-to-userprofile-and-not-being-resolved">Java user.home is being set to %userprofile% and not being resolved</a></p>
