<p><code>validates_associated</code> simply runs the <code>validations</code> that are specified within the <code>associated object's class</code>, it does nothing in regard to <code>foreign keys</code>.</p>

<p>So,<code>validates_associated :books</code> in your <code>Library</code> Model simply runs the <code>validations</code> which are specified in your <code>Book</code> Model(<strong>if there are any</strong>).You haven't specified the <code>validation</code> in your <code>Book</code> model,so <code>validates_associated :books</code> just fails.</p>

<p>You need to use <code>validates :library_id, :presence=&gt;true</code> in your <code>Book</code> model for your purpose.</p>

<pre><code>class Book &lt; ActiveRecord::Base
 belongs_to :library 
 validates :library_id, :presence=&gt;true
end
</code></pre>
