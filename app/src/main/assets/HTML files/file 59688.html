<p>you need have a separate table with each unique <code>transaction</code> value. This can be done either with a separate table or you can use a derived table as below: </p>

<pre><code>SELECT COALESCE(sum(`amount`),0) as amount, der.transaction_type
FROM (SELECT 'payment' as transaction_type
UNION SELECT 'deposit'
UNION SELECT 'withdraw') der
LEFT JOIN `transactions` t on t.transaction=der.transaction_type AND `transaction` AND `created_at` &gt;= unix_timestamp(DATE_SUB(NOW(), INTERVAL 15 DAY))
group by der.transaction_type
</code></pre>

<p>This will be show but if your table doesn't have a lot of rows in it then it shouldn't be too big of a deal. It'll perform MUCH better if you have a dedicated table and indexes on the columns</p>
