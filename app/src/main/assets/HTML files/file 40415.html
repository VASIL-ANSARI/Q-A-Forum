<p>I think it's just a failure of GCC to catch the problem. It's certainly UB (aliasing violation). Solving it with <code>__attribute__((__may_alias__))</code> is easy though:</p>

<pre><code>typedef uint32_t __attribute__((__may_alias__)) u32ma;
</code></pre>

<p>then use <code>u32ma</code> instead of <code>uint32_t</code> in the pointer cast.</p>
