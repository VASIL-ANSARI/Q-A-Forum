<p>Because the variable <code>lng</code> is not set when the code runs to the line <code>alert(lng)</code>.</p>

<p>The Ajax call is async. That means, JS engine goes into the flow:</p>

<ol>
<li>Issue http request (<code>$.ajax...</code>)</li>
</ol>

<p>(At this point, since the network operation is slow, so JS engine chooses to continue executing the following lines. It comes back after the response completes.)</p>

<ol start="2">
<li>Runs into line <code>alert(lng)</code>. At this point, it is still <code>undefined</code>.</li>
<li>The request responses success/error, then run corresponding callback function <code>function(response)...</code>. Alert inside the callback function will get what you want.</li>
</ol>
