<p>This should do what you want.  It sorts by the keys, but we can access the value inside the function, so we can use that as our sort criteria too.</p>

<pre><code>uksort($rgData, function($a, $b) use($rgData){
    $aVal = $rgData[$a];
    $bVal = $rgData[$b];

    // Compare the values
    if($aVal === $bVal){
        // If they are the same, compare the keys
        return $a - $b;
    }
    // Otherwise compare the values
    return $aVal - $bVal;
});
</code></pre>
