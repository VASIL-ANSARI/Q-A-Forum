<p>You've misunderstood Local Indices.</p>

<p>A <a href="http://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Query.html" rel="nofollow">Query</a> always takes a hash key. So your <code>QueryRequest</code> should have has a <code>setHashKeyValue</code> setup. </p>

<p>You can't cross-hash a query, not with hash+range primary key and not with LSI. You can do that with GSI but I'm not sure how this will help you here.</p>

<p>It is unclear what exactly you are trying to achieve. If you want <em>all</em> usernames then you need a <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryAndScan.html#QueryAndScan.Scan" rel="nofollow">Scan</a> and not a Query - since you want all hash keys to be present. </p>
