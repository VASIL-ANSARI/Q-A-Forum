<p>You can use the POCO library it's small (ALOT smaller than boost) and more readable than ACE when it comes to networking.</p>

<p>Here's the source of a ping program using the ICMPClient
You will find it under POCO_BASE/net/examples/Ping/src</p>

<pre><code>#include "Poco/Util/Application.h"
#include "Poco/Util/Option.h"
#include "Poco/Util/OptionSet.h"
#include "Poco/Util/HelpFormatter.h"
#include "Poco/Util/AbstractConfiguration.h"
#include "Poco/Net/ICMPSocket.h"
#include "Poco/Net/ICMPClient.h"
#include "Poco/Net/IPAddress.h"
#include "Poco/Net/ICMPEventArgs.h"
#include "Poco/AutoPtr.h"
#include "Poco/NumberParser.h"
#include "Poco/Delegate.h"
#include &lt;iostream&gt;
#include &lt;sstream&gt;


using Poco::Util::Application;
using Poco::Util::Option;
using Poco::Util::OptionSet;
using Poco::Util::HelpFormatter;
using Poco::Util::AbstractConfiguration;
using Poco::Net::ICMPSocket;
using Poco::Net::ICMPClient;
using Poco::Net::IPAddress;
using Poco::Net::ICMPEventArgs;
using Poco::AutoPtr;
using Poco::NumberParser;
using Poco::Delegate;


class Ping: public Application
    /// This sample demonstrates the Poco::Net::ICMPClient in conjunction with 
    /// Poco Foundation C#-like events functionality.
    ///
    /// Try Ping --help (on Unix platforms) or Ping /help (elsewhere) for
    /// more information.
{
public:
    Ping(): 
        _helpRequested(false), 
        _icmpClient(IPAddress::IPv4),
        _repetitions(4), 
        _target("localhost")
    {
    }

protected:  
    void initialize(Application&amp; self)
    {
        loadConfiguration(); // load default configuration files, if present
        Application::initialize(self);

        _icmpClient.pingBegin += Delegate&lt;Ping, ICMPEventArgs&gt;(this, &amp;Ping::onBegin);
        _icmpClient.pingReply += Delegate&lt;Ping, ICMPEventArgs&gt;(this, &amp;Ping::onReply);
        _icmpClient.pingError += Delegate&lt;Ping, ICMPEventArgs&gt;(this, &amp;Ping::onError);
        _icmpClient.pingEnd   += Delegate&lt;Ping, ICMPEventArgs&gt;(this, &amp;Ping::onEnd);
    }

    void uninitialize()
    {
        _icmpClient.pingBegin -= Delegate&lt;Ping, ICMPEventArgs&gt;(this, &amp;Ping::onBegin);
        _icmpClient.pingReply -= Delegate&lt;Ping, ICMPEventArgs&gt;(this, &amp;Ping::onReply);
        _icmpClient.pingError -= Delegate&lt;Ping, ICMPEventArgs&gt;(this, &amp;Ping::onError);
        _icmpClient.pingEnd   -= Delegate&lt;Ping, ICMPEventArgs&gt;(this, &amp;Ping::onEnd);

        Application::uninitialize();
    }

    void defineOptions(OptionSet&amp; options)
    {
        Application::defineOptions(options);

        options.addOption(
            Option("help", "h", "display help information on command line arguments")
                .required(false)
                .repeatable(false));

        options.addOption(
            Option("repetitions", "r", "define the number of repetitions")
                .required(false)
                .repeatable(false)
                .argument("repetitions"));

        options.addOption(
            Option("target", "t", "define the target address")
                .required(false)
                .repeatable(false)
                .argument("target"));
    }

    void handleOption(const std::string&amp; name, const std::string&amp; value)
    {
        Application::handleOption(name, value);

        if (name == "help")
            _helpRequested = true;
        else if (name == "repetitions")
            _repetitions = NumberParser::parse(value);
        else if (name == "target")
            _target = value;
    }

    void displayHelp()
    {
        HelpFormatter helpFormatter(options());
        helpFormatter.setCommand(commandName());
        helpFormatter.setUsage("OPTIONS");
        helpFormatter.setHeader(
            "A sample application that demonstrates the functionality of the "
            "Poco::Net::ICMPClient class in conjunction with Poco::Events package functionality.");
        helpFormatter.format(std::cout);
    }


    int main(const std::vector&lt;std::string&gt;&amp; args)
    {
        if (_helpRequested) 
            displayHelp();
        else 
            _icmpClient.ping(_target, _repetitions);

        return Application::EXIT_OK;
    }


    void onBegin(const void* pSender, ICMPEventArgs&amp; args)
    {
        std::ostringstream os;
        os &lt;&lt; "Pinging " &lt;&lt; args.hostName() &lt;&lt; " [" &lt;&lt; args.hostAddress() &lt;&lt; "] with " &lt;&lt; args.dataSize() &lt;&lt; " bytes of data:" 
           &lt;&lt; std::endl &lt;&lt; "---------------------------------------------" &lt;&lt; std::endl;
        logger().information(os.str());
    }

    void onReply(const void* pSender, ICMPEventArgs&amp; args)
    {
        std::ostringstream os;
        os &lt;&lt; "Reply from " &lt;&lt; args.hostAddress()
           &lt;&lt; " bytes=" &lt;&lt; args.dataSize() 
           &lt;&lt; " time=" &lt;&lt; args.replyTime() &lt;&lt; "ms"
           &lt;&lt; " TTL=" &lt;&lt; args.ttl();
        logger().information(os.str());
    }

    void onError(const void* pSender, ICMPEventArgs&amp; args)
    {
        std::ostringstream os;
        os &lt;&lt; args.error();
        logger().information(os.str());
    }

    void onEnd(const void* pSender, ICMPEventArgs&amp; args)
    {
        std::ostringstream os;
        os &lt;&lt; std::endl &lt;&lt; "--- Ping statistics for " &lt;&lt; args.hostName() &lt;&lt; " ---"
           &lt;&lt; std::endl &lt;&lt; "Packets: Sent=" &lt;&lt; args.sent() &lt;&lt; ", Received=" &lt;&lt; args.received()
           &lt;&lt; " Lost=" &lt;&lt; args.repetitions() - args.received() &lt;&lt; " (" &lt;&lt; 100.0 - args.percent() &lt;&lt; "% loss),"
           &lt;&lt; std::endl &lt;&lt; "Approximate round trip times in milliseconds: " &lt;&lt; std::endl
           &lt;&lt; "Minimum=" &lt;&lt; args.minRTT() &lt;&lt; "ms, Maximum=" &lt;&lt; args.maxRTT()  
           &lt;&lt; "ms, Average=" &lt;&lt; args.avgRTT() &lt;&lt; "ms" 
           &lt;&lt; std::endl &lt;&lt; "------------------------------------------";
        logger().information(os.str());
    }

private:
    bool        _helpRequested;
    ICMPClient  _icmpClient;
    int         _repetitions;
    std::string _target;
};


int main(int argc, char** argv)
{
    AutoPtr&lt;Ping&gt; pApp = new Ping;
    try
    {
        pApp-&gt;init(argc, argv);
    }
    catch (Poco::Exception&amp; exc)
    {
        pApp-&gt;logger().log(exc);
        return Application::EXIT_CONFIG;
    }
    return pApp-&gt;run();
}
</code></pre>

<p>You can delete the logger / help stuff to make the source a bit shorter and use 
OnReply / OnError / OnEnd to calculate the packet loss</p>

<p>You send 4 packets .... 3 packets were returned (OnReply) packet loss = 1-3/4 = 25%.</p>
