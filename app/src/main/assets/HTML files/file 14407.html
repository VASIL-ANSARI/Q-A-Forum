<p>preferences.xml file:</p>

<pre><code>&lt;PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;Preference android:key="dialog_preference" /&gt;
&lt;/PreferenceScreen&gt;
</code></pre>

<p>Activity:</p>

<pre><code>addPreferencesFromResource(R.xml.preferences);

dialogPreference = (Preference) getPreferenceScreen().findPreference("dialog_preference");
dialogPreference.setOnPreferenceClickListener(new OnPreferenceClickListener() {
        public boolean onPreferenceClick(Preference preference) {
            // dialog code here
            return true;
        }
    });
</code></pre>
