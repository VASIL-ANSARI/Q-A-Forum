<p>For:</p>

<pre><code>long_string = &lt;&lt;EOS
It was the best of times,
It was the worst of times.
EOS

String is:
"It was the best of times,\nIt was the worst of times.\n"

It was the best of times, =&gt; 25
&lt;newline&gt; =&gt; 1
It was the worst of times. =&gt; 26
&lt;newline&gt; =&gt; 1
Total = 25 + 1 + 26 + 1 = 53
</code></pre>

<p>And</p>

<pre><code>long_string = %{
It was the best of times,
It was the worst of times.
}

String is:
"\nIt was the best of times,\nIt was the worst of times.\n"
#Note leading "\n"
</code></pre>

<p><strong>How it works:</strong></p>

<p>In the case of <code>&lt;&lt;EOS</code>, the lines that follow it are part of the string. All the text after <code>&lt;&lt;</code> on the same line as <code>&lt;&lt;</code> and to the end of the line would be part of the "marker" that determines when the string ends (in this case an <code>EOS</code> on a line by itself is matching the <code>&lt;&lt;EOS</code>).</p>

<p>In case of <code>%{...}</code>, it is just a different delimiter used in place of <code>"..."</code>. So when you have the string starting on a new line after a <code>%{</code>, that newline is part of the string.</p>

<p>Try this example and you will see how <code>%{...}</code> is working same as <code>"..."</code>:</p>

<pre><code>a = "
It was the best of times,
It was the worst of times.
"
a.length # =&gt; 54

b = "It was the best of times,
It was the worst of times.
"
b.length # =&gt; 53
</code></pre>
