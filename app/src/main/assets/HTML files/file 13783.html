<p>The <a href="http://php.net/manual/en/control-structures.foreach.php" rel="nofollow"><code>foreach()</code></a> <strong>must</strong> be inside a <a href="http://php.net/manual/en/language.functions.php" rel="nofollow"><code>function</code></a> if it is within a <code>class</code>.</p>

<pre><code>public function somefunction(){
 foreach(...){
  ...
 }
}
</code></pre>

<p>If you want it called every time the class is instantiated, you can use <a href="http://php.net/manual/en/language.oop5.decon.php" rel="nofollow"><code>__construct()</code></a>.</p>

<pre><code>public function __construct(){
 foreach(...){
  ...
 }
}
</code></pre>
