<pre><code>function increase_brightness(hex, percent){
    // strip the leading # if it's there
    hex = hex.replace(/^\s*#|\s*$/g, '');

    // convert 3 char codes --&gt; 6, e.g. `E0F` --&gt; `EE00FF`
    if(hex.length == 3){
        hex = hex.replace(/(.)/g, '$1$1');
    }

    var r = parseInt(hex.substr(0, 2), 16),
        g = parseInt(hex.substr(2, 2), 16),
        b = parseInt(hex.substr(4, 2), 16);

    return '#' +
       ((0|(1&lt;&lt;8) + r + (256 - r) * percent / 100).toString(16)).substr(1) +
       ((0|(1&lt;&lt;8) + g + (256 - g) * percent / 100).toString(16)).substr(1) +
       ((0|(1&lt;&lt;8) + b + (256 - b) * percent / 100).toString(16)).substr(1);
}

/**
 * ('#000000', 50) --&gt; #808080
 * ('#EEEEEE', 25) --&gt; #F2F2F2
 * ('EEE     , 25) --&gt; #F2F2F2
 **/
</code></pre>
