<p>You can only access the outer query 1 level deep. So try doing you where filter on the middle query:</p>

<pre><code>SELECT MIN(id)
FROM (
    SELECT id, post_id 
    FROM   comments 
    ORDER  BY id DESC 
    LIMIT  7
)
WHERE post_id = p.id 
</code></pre>
