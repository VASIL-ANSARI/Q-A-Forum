<p>You can use this regex:</p>

<pre><code>$repl = preg_replace('/(?&lt;!")(\R|\z)/', '.', $input);
</code></pre>

<p><a href="https://regex101.com/r/fP3mC3/5" rel="nofollow">RegEx Demo</a></p>

<ul>
<li><code>\R</code> matches any Unicode newline sequence.</li>
<li><code>\z</code> assert position at the very end of the string.</li>
<li><code>(?&lt;!")</code> is negative lookbehind to make sure line end is not preceded with <code>"</code></li>
</ul>
