<p>What i have come op with so far:</p>

<pre><code>(function(root) { // Here root refers to global scope
    define('mything', ['other', 'thing'], function() {

    });
}(this);
</code></pre>

<p>But then I can't use <a href="https://github.com/jrburke/r.js/" rel="nofollow"><code>r.js</code></a> to minify my application.</p>

<p>And another could be to check what to use:</p>

<pre><code>define(['other', 'thing'], function() {
    var root = typeof GLOBAL != 'undefined' ? GLOBAL : window;
});
</code></pre>

<p>Yet another way it to define a global file which returns the global:</p>

<p><strong>global.js:</strong></p>

<pre><code>define(function() {
    return typeof GLOBAL != 'undefined' ? GLOBAL : window;
});
</code></pre>

<p><strong>mything.js</strong></p>

<pre><code>define(['global', 'other', 'thing'], function(root) {
    // root === window/GLOBAL
});
</code></pre>

<p>But I don't like these way because what if some 3. global variable is introduced this will break, or if the user in a browser environment defines <code>GLOBAL</code> then that will be returned.</p>

<p>I would like to see if anyone have come up with a smarter way. </p>
