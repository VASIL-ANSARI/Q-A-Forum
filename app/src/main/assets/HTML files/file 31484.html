<p>This is a classic programming problem.  You need to find the <a href="http://en.wikipedia.org/wiki/Maximum_subarray_problem" rel="nofollow">Maximum Subarray</a>.  </p>

<p>Wiki covers the algorithm in one dimension.  Once you understand this, its pretty easy to extend to 2 dimensions.</p>
