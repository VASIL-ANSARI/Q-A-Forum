<p>You just need to join the city table to filter on the city field. </p>

<pre><code>where{(zip =~ "%#{search}%") | (city.name =~ "%#{search}%")}.joins{city.outer}
</code></pre>

<p><em>If all buildings have one city you can remove the outer join.</em></p>
