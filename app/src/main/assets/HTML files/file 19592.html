<p>The X in A is destroyed when it goes out of scope.</p>

<p>A returns a temporary object (constructed from X by the move constructor) which is a separate instance. This is destroyed in the caller's scope. That will cause the destructor to be called again (on the temporary).</p>

<p>The move constructor was picked because the compiler detected that X was going to be destroyed immediately afterward. To use this approach, the move constructor should nullify or reset any data in the original object so that the destructor will not invalidate any data that has been taken over by the destination of the move.</p>

<blockquote>
  <p>When you pass an rvalue by value, or return anything by value from a function, the compiler first gets the option to elide the copy. If the copy isnât elided, but the type in question has a move constructor, the compiler is required to use the move constructor.</p>
</blockquote>

<p><a href="http://cpp-next.com/archive/2009/09/move-it-with-rvalue-references/" rel="nofollow">http://cpp-next.com/archive/2009/09/move-it-with-rvalue-references/</a></p>

<blockquote>
  <p>When you exit from the scope in which the temporary object was created, it is destroyed. If a reference is bound to a temporary object, the temporary object is destroyed when the reference passes out of scope unless it is destroyed earlier by a break in the flow of control.</p>
</blockquote>

<p><a href="http://publib.boulder.ibm.com/infocenter/comphelp/v8v101/index.jsp?topic=%2Fcom.ibm.xlcpp8a.doc%2Flanguage%2Fref%2Fcplr382.htm" rel="nofollow">http://publib.boulder.ibm.com/infocenter/comphelp/v8v101/index.jsp?topic=%2Fcom.ibm.xlcpp8a.doc%2Flanguage%2Fref%2Fcplr382.htm</a></p>

<p>The RVO can produce different behavior from the non-optimized version:</p>

<blockquote>
  <p>Return value optimization, or simply RVO, is a compiler optimization technique that involves eliminating the temporary object created to hold a function's return value.[1] In C++, it is particularly notable for being allowed to change the observable behaviour of the resulting program.[2]</p>
</blockquote>

<p><a href="http://en.wikipedia.org/wiki/Return_value_optimization" rel="nofollow">http://en.wikipedia.org/wiki/Return_value_optimization</a></p>
