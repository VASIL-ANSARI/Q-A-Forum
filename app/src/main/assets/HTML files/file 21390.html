<p>The first line should be</p>

<pre><code> _setmode(_fileno(stdout), _O_WTEXT); 
</code></pre>

<p>which is the Windows equivalent of the appropriate imbue() for wide character output (they still don't support Unicode in standard C++ except for what C++11 made a requirement).</p>

<p>Check MSDN for the headers to #include </p>

<p>Also note that the font installed in console window often lacks much of other Windows programs can display. When in doubt, redirect program output to a file and open that file with Wordpad etc.</p>
