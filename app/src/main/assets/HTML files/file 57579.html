<p><strong>Client side active tab solution:</strong></p>

<p>You could call window.open only on, if the tab is active ( currently viewed ).
This could be done like <a href="http://www.stepblogging.com/how-to-check-browser-tab-is-hidden-or-visible-using-jquery/" rel="nofollow">this</a>:</p>

<pre><code>function isTabActive(){
    var state; 

    if (typeof document.hidden !== "undefined") {
        state = "visibilityState";
    } else if (typeof document.mozHidden !== "undefined") {
        state = "mozVisibilityState";
    } else if (typeof document.msHidden !== "undefined") {
        state = "msVisibilityState";
    } else if (typeof document.webkitHidden !== "undefined") {
        state = "webkitVisibilityState";
    }
    return document[state] != "hidden";
}
</code></pre>

<p><strong>Client sided with cookies</strong></p>

<p>You could also use cookies to save if the popup is already open.
Cookies can be written and read with js.</p>

<p><strong>Server sided solution with socket.io</strong></p>

<p>If you have user accounts use them instead of the ip! Otherwise it will be buggy for multiple users with the same ip.</p>

<pre><code>var alreadySend={};
io.on('connection', function(socket)
{
   if(!alreadySend.hasOwnProperty(socket.handshake.address))
   {
      socket.emit("create popup", "popup1");
      alreadySend[socket.handshake.address]=true;
   }
});
</code></pre>

<p>reset with </p>

<pre><code>delete alreadySend[socket.handshake.address];
</code></pre>

<p>Also <a href="http://stackoverflow.com/questions/6458083/get-the-clients-ip-address-in-socket-io">here</a> you can find more detailed info about getting the ip with socket.io</p>
