<p>I would use the <a href="https://docs.python.org/2/library/fileinput.html" rel="nofollow">fileinput</a> library, it would be something like this:</p>

<pre><code>import sys
import fileinput

for i, line in enumerate(fileinput.input('lorem_ipsum.txt', inplace=1)):
    if "&lt;MultiPartMessage&gt;" in line:
        sys.stdout.write(line.replace(
            '&lt;MultiPartMessage&gt;false&lt;/MultiPartMessage&gt;', 
            '&lt;MultiPartMessage&gt;something&lt;/MultiPartMessage&gt;'))
    elif "&lt;NumberOfMultiParts&gt;" in line:
        sys.stdout.write(line.replace(
            '&lt;NumberOfMultiParts&gt;0&lt;/NumberOfMultiParts&gt;', 
            '&lt;NumberOfMultiParts&gt;something&lt;/NumberOfMultiParts&gt;'))
    else
        sys.stdout.write(line)
</code></pre>
