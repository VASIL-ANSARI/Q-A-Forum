<p>Use <code>pathinfo</code> for file type <code>$filetype = pathinfo($path, PATHINFO_EXTENSION);</code></p>

<pre><code>$img = "uploads/images/smile.png";
$filetype = pathinfo($img, PATHINFO_EXTENSION);
$imgdata = base64_encode(file_get_contents($img));
$src = "data:" . $filetype . ";base64," . $imgdata;
</code></pre>
