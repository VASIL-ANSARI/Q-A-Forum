<p>You specified that the on each line the initial value is a consecutive key, and the remaining values on each line consist of whitespace-delimited tupled, which each tuple being two values separated by a comma, with the first value being some other identifier, and as such the first value of all tuples on the same line will be unique.</p>

<p>As such, I would suggest the following data structure:</p>

<pre><code>typedef std::vector&lt;std::map&lt;int, int&gt;&gt; map_t;
</code></pre>

<p>the vector index would be the initial key. Your vector indexes are 0-based, and in your data file they are 1-based, but this is simple enough to handle on the fly. Either change your data file, or just proceed with the key 0 having no data.</p>

<p>Each value in the vector is a map. The map's key is the "other node" id, and the value is the distance to the other node -- according to your description of what this data means.</p>

<p>This data structure will model this data nicely. Now, as far as the matter of reading and parsing this data:</p>

<p>Your initial approach is correct: use <code>std::getline()</code> to read each line at a time into a string:</p>

<pre><code>map_t my_map;

std::string line;

while (std::getline(inputFile, line)) {

    // Here be dragons

}
</code></pre>

<p>There's nothing to be gained from placing each <code>line</code> into a vector of strings, first. We can simply parse each line as we read it. Inside the loop, we'll handle each line read, and place its data directly into <code>my_map</code>. That's the plan. Simple, easy, and straightforward.</p>

<p>Inside the loop, we begin by placing each line into a <code>std::istringstream</code>, in order to parse it, and then extract the initial node id:</p>

<pre><code>int node_id;

std::istringstream line_stream(line);

line_stream &gt;&gt; node_id;
</code></pre>

<p>Simple enough. If you need to handle bad input, you should be able to figure out how to check for conversion failures yourself here, and in the remaining code.</p>

<p>Now, we then simply need to pluck out each "other_node,distance" tuple pair:</p>

<pre><code>std::string node_distance;
std::map&lt;int, int&gt; node_distance_map;

while (line_stream &gt;&gt; node_distance)
{
     // Here be more dragons.
}
</code></pre>

<p>And that's that. Inside the loop, where there are more dragons, <code>node_distance</code> will be each individual "n,n" string, with two values. That's simple enough for you to figure out, on your own: how to extract these two ints out of this string yourself; then update <code>node_distance_map</code>. Then, after this <code>while_loop</code> you take the constructed <code>node_distance_map</code>, and the <code>node_id</code> extract earlier, and stuff the whole thing into the <code>my_map</code>. Mission accomplished. That didn't seem to be very difficult, did it?</p>
