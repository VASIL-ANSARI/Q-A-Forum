<p>Let's say you parse a simple xml document in a string.</p>

<pre><code>char xml[] = "&lt;hello/&gt;&lt;world/&gt;"

doc.parse(xml);
</code></pre>

<p>RapidXML will insert null terminators (and maybe make other mods to the "document", so it might look like this now:</p>

<pre><code>char xml[] = "&lt;hello\000\000&lt;world\000\000";
</code></pre>

<p>If you than ask for the <code>name()</code> of the 'hello' node, it returns a pointer to the 'h' in your <code>xml</code> array. You can just subtract the base of the array to get an offset.</p>

<pre><code>int offset = node-&gt;name() - &amp;xml[0];
</code></pre>

<p>Obviously this isn't line and character. To get that, you'd need to count the number of newlines between the offset and the array start. (but maybe do this on a 'clean' version of the xml data, as RapidXML might well mangle newline sequences in the processed version..</p>
