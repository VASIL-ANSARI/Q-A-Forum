<p>So you can use Camel's <a href="http://camel.apache.org/splitter.html" rel="nofollow">splitter EIP</a> to split the messages up into as many messages as you want. If you pass a list into a splitter it will automatically split the list by easy element in the lest. If the default splitting tools aren't enough you can write a custom split bean that splits the message in any way you want.</p>

<pre><code>from(START)
 .split(). method(SplitBean.class, "splitMessage")
 .to(FINISH);
</code></pre>

<p>Adding headers to a message is also pretty simple. If all the messages have the same header you can just tack on something like this:</p>

<pre><code>.setHeader("cool", simple("true", Boolean.class))
</code></pre>

<p>after you split.</p>

<p>Routing each message to a different route is also easy using camel <a href="http://camel.apache.org/dynamic-router.html" rel="nofollow">dynamic routing</a>.</p>
