<p>As the number of docs ramaining is so small compared to the rest that you want to purge, i would try to do a selective replication to a new database with a post to _replicate and adding the 400 relevant ids in the doc_ids array. (<a href="http://docs.couchdb.org/en/1.6.1/api/server/common.html#post--_replicate" rel="nofollow">http://docs.couchdb.org/en/1.6.1/api/server/common.html#post--_replicate</a>)</p>

<p>Then just swap to the new database and delete the old one. This will be very fast and very error proof, as couchdb just needs to delete the old database and index files instead of finding and deleting thousands of old docs.</p>
