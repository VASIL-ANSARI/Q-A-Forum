<p>To coalesce my comments, here is how I would rewrite your code:</p>

<pre><code>int main(int argc, char *argv[]) {
  WSADATA wsa;
  SOCKET s, new_socket;
  struct sockaddr_in server, client;
  int c, iResult, receivedCount = 0;
  unsigned long totalReceived = 0, totalExpected=160*120;
  char recvbuf[DEFAULT_BUFLEN];
  int recvbuflen = DEFAULT_BUFLEN;
  typedef unsigned int uint8_t;
  uint8_t i, value;
  size_t len;
  uint8_t* p;

  p = (uint8_t*)recvbuf;

  do {
    iResult = recv(new_socket, recvbuf, recvbuflen, 0);
    len = iResult/sizeof(uint8_t);

    for (i=0; i&lt;len; i++) {
      value = p[i];
      totalReceived++;
      printf("%lu\n", value);
      if (totalReceived &gt;= totalExpected) {
        printf("Retrieved expected data\n");
      }
    }
  } while (iResult &gt; 0);

  if (totalReceived &lt; totalExpected) {
    printf("Received less than expected: %lu &lt; %lu\n", totalReceived, totalExpected);
  }

  closesocket(new_socket);
  WSACleanup();
}
</code></pre>

<p>This covers "double casting" changes, and capturing a data received count across multiple <code>recv</code> calls.</p>
