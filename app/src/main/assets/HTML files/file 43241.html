<p>Keeping around references to <code>EntityManager</code> instances is never a good practice, the static variable <code>em</code> in your case is keeping a stall object after the connection is closed.</p>

<p>Best practices advice to scope <code>EntityManager</code>s to the current transaction.</p>
