<p>So here is an example:</p>

<pre><code>var tree = pickFiles("app/styles", {
  srcDir: '/',
  destDir: 'mui'
});
var muiTree = pickFiles("material-ui/src/less", {
  srcDir: '/',
  destDir: 'material-ui'
});
return compileLess(mergeTrees([tree, muiTree]), 'mui/app.less', 'assets/app.css')
</code></pre>

<p>so you can see the first pick file creates a tree for all the app styles. The second pick files create a tree for the library styles (in your case this should be foundation). You should have a desination directory that matches the style library (in this case material-ui). This will be used for the imports in your less/sass file:</p>

<pre><code>@import "material-ui/scaffolding.less";
@import "material-ui/components.less";
</code></pre>

<p>You see that I do not reference the material-ui files thru global path, but based on the destDir name I previously used.</p>

<p>The call to compileLess (which is the same as compileSass in your example), takes the full tree of less/sass dependencies as the first param, the second param is the main file for your styles and the third is the output file.</p>

<p>When less/sass want to check for dependencies (via import) it will look in the tree you passed as the first param.</p>

<p>Hope this helps.</p>
