<p>Once it finds the first token, it starts looking for the <em>next</em> one <em>after</em> that token. So it finds <code>|CCC|</code>, replaces it, then continues on and the first thing it sees is <code>CCC|</code> which doesn't match. It doesn't pre-scan the string looking for tokens to replace.</p>

<p>Consider it like this:</p>

<p>Given <code>AAA|BBB|CCC|CCC|CCC|CCC|EEE|FFF</code></p>

<p>It runs to <code>AAA|BBB|CCC|</code> <strong><em>HOLD IT</em></strong> <code>|CCC|</code> was found, let's start building our string:</p>

<p><code>AAA|BBB</code> + <code>||</code> (our replacement)</p>

<p>Now let's move on, we now have <code>CCC|CCC|CCC|EEE|FFF</code> left to work with.</p>

<p>It runs to <code>CCC|CCC|</code> <strong><em>HOLD IT</em></strong> <code>|CCC|</code> was found, let's continue adding to our string:</p>

<p><code>AAA|BBB||CCC</code> + <code>||</code> (our replacement)</p>

<p>Now let's move on, we now have <code>CCC|CCC|EEE|FFF</code> and so on and so on.</p>

<p>EDIT: Considering the entry on <a href="http://msdn.microsoft.com/en-us/library/fk49wtc1.aspx">MSDN</a> describing the return value:</p>

<blockquote>
  <p>A string that is equivalent to the current string except that all
  instances of oldValue are replaced with newValue.</p>
</blockquote>

<p>One <em>could</em> read that as what you expect that it pre-scans the string and finds <em>all</em> matches. I don't see anything in the MSDN doc that describes this corner case. Perhaps this is something that should be added to the MSDN doc.</p>
