<p>Undeleting and editing my answer based on edits to the question.</p>

<p>It's incorrect to assume that the comparision is slow. In fact the comparision is fast. Really, really fast. </p>

<p>Why don't you avoid re inventing the wheel by using buffered IO?</p>

<blockquote>
  <p>The optional buffering argument specifies the fileâs desired buffer size: 0 means unbuffered, 1 means line buffered, any other positive value means use a buffer of (approximately) that size (in bytes). A negative buffering means to use the system default, which is usually line buffered for tty devices and fully buffered for other files. If omitted, the system default is used. [2]</p>
</blockquote>

<p><a href="https://docs.python.org/2/library/functions.html#open" rel="nofollow">https://docs.python.org/2/library/functions.html#open</a></p>
