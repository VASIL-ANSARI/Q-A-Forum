<p>Replace:</p>

<pre><code>$query    =    "insert into     users(username,password,email,country)values('$username','$password','$email','$country')" or    die ('username allready exist');
$res    =    mysql_query($query);
</code></pre>

<p>With:</p>

<pre><code>$query    =    "insert into     users(username,password,email,country)values('$username','$password','$email','$country')" ;
$res    =    mysql_query($query) or    die ('username allready exist');
</code></pre>

<p>The problem with your original code is that you are checking that the $query variable is correctly instantiated (and I see no reason why it wouldn't). You need to check if the query was successfully executed or not, ie to check the result of the query call (mysql_query in your case).</p>

<p>Note that your production code shouldn't be using the mysql_* functions (which are not good practice) and should use prepared statements.
See here: [http://uk1.php.net/manual/en/function.mysql-query.php][1]</p>

<p><a href="http://bit.ly/phpmsql" rel="nofollow"><strong>Please, don't use <code>mysql_*</code> functions in new code</strong></a>. They are no longer maintained <a href="https://wiki.php.net/rfc/mysql_deprecation" rel="nofollow">and are officially deprecated</a>. See the <a href="http://j.mp/Te9zIL" rel="nofollow"><strong>red box</strong></a>? Learn about <a href="http://j.mp/T9hLWi" rel="nofollow"><em>prepared statements</em></a> instead, and use <a href="http://php.net/pdo" rel="nofollow">PDO</a> or <a href="http://php.net/mysqli" rel="nofollow">MySQLi</a> - <a href="http://j.mp/QEx8IB" rel="nofollow">this article</a> will help you decide which. If you choose PDO, <a href="http://www.brightmeup.info/article.php?a_id=2" rel="nofollow">here is a good tutorial</a>. </p>
