<p>It has nothing to do with the ternary operator. The arity is <code>0</code>, which is less than <code>1</code>, so you're comparing <code>instance_eval(&amp;block)</code> (apples) and <code>block[self]</code> (oranges). You'd get the same result if you did</p>

<pre><code>def self.generate(filename, &amp;block)
  instance_eval(&amp;block)
  p '---'
  block[self]
end
</code></pre>

<p>And the difference is easy to understand: the former is evaluated with <code>self</code> being a <code>Prawn::Document</code> class object, and in the latter, <code>self</code> is an instance of <code>A</code>.</p>
