<p>I figured it out:</p>

<pre><code>public function searchLawyers(array $categories) {
    $queryBuilder = $this-&gt;createQueryBuilder('lawyer')
        -&gt;join('lawyer.categories', 'category');

        $queryBuilder-&gt;andWhere("category.name in (:categories)");
        $queryBuilder-&gt;setParameter("categories", $categories);

        $queryBuilder-&gt;addGroupBy("lawyer.id");

        $queryBuilder-&gt;andHaving("COUNT(DISTINCT category.name) = :count");
        $queryBuilder-&gt;setParameter("count", sizeof($categories));

    return $queryBuilder-&gt;getQuery()-&gt;getResult();
}
</code></pre>
