<p>static_assert to the rescue (C++11 only, uncomment BOOST_STATIC_ASSERT for C++03):</p>

<pre><code>#include&lt;iostream&gt;
// #include &lt;boost/static_assert.hpp&gt;

template&lt;int N&gt;
struct is_power_of_two {
    enum {val = N &amp;&amp; !(N &amp; (N - 1))};
    static_assert(val, "should use a power of 2 as template parameter");
    // BOOST_STATIC_ASSERT(val); // without C++11 support, won't take a string message
};

int main()
{
        std::cout &lt;&lt; is_power_of_two&lt;2&gt;::val &lt;&lt; "\n";
        std::cout &lt;&lt; is_power_of_two&lt;3&gt;::val &lt;&lt; "\n";
}
</code></pre>

<p><a href="http://ideone.com/M8K7a">Ideone output for C++11</a></p>

<p><a href="http://ideone.com/sONFF">Ideone output for C++03</a></p>

<p><strong>UPDATE1</strong>: other idea (I know you don't want this, but it is a lot easier for large exponents):</p>

<pre><code>template&lt;int N&gt;
make_power_of_two
{
    enum { val = 1 &lt;&lt; N };
};

my_stupid_array&lt;char, make_power_of_two&lt;5&gt;::val &gt; a1; // size 2^5 = 32
</code></pre>

<p><strong>UPDATE2</strong>: based on comments by @sehe in the chat, you can do this for <code>constexpr</code> functions as well</p>

<pre><code>constexpr bool is_power_of_two(int x)
{
    return x &amp;&amp; ((x &amp; (x-1)) == 0);
}
</code></pre>
