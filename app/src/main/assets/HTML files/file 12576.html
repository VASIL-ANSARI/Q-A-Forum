<p>You should move more code to the <strong>foreach</strong> loop and add some checking like that:</p>

<pre><code>foreach ($ldapBase as $dn){ 
    $sr = ldap_search($ds, $dn, "(samaccountname=$username)");
    $ent = ldap_get_entries($ds, $sr);

    if ($ent === false || $ent['count'] === 0)
        continue;

    $dn = $ent[0]['dn'];
    $newinfo['primaryTelexNumber'] = $printpin;

    $save = ldap_modify($ds, $dn, $newinfo);

    if (!$save)
        die('Cannot save to LDAP server');

    break;
}
</code></pre>

<p>If all OU's should be searched and modified then drop the last <strong>break</strong> in the loop.</p>
