<p>When you insert a node into a tree it causes a changes in a whole tree. So when you insert <code>b</code> node, your <code>a</code> and <code>root</code> nodes change at database, but your variables doesn't get updated and remain to contain old left/right values, which are used to build correct tree structure.</p>

<p>In your case, when line <code>aa.insert_at(a, save = True)</code> is in proccess, your <code>a</code> variable contains an old instance with <code>lft</code> = 2 and <code>rght</code> = 3, while in database <code>a</code> node contains <code>lft</code> = 4 and <code>rght</code> = 5.</p>

<p>You need to get fresh instance of a parent before inserting a new item. </p>
