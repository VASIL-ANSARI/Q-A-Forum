<p>You have nested double-quotes in:</p>

<pre><code>$o. = "&lt;i onclick=\" $(\"#maindiv\").load('another.php'); return false; \"&gt;XXX&lt;/i&gt;";
</code></pre>

<p>It outputs:</p>

<pre><code>&lt;i onclick=" $("#maindiv").load('another.php'); return false; "&gt;XXX&lt;/i&gt;
</code></pre>

<p>Replace inner double quotes (around <code>#maindiv</code>) with single quotes:</p>

<pre><code>&lt;i onclick=" $('#maindiv').load('another.php'); return false; "&gt;XXX&lt;/i&gt;
</code></pre>

<p>or replace nested double-quotes with the <code>&amp;quot;</code> entity:</p>

<pre><code>&lt;i onclick=" $(&amp;quot;#maindiv&amp;quot;).load('another.php'); return false; "&gt;XXX&lt;/i&gt;
</code></pre>

<p>To make such replacement automatically, use the PHP's built-in <a href="http://php.net/manual/en/function.htmlspecialchars.php" rel="nofollow"><code>htmlspecialchars()</code></a> function.</p>

<p>By the way, during debug, it's generally a good idea to separate client side from server side. First make static HTML working, then convert it to a server-side scripted one. And consider using a template engine instead of hardcoding HTML into PHP code.</p>
