<p>I don't know if this is the same problem I had, but what I did was declare the targetoptions as a new pointer.</p>

<p>eg:</p>

<pre><code>clang::TargetOptions *targetOpts=new clang::TargetOptions;
</code></pre>

<p>I have a feeling targetinfo cleans it up when itself is destroyed.</p>
