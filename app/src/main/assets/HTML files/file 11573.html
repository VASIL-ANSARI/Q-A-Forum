<p>As the users are connected to the team only by membership, isn't just <code>Team.memberships.map(&amp;:permissions)</code> the code you need?</p>
