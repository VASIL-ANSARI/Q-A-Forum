<p>I don't see where you initialize the variables <code>rows</code> and <code>cols</code> in <code>main</code>.</p>

<p>Once you fix that, <code>x</code> and <code>y</code> inside <code>create_array</code> are afflicted with the same problem. If the object is to fill the array with pseudo-random values, you don't need <code>x</code> since <code>i</code> is already marching through your 2D array (whose vector-of-pointers based representation is known as the <a href="http://en.wikipedia.org/wiki/Iliffe_vector" rel="nofollow">Iliffe vector</a>, by the way). You just need to introduce some <code>j</code> which marches through each row of the array. This <code>j</code> would be stepped in a loop that is nested inside the existing loop:</p>

<pre><code>for(int i = 0; i &lt; rows; i++){
   array[i] = new int[cols];       // allocate row
   for (int j = 0; i &lt; cols; j++)  // loop over it and fill it
     array[i][j] = 1 + rand()%100;
}
</code></pre>

<p>There is another issue in that your major loop, which should be allocating <strong>rows</strong> of the array, is looping <code>i</code> from <code>0</code> to <code>i &lt; cols</code>.  This should be <code>i &lt; rows</code>.  Inside the loop, you allocate a row whose size is <code>[cols]</code>, which is correct. In my snipped above, I made the correction, if you look closely.</p>
