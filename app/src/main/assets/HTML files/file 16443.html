<p>If you mean "not a string" by complex variable, for $clientname, then your code won't work.</p>

<p>In this line of code :</p>

<pre><code>&lt;script type="text/javascript"&gt; var clientname = '&lt;?= $clientname ?&gt;'; &lt;/script&gt;
</code></pre>

<p><code>$clientname</code> should be a string without the <code>'</code> character. I suggest you change the code above to </p>

<pre><code>&lt;script type="text/javascript"&gt; var clientname = &lt;?= json_encode($clientname) ?&gt;; &lt;/script&gt;
</code></pre>

<p>And when you append you should construct a string from <code>clientname</code> and append that.</p>
