<pre><code>epIN = usbIf.getEndpoint(i);
epOUT = usbIf.getEndpoint(i);
</code></pre>

<p>If here <code>i</code> (the endpoint index) has the same value for both calls you will end up with the same endpoint. The endpoint however has a direction and can't be used to send <strong>and</strong> receive data. As the <code>bulkTransfer()</code> method uses the endpoint address to determine the direction you end up in two reads or two writes respectively.</p>

<p>Note that the endpoint index in an interface does not match the endpoint address. Interfaces are logical mappings for endpoints (which have hardware addresses).
I guess you may want to read from IN endpoint 1 (address: 0x81) and write to OUT endpoint 1 (address: 0x01). Therefor you are using the same value for <code>i</code> However IN 1 and OUT 1 are not the same endpoint.</p>

<p>Examine the device descriptor to find out which endpoint you want to communicate with. The first mentioned endpoint after the interface descriptor is accessible via <code>UsbInterface.getEndpoint(0)</code> regardless of its physical address. Check the direction of that endpoint and use it appropriately. Find the other endpoint using <code>UsbInterface.getEndpoint(1)</code> (assuming they are the two first endpoints in one interface).</p>

<p>btw: Your byte buffers are too big. The maximum size of bulk transfer packets is 64 bytes for full speed and 512 bytes for high speed devices.</p>
