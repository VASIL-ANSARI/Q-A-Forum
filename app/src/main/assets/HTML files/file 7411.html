<p>This will not cover 100% of all possible UK postcodes, but will do for like 99.999% or so :)</p>

<pre><code>/**
 * @param string $postcode UK Postcode
 * @return string
 */
function getUKPostcodeFirstPart($postcode)
{
    // validate input parameters
    $postcode = strtoupper($postcode);

    // UK mainland / Channel Islands (simplified version, since we do not require to validate it)
    if (preg_match('/^[A-Z]([A-Z]?\d(\d|[A-Z])?|\d[A-Z]?)\s*?\d[A-Z][A-Z]$/i', $postcode))
        return preg_replace('/^([A-Z]([A-Z]?\d(\d|[A-Z])?|\d[A-Z]?))\s*?(\d[A-Z][A-Z])$/i', '$1', $postcode);
    // British Forces
    if (preg_match('/^(BFPO)\s*?(\d{1,4})$/i', $postcode))
        return preg_replace('/^(BFPO)\s*?(\d{1,4})$/i', '$1', $postcode);
    // overseas territories
    if (preg_match('/^(ASCN|BBND|BIQQ|FIQQ|PCRN|SIQQ|STHL|TDCU|TKCA)\s*?(1ZZ)$/i', $postcode))
        return preg_replace('/^([A-Z]{4})\s*?(1ZZ)$/i', '$1', $postcode);

    // well ... even other form of postcode... return it as is
    return $postcode;
}
</code></pre>

<p><strong>Test data:</strong></p>

<pre><code>echo 'TW135BQ -&gt; ', getUKPostcodeFirstPart('TW135BQ'), "\n";
echo 'gir0aa -&gt; ', getUKPostcodeFirstPart('gir0aa'), "\n";
echo 'RG5 3SQ -&gt; ', getUKPostcodeFirstPart('RG5 3SQ'), "\n";
echo 'AB51 0GQ -&gt; ', getUKPostcodeFirstPart('AB51 0GQ'), "\n";
echo 'YO104EA -&gt; ', getUKPostcodeFirstPart('YO104EA'), "\n";
echo 'SE154NS -&gt; ', getUKPostcodeFirstPart('SE154NS'), "\n";
echo 'W1B4BD -&gt; ', getUKPostcodeFirstPart('W1B4BD'), "\n";
</code></pre>

<p><strong>Results:</strong></p>

<pre><code>TW135BQ -&gt; TW13
gir0aa -&gt; GIR0AA
RG5 3SQ -&gt; RG5
AB51 0GQ -&gt; AB51
YO104EA -&gt; YO10
SE154NS -&gt; SE15
W1B4BD -&gt; W1B
</code></pre>

<p><strong>Please note:</strong> It is your responsibility to provide valid postcode.</p>

<p>EDIT: oops, it does not cover GIR 0AA, sorry</p>
