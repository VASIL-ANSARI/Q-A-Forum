<p>I just solved it. The problem was with the GetServices(Type serviceType). I was returning in some cases null and the proper way to do this is if you have null return a new list. The following code solved it</p>

<pre><code>public IEnumerable&lt;object&gt; GetServices(Type serviceType)
{
    //Code is the same because our container only have an object for each Type
    object result = null;
    try
    {
        MethodInfo serviceProviderGetMethod =
            m_serviceProvider.GetType().GetMethod("Get").MakeGenericMethod(new Type[] { serviceType });
        result = serviceProviderGetMethod.Invoke(m_serviceProvider, null);
    }
    catch (Exception)
    {

    }

    if(resul == null)
    {
       return new List&lt;object&gt;();
    }
    return (IEnumerable&lt;object&gt;) result;
}
</code></pre>
