<p>For the <em>foreach ($this->countries as $country):</em> code to work correctly then <em><code>$this-&gt;countries</code></em> must be an array. Suggested changes to the code... (untested)</p>

<pre><code>$this-&gt;countries       = array();
//    $this-&gt;countries       = new stdclass;
//    $this-&gt;countries-&gt;id   =array();
//    $this-&gt;countries-&gt;name =array();

$query = $db
    -&gt;getQuery(true)
    -&gt;select('name,id')
    -&gt;from('#__country');

$rows = $db
    -&gt;setQuery($query)
    -&gt;loadObjectList();

foreach ($rows as $row) {
    $country      = new stdclass;
    $country-&gt;id  = $row-&gt;id;
    $country-&gt;name  = $row-&gt;name;
    $this-&gt;countries[] = $country;   
}

foreach ($this-&gt;countries as $country) {
   echo $country-&gt;id;
   echo $country-&gt;name;
}
</code></pre>
