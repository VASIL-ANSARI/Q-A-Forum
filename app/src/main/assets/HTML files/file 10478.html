<p>I'm just guessing here, but $.ajax.beforeSend should work just fine in Firefox, however there is a known problem with setRequestHeader in Firefox, and it usually needs to have the XMLHttpRequest opened before it can run setRequestHeader, but this is in native javascript, and I'm not sure if jQuery has fixed this internally somehow?</p>

<p>Something like :</p>

<pre><code>xhr.open(method,url,async,username,password); 
xhr.setrequestheader("exmpl", "abcdef");
</code></pre>

<p>Check firebug for something like "Error: uncaught exception: [Exception... "Component returned failure code: 0x804b000f [nsixmlhttprequest.setrequestheader]" to see if that is the error logged, or if there are any other errors logged, post them here.</p>

<p>EDIT: On the other hand when reading the documentation for $.ajax it says:</p>

<blockquote>
  <p>At present, due to a bug in Firefox where .getAllResponseHeaders()
  returns the empty string although .getResponseHeader('Content-Type')
  returns a non-empty string, automatically decoding JSON CORS responses
  in Firefox with jQuery is not supported.</p>
</blockquote>

<p>Don't know if this has something to do with your problem, since it's not really the same function, but it sounds somewhat related, there's a workaround on the <a href="http://api.jquery.com/jQuery.ajax/" rel="nofollow">jQuery pages</a> for Ajax.</p>
