<p>In your <code>HTML Button</code> to have a <code>onClick</code> event like this <code>onclick="buttonSubtract1('&lt;?php if(isset($val['itm_code'])){echo $val['itm_code'];}?&gt;')"</code><strong>(You can fetch the itm_code from your db)</strong>.Then Write your <code>AJAX</code> for <code>Request</code> and <code>Response</code>. And You need to Pass the <code>itm_code</code> through <code>var x</code>. e.g for like this <code>xmlhttp.open("POST", "ajax/get_items.php?val=" +x, true);</code></p>

<p>In AJAX file</p>

<pre><code>$item_cat = $_SESSION['item_cat']; // get a category from session
    $iname=$_GET['val']; //get the value from main php file
    if(!key_exists($item_cat)
    {
       $_SESSION['main'][$iname] = "1";
    }
    else
    {
       $_SESSION['main'][$item_cat][$iname]++;
    }
    echo "&lt;pre&gt;";
    print_r($_SESSION['main']);
    echo "&lt;/pre&gt;";
</code></pre>

<p><strong>EDIT 1</strong></p>

<pre><code>function buttonSubtract1(x)
{
    var xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
        if (xmlhttp.readyState == 4 &amp;&amp; xmlhttp.status == 200) {
            document.location.assign('items.php');
        }
    }
    xmlhttp.open("POST", "ajax/get_items.php?val=" +x, true);
    xmlhttp.send();
}
</code></pre>
