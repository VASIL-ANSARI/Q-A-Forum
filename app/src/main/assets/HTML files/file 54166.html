<p>C++ code for circle detection in a video </p>

<pre><code> #include&lt;opencv2/core/core.hpp&gt;
    #include&lt;opencv2/highgui/highgui.hpp&gt;
    #include&lt;opencv2/imgproc/imgproc.hpp&gt;
    #include&lt;vector&gt;
    #include&lt;iostream&gt;
    using namespace std;
    using namespace cv;
    int main()
    {
        Mat img;
        Mat thresh;
        VideoCapture cap(0);
        vector&lt;Vec3f&gt;circles;   
        for(;;)
            {
                cap&gt;&gt;img;
                cvtColor(img,img,CV_BGR2GRAY);
                GaussianBlur(img,img,Size(5,5),2,2);//smoothing reduces false positives
                threshold(img,thresh,130,255,THRESH_BINARY);
                HoughCircles(thresh,circles,CV_HOUGH_GRADIENT,2,img.rows/5,200,100);
                cvtColor(img,img,CV_GRAY2BGR);
                for(int i=0;i&lt;(int)circles.size();i++)
                {
                    Point center=Point((int)circles[i][0],(int)circles[i][1]);          
                    int radius=(int)circles[i][2];              
                    circle(img,center,radius,Scalar(255,255,0),4);
                }
                imshow("img",img);
                imshow("thresh",thresh);
                char c=waitKey(10);
                if(c=='b' || c=='B'){
                    break;  
                }
            }
        return 0;
    }
</code></pre>
