<p>The missing <code>#version</code> directive at the beginning of your shader implies <code>#version 110</code> which as Colonel Thirty Two noted does not support implicit <code>int</code> -> <code>float</code> conversion.</p>

<p>Note that <code>typeof(1)</code> == <code>int</code> != <code>float</code> == <code>typeof(1.0)</code>.</p>

<p>So your lines like this:</p>

<pre><code>gl_FragColor.r = pixel.r * (1-time_passed_fraction) + bw_val * time_passed_fraction;
                            ^ nope
</code></pre>

<p>Need to be:</p>

<pre><code>gl_FragColor.r = pixel.r * (1.0-time_passed_fraction) + bw_val * time_passed_fraction;
                            ^^^ fix'd
</code></pre>
