<p>You can place the entire test within the <code>CASE</code> statement:</p>

<pre><code>AND CASE WHEN t.name = 'john' THEN t.lastname = 'smith' ELSE True
</code></pre>

<p>(I don't remember my Oracle so well.  <code>True</code> may not be the correct term here.)</p>

<p>Now the result of the <code>CASE</code> is a truth value rather than a value to be tested against <code>t.lastname</code>.</p>
