<p>Well, for the technical part, I suggest you should instead try to see if <strong>class name</strong> contains Test, instaead of file name, which is (although Java specification tries to normalize it) always a little more fuzzy (think about inner class, as an example).</p>

<p>However, in a more general fashion, your code seems to ignore roughly ten years of Java engineering by ignoring the existence of test frameworks (JUniot, TestNG) and their associated ecosystem. Particularly, to define "dummy values", the domain of mocking frameworks is the way to go. There are currently quite a few interesting alternatives :</p>

<ul>
<li><a href="http://www.jmock.org/" rel="nofollow">JMock</a></li>
<li><a href="http://code.google.com/p/mockito/" rel="nofollow">Mockito</a></li>
<li><a href="http://easymock.org/" rel="nofollow">EasyMock</a></li>
<li><a href="http://code.google.com/p/jmockit/" rel="nofollow">JMockIt</a></li>
</ul>

<p>Obviously, they may interfere with your singleton (or not). However, I must tell you that with the davent of IoC frameworks, the singleton pattern is now generally considered to be deprecated.</p>
