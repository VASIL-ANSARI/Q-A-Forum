<p>So, before <code>DataRow newRow = dt.NewRow();</code> you should check if the row already exists. </p>

<p>If it does exist, then modify and change the quantity.</p>

<p>If it doesn't exist, create a new one like you already do.</p>

<p>Something like this:</p>

<pre><code>foreach (var item in results)
{
    var row = dt.AsEnumerable().FirstOrDefault(x =&gt; (int)x["ProductId"] == item.Id);
    int quantity = item.Quantity;

    if (row == null)
    {
        row = dt.NewRow();
        row.SetField("Quantity", quantity);
        row.SetField("ProductId", item.Id);
        dt.Rows.Add(row);
    }
    else
    {
        quantity += (int)row["Quantity"];
        row.SetField("Quantity", quantity);
    }
}
</code></pre>

<p>Working example <a href="http://rextester.com/RFEEZ74343" rel="nofollow">here</a></p>
