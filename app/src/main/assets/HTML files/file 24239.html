<p><code>readdir()</code> is not documented to return <code>REREMOTEIO</code>, so most likely <code>sterror()</code> gives misleading information.</p>

<p>Set <code>errno</code> to <code>0</code> before going into the <code>while()</code> loop. </p>

<p>From <code>man readdir</code>:</p>

<blockquote>
  <p>If the end of the directory stream is reached, NULL is returned and  errno  is  <strong>not</strong>
  changed.  If an error occurs, NULL is returned and errno is set appropriately.  If an error occurs,
  NULL is returned and errno is set appropriately.</p>
</blockquote>

<p>To test these two cases when <code>readdir()</code> returns <code>NULL</code> you might mod your code like this:</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;dirent.h&gt;
#include &lt;errno.h&gt;

  ...

  DIR * dir_ptr = opendir("/tmp");
  if (!dir_ptr)
  {
    perror("opendir() failed");
  }
  else
  {
    struct dirent * dir_entery = NULL;

    errno = 0, 
    while (dir_entery = readdir(dir_ptr))
    {
      printf("%s\n", dir_entery-&gt;d_name);
    }

    if (errno)
    {
      perror("readdir() failed");
    }
    else
    {
      printf("No more entries.\n");
    }
  }

  ...
</code></pre>
