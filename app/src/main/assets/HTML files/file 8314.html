<p>Notice how the examples always refer to an attribute of a rule:</p>

<pre><code>$d.type
$d.vars
$t.text
</code></pre>

<p>except the <code>$ids</code>, but that one isn't a rule because the <code>+=</code> makes it a <code>List</code>.</p>

<p>Your code has 5 illegal usages of rule attributes (or the absence of them):</p>

<h2>1</h2>

<p><code>$id != null</code> is invalid because you didn't use an attribute at all, try: <code>$id.myInnerStat != null</code> instead.</p>

<h2>2</h2>

<p><code>s=exec { myInnerStat = $s; }</code> is wrong because you didn't use an attribute at all, you need to access an attribute of <code>exec</code> (you didn't post that rule, so I don't know what).</p>

<h2>3, 4, 5</h2>

<p><code>$ID.ToString()</code>, <code>$i1.ToString()</code> and <code>$i2.ToString()</code> are wrong, <code>ToString()</code> isn't an valid attribute of <code>ID</code>. Try <code>$ID.text</code>, etc. instead.</p>
