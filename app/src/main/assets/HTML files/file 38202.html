<p>The problem with </p>

<pre><code>WHERE
ensembl_gene_id IN (SELECT @a)
</code></pre>

<p>is that the <code>select @a</code> bit's results will be treated as a single monolithic string. So given your </p>

<pre><code>SELECT @a
'ENSG00000120860','ENSG00000197894','ENSG00000273425'
</code></pre>

<p>result, your main query would actually be the functional equivalent of</p>

<pre><code>WHERE
ensembl_gene_id IN ('\'ENSG00000120860\',\'ENSG00000197894\',\'ENSG00000273425\'')
</code></pre>

<p>If you want to use the <code>@a</code> value as actual separate values, you'd need to use a stored procedure, build your main query as a string, then <code>exec</code> it, along the lines of this code: <a href="http://stackoverflow.com/a/5728155/118068">http://stackoverflow.com/a/5728155/118068</a>.</p>

<p>The better solution would be to simply embed the query that produced <code>@a</code>'s value in your main query, but since you're using a <code>LIMIT</code>, that's not possible. YOu could investigate using a <code>JOIN</code> operation instead, however.</p>
