<p>This is happening because it seems the compiler has a bug. Neither the first program nor the second program shall be compiled.</p>

<p>I can guess that the second program is not compiled because declarations in old C must be placed in the beginning of a code block.</p>

<p>I have no at hand the old C Standard but according to the current C Standard (6.7 Declarations)</p>

<blockquote>
  <p>2 A declaration other than a static_assert declaration <strong>shall declare
  at least a declarator</strong> (other than the parameters of a function or
  the members of a structure or union), a tag, or the members of an
  enumeration.</p>
</blockquote>

<p>It seems that the old C allowed empty declarations. At least in the Rationale for International Standardâ Programming Languagesâ C Revision 2 20 October 1999 there is written:</p>

<blockquote>
  <p>6.7 Declarations 25
  <strong>The C89 Committee decided that empty declarations are invalid</strong>, except for a special case with tags (see Â§6.7.2.3) and the case of
  enumerations such as enum {zero,one}; (see Â§6.7.2.2). While many
  seemingly silly constructs are tolerated in other parts of the
  language in the interest of facilitating the machine generation of C,
  empty declarations were considered sufficiently easy to 30 avoid.</p>
</blockquote>

<p>Take into account that some compiler implementations call such bugs as their own language extensions.:)</p>
