<p>As long as this: <code>while ( ( fscanf ( fp, "%60s", word)) == 1)</code> evaluates as true it will never break from the while current inner while loop. You can break out of the inner while loop with <code>break;</code> after your condition is met. It will then check the condition and break out of the main while loop. You also don't assign a value with ==. That operand is for evaluation.</p>

<pre><code>if ( strcmp ( word, ".nf") == 0) {// stop filling lines (no fill)
        useFormats = 0;
        line[0] = '\0';
        out = 1;
        break;
    }
</code></pre>
