<p>I wont get into the coding as you already have the code, I'll explain you the logic behind it.</p>

<p>If your page has the following elements, </p>

<p>element0(tabindex 1) --> element1(tabindex 2) --> element2(tabindex 3)</p>

<p>To prevent focus going out, you basically create a cycle.</p>

<p>When tab key is pressed on element0, it goes to element1 as it would normally go. </p>

<p>But when the tab key is pressed on element2, you need to prevent the browser's default behaviour (by event.preventDefault()) i.e going to an element with a higher tabindex and  give focus to the element0.</p>

<p>Same ways when shift+ tab is pressed on element0, you need to prevent the browser's default behaviour (event.preventDefault()) and manually give focus to element2.</p>

<p>In this way, you create a cycle such that focus never goes outside.</p>
