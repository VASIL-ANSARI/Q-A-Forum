<p>The thing with functions is you can only return a single value that is under the <code>return</code> in the function, so in your case, after testing your function, the return value is the original input value. </p>

<p>If you want a function to return only the URL component I would use <code>explode</code> to separate the string then run <code>preg_match</code> on each part of the resulting array from the <code>explode</code> function looking for the https, ftp or mailto, once I know what part of the array I'm working with I would stop the process, define the var and as I believe you want to return code for a link, I would do is then do something like</p>

<p><code>return '&lt;a href="'.$url.'"&gt;'.$url.'&lt;/a&gt;';</code></p>

<p>Note that the var <code>$url</code> would be created from the above process. </p>

<p>I hope this helps. </p>
