<p>It is a little-known fact that <code>preg_*</code> functions can use matching brackets (parentheses, square, brace or angle) as delimiters. This is especially helpful as it means you don't have to escape those brackets inside the regex itself. Personally I like to use parentheses, as that helps me remember that "index 0" of the match array represents the entire match.</p>

<p>Anyway, in this case your angle brackets are being used as delimiters, making the expression search for <code>br /</code>, <code>br</code> and <code>br/</code>.</p>

<p>Use <code>str_replace</code> instead. You don't need <code>preg_*</code> for constant strings.</p>

<p>EDIT: That said, you're using <code>htmlspecialchars</code> first. In addition to using <code>str_replace</code>, make sure you are using the replacement <em>before</em> you mangle the HTML ;)</p>
