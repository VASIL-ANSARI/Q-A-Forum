<p>It looks like you have mixed spaces and tabs. The code looks different in <code>vim</code> and in <code>cat -e</code> (or simply <code>less</code>) because they use different width for the tab, due to your <code>set tabstop=4</code>.</p>

<p>If in <code>vim</code> it looks fine, then doing <code>:retab</code> should fix it: it will replace tab characters with the amount of spaces as you see it. The result will look the same, but all tab characters will be gone.</p>

<p>It's important to have the right <code>tabstop</code> value before you do <code>retab</code>. For example if you have the opposite problem--code looks correct in <code>less</code> but broken in <code>vim</code>, and you do <code>:retab</code> in that state, that will break the Python script.</p>

<p>Check out this fantastic article about tabs in vim:</p>

<p><a href="http://vimcasts.org/episodes/tabs-and-spaces/" rel="nofollow">http://vimcasts.org/episodes/tabs-and-spaces/</a></p>

<p>In particular, I think you should add these settings to your <code>.vimrc</code>:</p>

<pre><code>set softtabstop=4
set smarttab
</code></pre>
