<p>You were close (you just can't easily use CDATA the way you did):</p>

<pre><code>&lt;!-- note that you don't need xsl:attribute here --&gt;
&lt;div id="iframe-content-{position()}"&gt;
  &lt;div id="flash"&gt;&lt;/div&gt;&lt;!--/flash--&gt;
  &lt;script type="text/javascript"&gt;
    var so = new SWFObject("swf/video2.swf", "showreel", "720", "484", "8", "#ffffff");
    so.addParam("quality", "high");
    so.addParam("allowScriptAccess", "always");
    so.addParam("wmode", "transparent");
    so.addVariable("videoURL", "http://www.masterseries.co.uk/public/TempFiles/Concrete1.flv");
    so.write("flash&lt;xsl:value-of select='position()' /&gt;");
  &lt;/script&gt;
&lt;/div&gt;
</code></pre>

<p>You can use </p>

<pre><code>&lt;xsl:output cdata-section-elements="script"/&gt;
</code></pre>

<p>to create CDATA sections in the output. However, you must make sure the input script source is correctly XML-encoded, i.e. does not have bare <code>&lt;</code>, <code>&amp;</code>, <code>&gt;</code> characters but their <code>&amp;lt;</code>, <code>&amp;amp;</code>, <code>&amp;gt;</code> equivalents.</p>
