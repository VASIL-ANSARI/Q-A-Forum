<p>The function is valid and works.  There is an extraneous dash between the year and the hour in the format mask.  Oracle should be able to ignore that but perhaps Crystal can't: it would certainly be worthwhile cleaning it up, if only to eliminate it from enquiries. </p>

<p>If it's not that then the only other thing it could be is teh value of <code>in_year</code>.  Can you get that written to a trace file to see what it is?</p>

<p>Alternatively here's a more convoluted but perhaps less flaky way to get the same datetime:</p>

<pre><code>last_day(trunc(to_date( in_year, 'YYYY') , 'YYYY') ) + (86399/86400)

                          ^  first day of current month
          ^ first day of current year
 ^ last day of month
                                                        ^ last second of the day  
</code></pre>
