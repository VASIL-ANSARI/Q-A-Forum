<p>The problem was that session[:id] was the string '1' and not the integer 1. So I fixed it by calling Integer(session[:id]) and then comparing it to the correct_id.</p>
