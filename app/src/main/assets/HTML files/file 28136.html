<p>Java NIO makes this as easy as working with a normal file system.</p>

<pre><code>public static void main(String[] args) throws Exception {
    Path zipfile = Paths.get("C:\\Users\\me.user\\Downloads\\myfile.zip");

    try (FileSystem zipfs = FileSystems.newFileSystem(zipfile, null);) {
        Path extFile = Paths.get("C:\\Users\\me.user\\Downloads\\countries.csv"); // from normal file system
        Path directory = zipfs.getPath("/some/directory"); // from zip file system
        Files.createDirectories(directory);
        Files.copy(extFile, directory.resolve("zippedFile.csv"));
    }
}
</code></pre>

<p>Given a <code>myfile.zip</code> file in the given directory, the <code>newFileSystem</code> call will detect the file type (.zip mostly gives it away in this case) and create a <code>ZipFileSystem</code>. Then you can just create paths (directories or files) in the zip file system and use the Java NIO <code>Files</code> api to create and copy files.</p>

<p>The above will create the directory structure <code>/some/directory</code> at the root of the zip file and that directory will contain the zipped file.</p>
