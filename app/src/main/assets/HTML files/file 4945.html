<p>Your goals are:</p>

<ol>
<li><p>not to let anybody who just knows the name of PDF download it without paying;</p></li>
<li><p>make download possible only after payment.</p></li>
</ol>

<p>So, store your PDFs outside the document root, so nobody can just type it's name in the browser. For example:</p>

<pre><code>pdf_files/
    1.pdf
    2.pdf
    3.pdf
public_html/
    index.php
    something_else.php
</code></pre>

<p>Then, in your PHP script use direct file output, like this:</p>

<pre><code>&lt;?php
    //we are sure that we received the payment 
    if ($costumer_payed) {
        $file_path = '../pdf_files/1.pdf'; //navigating outside the document root!
        $file = basename($file_path);
        $size = filesize($path);

        //headers to show browser that this is a PDF file and that it should be downloaded 
        header ("Content-Type: application/octet-stream");
        header("Content-Disposition: attachment; filename=$file");
        header("Content-Length: $size");

        readfile($file_path);  //giving file to costumer
    }
    echo {
        echo "Sorry, pal, pay for your PDF first";
    }
?&gt;
</code></pre>
