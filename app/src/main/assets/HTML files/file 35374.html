<p>There are a few ways of doing this, but only one way to get fairly accurate readings.</p>

<p><strong>PHP Time Difference</strong></p>

<p>This method is what you were talking about with checking the time difference. You would mark the time the user visited the page. Then when the visitor navigates to another page, you subtract the two times and you have the duration the user was looking at the previous page.</p>

<p>To hopefully make myself a little more clear, below is a basic layout of the actions you need to perform to make the PHP time difference method work.</p>

<ol>
<li>Log the current page URL and <code>time()</code>. Store this as a cookie / session / entry in the database.</li>
<li>When the user visits a page, check the HTTP_REFERER variable and if it matches the page they were previously on, you can calculate the time they were on the last page. The referral check is needed to make sure they are not just opening a new tab and visiting your site again. You will also want to add a time limit so if the value is over 30 minutes it doesn't mark them as visiting the page for over 30 minutes.</li>
<li>Keep repeating those actions and you will have a somewhat okay tracking method. This won't be that specific and in some cases not work if they don't send the referral header.</li>
</ol>

<p><strong>Javascript Tracking</strong></p>

<p>You can send a "heatbeat" or a "ping" every few minutes to tell your server that the user is still on a specific page. You would want to send the URL the user is currently on as a parameter, don't rely on the HTTP Referral header to be sent. Using this method you can get very accurate readings. You could even track if the user is focused on the web browser window or not to check if the page is being read or just in the background.</p>
