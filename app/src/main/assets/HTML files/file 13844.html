<p>I bet that's because <code>ans</code> is a <code>long double</code>, but you didn't tell <code>printf</code> to expect a <code>long double</code>. The format code you want is <code>%.3Le</code> assuming that's the case.</p>

<p>The g++ compiler even has a warning to detect format/parameter mismatches (I think it comes with <code>-Wall</code>) but I always prefer iostreams because they're type safe like this.</p>

<p>All this is of course assuming that <code>p</code> is also <code>long double</code>, causing the compiler to pick the <code>long double</code> version of <code>pow</code>.</p>
