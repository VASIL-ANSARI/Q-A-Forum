<p>For MS SQL Server</p>

<pre><code>declare @min int, @max int
    select @min = MIN(val/10), @max = MAX(val/10) from numbers

    select ranges.number as range, COUNT(val) as qty from master.dbo.spt_values ranges
        left join numbers on ranges.number = numbers.val/10
    where type='p' and number between @min and @max
    group by number    
</code></pre>

<p>The same principle could be applied to Postgres although the generation of the numbers list would be different</p>
