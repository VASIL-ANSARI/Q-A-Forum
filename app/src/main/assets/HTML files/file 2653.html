<p>Try something like this on the top of your class body</p>

<pre><code>workflow_spec.states.keys.each do |state|
   named_scope state, :conditions =&gt; ['workflow_state = ?', state] 
end
</code></pre>
