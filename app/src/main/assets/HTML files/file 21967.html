<p>I believe all paths in <code>$LOAD_PATH</code> are already expanded, so <code>File.expand_path(path)</code> is pointless. Your code can be refactored to this:</p>

<pre><code>def add_loadpath(new_path)
  File.expand_path(new_path)
  .tap{|new_path| $LOAD_PATH.unshift(new_path) unless $LOAD_PATH.include?(new_path)}
end
</code></pre>

<p>or</p>

<pre><code>def add_loadpath(new_path)
  $LOAD_PATH.unshift(File.expand_path(new_path)).uniq!
end
</code></pre>
