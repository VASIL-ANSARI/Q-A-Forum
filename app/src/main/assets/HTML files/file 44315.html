<p>After all when you do setEntity 2 times in a row doesn't the 2nd one ovewrite/cancel the first set here:?</p>

<pre><code>post.setEntity(new FileEntity(new File()));
post.setEntity(new UrlEncodedFormEntity(nameValuePairs));
</code></pre>

<p>And about passing a file: Like I said in comments you should add a path to a file when you pass a <code>new File()</code> inside of a <code>new FileEntity()</code>:</p>

<pre><code>post.setEntity(new FileEntity(new File("path_to_a_file")));
</code></pre>

<p>If you want to pass a Bitmap from an ImageView there are some options. You caould store the Bitmap into a PNG or JPEG file first and then pass that file:</p>

<pre><code>        final File imageFile = File.createTempFile();// temp file to store Bitmap to
        // Convert bitmap to byte array
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
// here you have a stream - you could try yo upload it if you want to
        // compressing Bitmap to a PNG
        bitmap.compress(CompressFormat.PNG, 100, bos);

        // write the bytes in file
        isSucceed = FileUtils.byteArrayOutputStreamToFile(bos, imageFile);
        // if (isSucceed) your Bitmap is stored into a file successfully
        // closing a stream
        if (bos != null)
            try {
                bos.close();
            } catch (IOException e) {}
</code></pre>

<p>Or could try to upload your Bitmap as a stream.<br>
Also you should add a <a href="http://en.wikipedia.org/wiki/Internet_media_type" rel="nofollow">MIME</a> type to a FileEntity constructor (<a href="http://stackoverflow.com/questions/3132104/android-send-photo-using-httppost-httpget/5253957?s=1%7C0.5474#5253957">like here</a>):</p>

<pre><code>new FileEntity(new File(),"image/jpeg;");
</code></pre>

<p>Also to make a proper MultiPart upload these articles might be helpful:<br>
<a href="http://www.codejava.net/java-se/networking/upload-files-by-sending-multipart-request-programmatically" rel="nofollow">Upload files by sending multipart request programmatically</a><br>
and<br>
<a href="http://stackoverflow.com/questions/20559435/a-good-approach-to-do-multipart-file-upload-in-android">A good approach to do multipart file upload in Android</a></p>
