<pre><code>def f_level a,b
    if a[/^#{b}/] &amp;&amp; (b[-1,1] == '/' || $'[0,1] == '/')
        $'.scan(/[^\/]+/).size
    elsif b[/^#{a}/] &amp;&amp; (a[-1,1] == '/' || $'[0,1] == '/')
        -($'.scan(/[^\/]+/).size)
    end
end

"/Users/amr/Code/xx/zz"
"/Users/amr/Code/"
2
"/Users/amr/Code/"
"/Users/amr/Code/xx/zz"
-2
"/Users/amr/Code/"
"/Users/amr/Code/"
0
"/Users/other/Code/"
"/Users/amr/Code/"
nil
</code></pre>
