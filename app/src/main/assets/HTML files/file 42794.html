<p>I assume you are using <a href="http://man7.org/linux/man-pages/man3/mq_open.3.html" rel="nofollow">mq_open(3)</a> on Linux, and <code>errno</code> getting <code>EINVAL</code>. According to the documentation it may happen when:</p>

<blockquote>
  <p>name doesn't follow the format in mq_overview(7).</p>
</blockquote>

<p>or</p>

<blockquote>
  <p>O_CREAT was specified in oflag, and attr was not NULL, but
     attr->mq_maxmsg or attr->mq_msqsize was invalid.  Both of
                these fields must be greater than zero.  In a process that is
                unprivileged (does not have the CAP_SYS_RESOURCE capability),
                attr->mq_maxmsg must be less than or equal to the msg_max
                limit, and attr->mq_msgsize must be less than or equal to the
                msgsize_max limit.  In addition, even in a privileged process,
                attr->mq_maxmsg cannot exceed the HARD_MAX limit.  (See
                mq_overview(7) for details of these limits.)</p>
</blockquote>

<p>So you should also read <a href="http://man7.org/linux/man-pages/man7/mq_overview.7.html" rel="nofollow">mq_overview(7)</a></p>

<p><sup>BTW, <a href="http://en.wikipedia.org/wiki/RTFM" rel="nofollow">RTFM</a> is always faster than asking on some forum like here.  So you have lost both your and our time.</sup></p>

<p>Next time, use <a href="http://man7.org/linux/man-pages/man3/perror.3.html" rel="nofollow">perror(3)</a> on error cases. Notice that POSIX <a href="http://pubs.opengroup.org/onlinepubs/009695399/basedefs/errno.h.html" rel="nofollow">errno.h</a> specification does not assign numerical values to error numbers like <code>EINVAL</code> (and that is on purpose, several POSIX compliant systems could have different numbers).</p>

<p>BTW, you should always check the return value of <a href="http://man7.org/linux/man-pages/man3/scanf.3.html" rel="nofollow">scanf(3)</a>, in your case:</p>

<pre><code>printf("from 1 to 400, what is N? : \n");
n= 0;
if (scanf("%d", &amp;n)&lt;1 || n&lt;=0 || n&gt;400) { 
  fprintf(stderr, "bad number (n=%d)\n", n);
  exit(EXIT_FAILURE);
}
</code></pre>
