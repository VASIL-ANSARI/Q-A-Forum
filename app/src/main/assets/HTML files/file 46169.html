<p>You must store the content in a way that gives you a relation to the clicked marker. The best way would be to store it directly as a property of the marker(and update this marker-property in <code>submitForm</code>)</p>

<p><div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>function initialize() {

  var goo = google.maps,
    map = new goo.Map(document.getElementById("map-canvas"), {
      center: new goo.LatLng(-34.397, 150.644),
      zoom: 8
    }),

    infowindow = new google.maps.InfoWindow;

  function addCoordinate(lat, lon, text) {
    var node = document.createElement('div'),
      marker = new goo.Marker({
        position: (new goo.LatLng(lat, lon)),

        map: map,
        content: node
      });
    node.innerHTML =
      '&lt;input type="text" id="wpname" value="' + name + '" style="width:200px"&gt;' +
      '&lt;input type="hidden" id="wplat" value="' + lat + '"&gt;' +
      '&lt;input type="hidden" id="wplon" value="' + lon + '"&gt;' +
      '&lt;input type="submit" value="OK" &gt;&lt;br&gt;' + text +
      '&lt;br&gt;&lt;a href="#"&gt;Remove&lt;/a&gt;';

    function submitForm() {
      marker.set('content', 'This marker has been stored');
      goo.event.trigger(marker, 'click')
    }

    function removeCoordinate() {
      marker.setMap(null);
    }

    goo.event.addDomListener(node.querySelector('input[type=submit]'), 'click', submitForm)
    goo.event.addDomListener(node.querySelector('a'), 'click', removeCoordinate)


    goo.event.addListener(marker, 'click', function() {
      infowindow.setContent(this.get('content'));
      infowindow.open(marker.get('map'), marker);
    });
  }
  goo.event.addListener(map, 'click', function(e) {
    addCoordinate(e.latLng.lat(), e.latLng.lng(), 'some text');
  });

  window['alert']('click on the map to add a marker')

}
google.maps.event.addDomListener(window, 'load', initialize);</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>html,
body,
#map-canvas {
  height: 100%;
  margin: 0;
  padding: 0
}</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3"&gt;&lt;/script&gt;

&lt;div id="map-canvas"&gt;&lt;/div&gt;</code></pre>
</div>
</div>
</p>
