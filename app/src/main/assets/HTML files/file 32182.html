<pre><code>return prices.Skip(1)
             .Scan(new Stock(symbol, prices.First()),
               (previous, price) =&gt; previous.Change(price));
</code></pre>

<p>Does this fix your problem of side-effects?</p>
