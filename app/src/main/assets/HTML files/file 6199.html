<p>The book "Hacker's Delight" has algorithms for this and many other problems. The code is online <a href="http://www.hackersdelight.org/HDcode/icbrt.c.txt" rel="nofollow">here</a>. <em>EDIT</em>: That code doesn't work properly with 64-bit ints, and the instructions in the book on how to fix it for 64-bit are somewhat confusing. A proper 64-bit implementation (including test case) is online <a href="https://gist.github.com/729557" rel="nofollow">here</a>.</p>

<p>I doubt that your <code>squareroot</code> function works "correctly" - it should be <code>ulong a</code> for the argument, not <code>n</code> :) (but the same approach would work using <code>cbrt</code> instead of <code>sqrt</code>, although not all C math libraries have cube root functions).</p>
