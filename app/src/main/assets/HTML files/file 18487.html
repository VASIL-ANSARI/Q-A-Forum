<p>A <a href="http://msdn.microsoft.com/en-us/library/ms187956.aspx">view</a> can only contain SELECT statements, what you have is more like a <a href="http://msdn.microsoft.com/en-us/library/ms187926.aspx">stored procedure</a>.</p>

<pre><code>CREATE PROC [dbo].[IDW_spGetProductOutPut] 
AS  
IF EXISTS
( SELECT * FROM tempdb.dbo.sysobjects 
  WHERE ID = OBJECT_ID(N'tempdb..#TempPackaging')) 
BEGIN
    DROP TABLE #TempPackaging 
END  . . . . . .     

--code to create temp table goes here . .  and so on
</code></pre>
