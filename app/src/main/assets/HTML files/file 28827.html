<p>Your problem comes from the unconventional use of a configuration file that is read ONCE, but should be used in all classes.</p>

<p>When you instantiate the <code>dbclass</code> first, the configuration is read, probably variables get assigned, and you use these in the constructor.</p>

<p>After that, instantiating <code>siteinfo</code> will not read that file again, which is less harmful, because you only end up with an empty object that does return a lot of null, but does work.</p>

<p>The other way round, you get a <code>siteinfo</code> object with all the info, but a nonworking <code>dbclass</code>.</p>

<p>My advice: Don't use a configuration file that way. </p>

<p>First step: Remove the <code>require_once</code> - you need that file to be read multiple times.</p>

<p>Second step: Don't read the file in the constructor. Add one or more parameters to the constructor function and pass the values you want to be used from the outside.</p>

<p>Info: You can use PHP code files that configure stuff, but you shouldn't define variables in them that get used outside. This will work equally well:</p>

<pre><code>// configuration.php
return array(
    'database_host' =&gt; "127.0.0.1",
    'database_user' =&gt; "root",
    // ...
);


// using it:
$config = require('configuration.php'); // the variable now has the returned array
</code></pre>
