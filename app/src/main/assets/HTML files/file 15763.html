<p>First of all, the error you get when you try to get embedded tags is normal, that's not possible with actual MongoDB versions.  </p>

<p>I'm not an expert, but I can suggest you a workable solution: use embedded tags for <em>User</em> and <em>Post</em>, and create a <em>Tag</em> collection that you'll use for <em>indexing</em> purposes.  </p>

<ul>
<li>When a user tries to add a tag: call <code>Tag.all</code>
<ul>
<li>If the tag doesn't exist: create it in both <em>User</em> and <em>Tag</em></li>
<li>If it does, simply embedded it in <em>User</em>.</li>
</ul></li>
</ul>

<p>The same goes for <em>Post</em>. </p>
