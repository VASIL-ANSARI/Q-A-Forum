<p>==== <strong>Problem</strong> ====</p>

<p>You are getting a ClassCastException on this line of MainActivity:</p>

<pre><code>    TextToSpeech tts = new TextToSpeech(this,(OnInitListener) this);
</code></pre>

<p>That is because you are casting <code>this</code>,  a reference to the activity, to a  OnInitListener.  </p>

<p>By applying the cast, you have told the compiler that the <code>this</code> is an instance of OnInitListener.  That is why you do not get a compilation error.  The cast is however checked at runtime, and it fails when the VM determines <code>that</code> this is <strong>not</strong> an instance of that interface.  Thus the following LogCat message:</p>

<blockquote>
  <p>java.lang.ClassCastException: com.example.texttospeechapp.MainActivity cannot be cast to android.speech.tts.TextToSpeech$OnInitListener</p>
</blockquote>

<p>==== <strong>Solution</strong> ====</p>

<p>To fix this you must implement that interface in your activity as follows</p>

<pre><code>public class MainActivity extends ActionBarActivity implements OnInitListener {
</code></pre>

<p>and then you will need to implement the one OnInitListner method in your activity:</p>

<pre><code>public void onInit (int status) {
   // This will be called when the text-to-speech engine has been initialized. 
}
</code></pre>
