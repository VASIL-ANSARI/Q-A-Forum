<p><code>mail()</code> on Windows needs extra config in php.ini because Windows does not have Sendmail or anything similar.</p>

<p>The first is the <code>SMTP</code> setting which should point to your ISP's <em>outbound</em> server which is not necessarily the same server that you retrieve your mail from. When I worked in support there were a lot of issues like you describe because an inbound server will still accept mail, but only for the domains that are local to it.</p>

<p>The second is the <code>sendmail_from</code> setting, which is what the gimpy little mailer PHP wrote for the Windows distribution uses in every SMTP transaction regardless of what's in the headers. On *nix Sendmail will read the headers and get the <code>From:</code> address itself, on Windows PHP will always use what's in php.ini. If this is a "garbage" address like <code>example@example.com</code> or something with a non-existant domain many mail servers will reject it outright. What I recommend is to change it to something decent in PHP.ini <em>as well as</em> adding the following line to your mailing scripts:</p>

<pre><code>ini_set('sendmail_from', $from_address);
</code></pre>

<p>Alternatively, just use <a href="https://github.com/Synchro/PHPMailer" rel="nofollow">PHPmailer</a> since it simply <em>works much better</em> than PHP's horrid little <code>mail()</code> function.</p>
