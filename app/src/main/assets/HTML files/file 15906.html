<h3>1st version</h3>

<p>That's because you hardcoded the <code>A</code> class in the factory method.<br>
In class <code>A</code>, instead of <code>$object = new A()</code> try (require Php 5.3):</p>

<pre><code>$class_name = get_called_class();
$object = new $class_name;
</code></pre>

<p><a href="http://php.net/get_called_class" rel="nofollow"><code>get_called_class()</code></a> "Gets the name of the class the static method is called in."</p>

<p>Shorter version: </p>

<pre><code>$object = new static();
</code></pre>

<h3>2nd version (hardcoded parent class):</h3>

<p>Copy object properties manually:</p>

<pre><code>$parent = parent::factory($args);
$obj = new static();
$obj-&gt;setTimestamp($parent-&gt;getTimestamp());
$obj-&gt;setTimezone($parent-&gt;getTimezone());
return $obj;
</code></pre>

<p>Or use an hack to do it autoatically:</p>

<blockquote>
  <p><a href="http://stackoverflow.com/questions/2226103/how-to-cast-objects-in-php">How to Cast Objects in PHP</a></p>
</blockquote>
