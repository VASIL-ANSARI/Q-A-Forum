<p>Instead of setting the layout params of the view before you add it to the parent group, use the version of <code>addView</code> that takes a LayoutParam parameter in addition to the View.</p>

<p>Also, FWIW, it's not recommended to use the position value for the item id.</p>
