<p>Compiler error says : </p>

<pre><code>deduced conflicting types for parameter 'Arg1' ('const main()::&lt;lambda(int)&gt;&amp;' and 'main()::&lt;lambda(int)&gt;')
 auto squareElements = Curry(Map&lt;Row, decltype(square)&gt;, square);
                                                               ^
</code></pre>

<p>Change the function <code>Curry</code> to </p>

<pre><code>template &lt;typename Ret, typename Arg1, typename... Args&gt;
auto Curry(Ret (*f)(const Arg1&amp;, const Args&amp;...), const Arg1&amp; arg ) -&gt; std::function&lt;Ret(Args...)&gt;
{
    return [=]( Args... args ) { return f( arg, args... ); };
}
</code></pre>

<p>or change function <code>Map</code> to : </p>

<pre><code>template &lt;typename Container, typename F&gt;
Container Map(F f, Container xs );
</code></pre>

<p>This will compile!</p>

<p>Have a Look at my code : <a href="http://ideone.com/KQYVla" rel="nofollow">Ideone</a></p>
