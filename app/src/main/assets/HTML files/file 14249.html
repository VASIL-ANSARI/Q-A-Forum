<p>The best way is to read entire lines of text into a buffer, and <em>then</em> inspect the contents of the buffer, not relying on brittle chains of reading which depend on pushback.</p>

<p>Just use <code>fgets()</code> and <code>sscanf()</code>.</p>
