<p>Get rid of the <code>ready()</code> test. Change it to:</p>

<pre><code>while ((line = in.readLine()) != null)
{
    // ...
}
</code></pre>

<p><code>readLine()</code> will block until data is available. At present you are stopping the read loop as soon as there isn't data available to be read <em>without blocking.</em> In other words you are assuming that `!ready()! means end of stream. It doesn't: see the Javadoc.</p>
