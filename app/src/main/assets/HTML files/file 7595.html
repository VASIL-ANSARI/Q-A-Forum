<p>Maybe instead of your own class, you could do things with a collection of <code>#define</code>s so:</p>

<pre><code>// For normal operations
#define specialplus +
#define specialmultiple *

// And a separate compilation with
#define specialplus min
#define specialmultiple +
</code></pre>

<p>Maybe better as:</p>

<pre><code>// normalmath.c
#define plus(a,b) (a)+(b)
#define star(a,b) (a)*(b)
#define FUNCTYPE normal
#include "yourcode.c"

// tropicalmath.c
#define plus(a,b) min((a),(b))
#define star(a,b) (a)+(b) 
#define FUNCTYPE tropical
#include "yourcode.c"

// yourcode.c
int FUNCTYPE_opp(int x, int y)
{
    // for example
   return star(plus(x,y),52);
}
</code></pre>

<p>(at least if I haven't messed up my C preprocessor code).</p>

<p>Or at least something of that form? Perhaps with some cunning function naming to allow both types to be used at the same time?</p>
