<p>You wrote:</p>

<pre><code>sys.stdout.write(re.sub(r'{0}','{1}',line.format(search,replace)))
</code></pre>

<p>This is rather confusing. Is this what you meant to write?</p>

<pre><code>sys.stdout.write(re.sub('{0}'.format(search), '{0}'.format(replace), line))
</code></pre>

<p>That would of course be equivalent to:</p>

<pre><code>sys.stdout.write(re.sub(search, replace, line))
</code></pre>
