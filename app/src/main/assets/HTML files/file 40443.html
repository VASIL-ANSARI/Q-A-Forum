<p>Your bitmap is black because you didn't draw anything on it.</p>

<p>To have some drawing in the bitmap you must indeed create it with this call :</p>

<pre><code>bitmap = Bitmap.createBitmap(getDrawingCache());
</code></pre>

<p>Then you have a stackoverflow exception simply because :</p>

<ul>
<li><code>getDrawingCache()</code> call <code>onDraw(Canvas)</code></li>
<li><code>onDraw(Canvas)</code> call <code>getDrawnMessage(Canvas canvas)</code></li>
<li><code>getDrawnMessage(Canvas canvas)</code> call <code>getDrawingCache()</code></li>
<li><code>getDrawingCache()</code> call <code>onDraw(Canvas)</code></li>
<li>...</li>
</ul>

<p>So you real problem is the StackOverflow exception.</p>

<p>Solution : don't call <code>getDrawnMessage(Canvas canvas)</code> in the <code>onDraw(Canvas)</code> method.</p>
