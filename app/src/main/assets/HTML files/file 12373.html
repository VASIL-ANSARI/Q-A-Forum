<p>Your approach to solving the problem is sadly very wrong, though there are many solutions to your problem, I would use something like the below.</p>

<hr>

<p><strong>How does the code work?</strong></p>

<p>First we use <a href="http://se.php.net/manual/en/function.explode.php" rel="nofollow">explode</a> to split our string up in smaller chunks, <code>;</code> is our delimiter.</p>

<p>We pass this newly created array to <a href="http://se.php.net/manual/en/function.array-map.php" rel="nofollow">array_map</a> as it's second parameter.</p>

<p><a href="http://se.php.net/manual/en/function.array-map.php" rel="nofollow">array_map</a> takes two parameters, the first one is a function that will be called for every member of the second paramater (which should be an array).</p>

<p>Inside our callback to <a href="http://se.php.net/manual/en/function.array-map.php" rel="nofollow">array_map</a> we use <a href="http://se.php.net/manual/en/function.explode.php" rel="nofollow">explode</a> to once again split out the values, now with <code>,</code> as our delimiter.</p>

<hr>

<pre><code>$data = "1,2,3;4,5,6;7,8,9";

$ret = array_map (
  function ($_) {return explode (',', $_);},
  explode (';', $data)
);

print_r ($ret);
</code></pre>

<p>output</p>

<pre><code>Array
(
    [0] =&gt; Array
        (
            [0] =&gt; 1
            [1] =&gt; 2
            [2] =&gt; 3
        )

    [1] =&gt; Array
        (
            [0] =&gt; 4
            [1] =&gt; 5
            [2] =&gt; 6
        )

    [2] =&gt; Array
        (
            [0] =&gt; 7
            [1] =&gt; 8
            [2] =&gt; 9
        )

)
</code></pre>

<hr>

<p><strong>It doesn't work, why?</strong></p>

<p>Probably because you are using a version of PHP prior to 5.3, if so you can use this snippet instead:</p>

<pre><code>function explode_by_comma ($_) {
  return explode (',', $_);
}

$ret = array_map ('explode_by_comma', explode (';', $data));
</code></pre>
