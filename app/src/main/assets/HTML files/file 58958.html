<p>Change the function as below...</p>

<ol>
<li><p>In the calling method, change the type as </p>

<pre><code>foreach (XAttribute name in Folders)
</code></pre></li>
<li><p>Change the ParseXmlString as below. </p>

<pre><code>private static List&lt;XAttribute&gt; ParseXmlString(string xmlStr, string searchValue)    
{
        List&lt;XAttribute&gt; result = new List&lt;XAttribute&gt;();    
        try
        {
            XDocument doc = XDocument.Parse(xmlStr);

            result = doc.Descendants("directory")
                        .Attributes("dirname")
                        .Where(x =&gt; x.Value.StartsWith("d"))
                        .ToList();                
        }
        catch (Exception ex)
        {
            throw ex;
        }
        return result;
}
</code></pre></li>
</ol>

<p>Let me know if this helps.. </p>
