<p>If you go through the tutorial on developer.android.com, I think you will find what you are looking for:</p>

<p><a href="http://developer.android.com/guide/topics/search/adding-recent-query-suggestions.html" rel="nofollow">http://developer.android.com/guide/topics/search/adding-recent-query-suggestions.html</a></p>

<p>The trick is to implement a ContentProvider which extends SearchRecentSuggestionsProvider. It's a simple class:</p>

<pre><code>public class MySuggestionProvider extends SearchRecentSuggestionsProvider {
  public final static String AUTHORITY = "com.example.MySuggestionProvider";
  public final static int MODE = DATABASE_MODE_QUERIES;

  public MySuggestionProvider() {
      setupSuggestions(AUTHORITY, MODE);
  }
}
</code></pre>

<p>Remember to add your provider to the manifest, and update your searchable.xml file so that it knows of your provider:</p>

<pre><code>&lt;searchable xmlns:android="http://schemas.android.com/apk/res/android"
  android:label="@string/app_label"
  android:hint="@string/search_hint"
  android:searchSuggestAuthority="com.example.MySuggestionProvider"
  android:searchSuggestSelection=" ?" &gt;
&lt;/searchable&gt;
</code></pre>

<p>Also you will need to save the searches in your searchable activity:</p>

<pre><code>if (Intent.ACTION_SEARCH.equals(Intent .getAction())) {
  String query = Intent .getStringExtra(SearchManager.QUERY);
  SearchRecentSuggestions suggestions = new SearchRecentSuggestions(this,
      MySuggestionProvider.AUTHORITY, MySuggestionProvider.MODE);
  suggestions.saveRecentQuery(query, null);
}
</code></pre>
