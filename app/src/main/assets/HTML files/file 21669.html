<p>The v4 equivalent would look like:</p>

<pre><code>COMMENT
    :   ( '//' ~[\r\n]* '\r'? '\n'
        | '/*' .*? '*/'
        ) -&gt; channel(HIDDEN)
    ;
</code></pre>

<p>which will put all single- and multi line comment on the <code>HIDDEN</code> channel. However, if you're not doing anything with these <code>HIDDEN</code>-tokens, you could also <code>skip</code> these tokens, which would look like this:</p>

<pre><code>COMMENT
    :   ( '//' ~[\r\n]* '\r'? '\n'
        | '/*' .*? '*/'
        ) -&gt; skip
    ;
</code></pre>

<p>Note that to tell the lexer or parser to match ungreedy, you don't use <code>options {greedy=false;}</code> anymore, but append a <code>?</code>, similar to many regex implementations.</p>
