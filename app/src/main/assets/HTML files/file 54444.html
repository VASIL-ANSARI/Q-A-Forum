<p>Your algorithm for finding factors doesn't really work? For instance, for the numbers 18 and 24, it should be {1,2,3,6,9,18} and {1,2,3,4,6,8,12,24}, respectively - including 1 and the number itself. You get {2,3,3} and {2,2,2,3}, respectively.</p>

<pre><code>std::vector&lt;int&gt; factors(int num) {
     std::vector&lt;int&gt; fac_vec;
     for (int i = 1; i &lt;= num; i++)
         if (num % i == 0)
             fac_vec.push_back(i);
     return fac_vec;
 }
</code></pre>

<p>This works, thought it's by no means efficient. To find the common elements, you can iterate with a nested loop. Again, not very efficient, specially since the vectors/arrays are sorted. See example below.</p>

<pre><code>std::vector&lt;int&gt; find_common(std::vector&lt;int&gt;&amp; l, std::vector&lt;int&gt;&amp; r) {
    std::vector&lt; int &gt; common_vec;
    for (auto il : l)
         for (auto ir : r)
             if (il == ir)
                 common_vec.push_back(ir);
    return common_vec;
 }
</code></pre>
