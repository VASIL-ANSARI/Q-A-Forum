<p>I noticed the following errors:</p>

<ol>
<li><p>You have a call to <code>fclose</code> in the <code>while</code> loop. That means, after the first line is read, the file gets closed. Hence, you end up reading only one line.</p></li>
<li><p>You also have the code to print the lines in the <code>while</code> loop. It so happens that the the code in the <code>while</code> loop gets executed only once. Hence, you get only one line in the output.</p></li>
</ol>

<p>You need to move the call to <code>fclose</code> and the code to print the lines outside the <code>while</code> loop.</p>

<p>And some more..</p>

<p>I don't understand what you intended to do with the line:</p>

<pre><code>    Rows[strlen (Rows)+1] = '\0';
</code></pre>

<p>As the code stands now, that would result in undefined behavior since <code>Rows</code>, which evaluates to a pointer to the first element of the array is uninitialized.</p>

<p>The line</p>

<pre><code>  if (sscanf (line, "%s %s", Rows, Cols) != 1)
</code></pre>

<p>is not well thought out. If you expect to find exactly one item in <code>line</code>, use:</p>

<pre><code>  if (sscanf (line, "%s %s", Rows) != 1)
</code></pre>

<p>If you expect to find exactly two items in <code>line</code>, use:</p>

<pre><code>  if (sscanf (line, "%s %s", Rows, Cols) != 2) // 2, not 1
</code></pre>

<p>I am not able to suggest any fixes for these since I don't know what you are hoping to accomplish with them.</p>

<p><strong>Disclaimer</strong> There maybe other errors in the code.</p>
