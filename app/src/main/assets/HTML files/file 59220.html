<p>Instead of inline block use <em>float</em>s:</p>

<pre><code>#results.grid .entry {
   float: left;
}

#results.grid .entry:nth-child(3n+1){
   background-color: yellow;
   clear: left;
}
</code></pre>

<p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<pre class="snippet-code-js lang-js prettyprint-override"><code>$(document).ready(function() {
  $('#mode').change(function() {
    $('#results').removeClass();
    $('#results').addClass($(this).val());
  })
})</code></pre>
<pre class="snippet-code-css lang-css prettyprint-override"><code>#controls {
  position: fixed;
  z-index: 4;
  background-color: white;
  width: 100%;
  padding: 4px
}
.entry {
  width: 200px;
  height: 150px;
  border: solid 1px black;
  margin: 5px;
}
#results.horizontal {
  overflow-x: scroll;
  overflow-y: hidden;
  width: 100%;
  white-space: nowrap;
  padding-top: 40px;
}
#results.horizontal .entry {
  display: inline-block;
}
#results.vertical {
  position: absolute;
  top: 40px;
  bottom: 0;
  overflow-y: scroll;
  overflow-x: hidden;
}
#results.grid .entry.vertical {
  display: block;
}
#results.grid {
  padding-top: 40px;
}
#results.grid .entry {
  float: left;
}
#results.grid .entry:nth-child(3n+1) {
  clear: left;
  background-color: yellow;
}</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"&gt;&lt;/script&gt;
&lt;div id="results" class="results grid"&gt;

  &lt;div class="entry"&gt;Entry 1&lt;/div&gt;
  &lt;div class="entry"&gt;Entry 2&lt;/div&gt;
  &lt;div class="entry"&gt;Entry 3&lt;/div&gt;

  &lt;div class="entry"&gt;Entry 4&lt;/div&gt;
  &lt;div class="entry"&gt;Entry 5&lt;/div&gt;
  &lt;div class="entry"&gt;Entry 6&lt;/div&gt;

  &lt;div class="entry"&gt;Entry 7&lt;/div&gt;
  &lt;div class="entry"&gt;Entry 8&lt;/div&gt;
  &lt;div class="entry"&gt;Entry 9&lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</p>
