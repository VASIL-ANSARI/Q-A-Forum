<p>You haven't allocated any memory for <code>s</code>. The reason it works in one case and not the other is likely because of the wonders of undefined behavior in C++.</p>
