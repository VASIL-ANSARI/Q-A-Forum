<p><code>COUNT()</code> doesn't count NULLs, and your left join puts NULLs in the records where there isn't a value in the right-hand table. Your outer join actually is (or should be - check this) returning all the desired rows, but the outer select with the aggregate function is eating them.</p>

<p>Try moving your <code>count()</code> into the right-hand subquery, and then in your outer query replace it with <code>IFNULL(q2.count, '0')</code> to replace NULLs with zeros.</p>

<p>I will note that you should be grouping on q1.name, not q2.name.</p>
