<blockquote>
  <p>but is it posible to have the DLL returning a struct of the correct format to the C# wrapper?</p>
</blockquote>

<p>I don't think so, because you always need to define the structs on the C# side.</p>

<h3>Here are a solution which may work ( never tested ):</h3>

<ul>
<li>Give each struct which is shared a unique identifier on both sides ( GUID, Macros )</li>
<li>Create a reflection for C++ which contains informations about the the types which are used on C# and C++ side. This could be done by using macros.</li>
<li>Compare the C++ structs and the C# structs on startup by using the GUIDs, reflection and macros. You can also use <code>sizeof</code> to compare sizes first.</li>
</ul>

<hr>

<ul>
<li>That could be a lot of work</li>
<li>When working on C++ side you still can make a lot of things wrong when you not know about the macros</li>
</ul>
