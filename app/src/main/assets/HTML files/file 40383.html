<p>After you call <code>node-&gt;children-&gt;erase(i)</code>, <code>i</code> is an invalid iterator. Any operations on the it after that is cause of undefined behavior. What you need to use is:</p>

<pre><code> i = node-&gt;children.erase(i);
</code></pre>

<p>and remove the code for incrementing and decrementing the iterator.</p>

<pre><code>for(i = node-&gt;children.begin(); i != node-&gt;children.end(); /* ++i Don't need this*/ )
{
    destroySubtree((*i)); //segfaults here, only when debugging

    list&lt;TreeNode&gt;::iterator j;
    for(j = nodes.begin(); j != nodes.end(); j++)
    {
       if((j)-&gt;nId == (*i)-&gt;nId)
       {
           nodes.erase(j);
           break;
       }
    }
    i = node-&gt;children.erase(i);
    // i--; Don't need this.
}
</code></pre>
