<p>I would recommend creation of a daemon, which will be running as a root and will communicate with a script running at a user level.</p>

<p>You can do very simple python rpc server (e.g. XML-RPC which is built-in) and a client as a glue, run one of them as a server and root and the other one make into a client script.</p>

<p>The php code would then execute the python script with the required parameters, which then can communicate with the python server script.</p>

<p>As a benefit, you get potential security if you do the server part well. I chose python as a language which has most of the functionality built-in and is very simple to use.</p>

<p>Examples:</p>

<p>server - <a href="http://docs.python.org/library/simplexmlrpcserver.html#simplexmlrpcserver-example" rel="nofollow">http://docs.python.org/library/simplexmlrpcserver.html#simplexmlrpcserver-example</a></p>

<p>client - <a href="http://docs.python.org/library/xmlrpclib.html#example-of-client-usage" rel="nofollow">http://docs.python.org/library/xmlrpclib.html#example-of-client-usage</a></p>

<p>Alternatively, if you insist on using php, you can run the server process as a <a href="http://kevin.vanzonneveld.net/techblog/article/create_daemons_in_php/" rel="nofollow">php daemon</a> and connect to it via some similar RPC means.</p>
