<p>you can wrap the WebSocket to spy on all instances created after you switch it:</p>

<pre><code>(function(){

var ws = window.WebSocket;

window.WebSocket = function (a, b) {
   var that = b ? new ws(a, b) : new ws(a);
   that.addEventListener("open", console.info.bind(console, "socket open"));
   that.addEventListener("close", console.info.bind(console, "socket close"));
   that.addEventListener("message", console.info.bind(console, "socket msg"));
   return that;
};

window.WebSocket.prototype=ws.prototype; 

}());
</code></pre>
