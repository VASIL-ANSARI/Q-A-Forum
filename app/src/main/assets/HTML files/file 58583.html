<p>What about this approach (which only needs one pass over the data):</p>

<h3>Code</h3>

<pre><code>def calc(xs, k):
    k_max = []
    result = []

    for ind, val in enumerate(xs):
        # update local maxes (all are active)
        for i in range(len(k_max)):
            if val &gt; k_max[i] :
                k_max[i] = val
        # one new sub-array starts
        k_max.append(val)

        if ind &gt;= (k-1):  # one sub-array ends
            result.append(k_max[0])
            k_max.pop(0)

    return result

t1 = [1, 3, -1, -3, 5, 3, 6, 7]
t2 = [12, 1, 78, 90, 57, 89, 56]
print(calc(t1, 3))
print(calc(t2, 2))
</code></pre>

<h3>Output</h3>

<pre><code>[3, 3, 5, 5, 6, 7]
[12, 78, 90, 90, 89, 89]
</code></pre>
