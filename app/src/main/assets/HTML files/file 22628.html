<p><code>iostream</code> has virtual member functions (specifically, <code>~ios_base</code>) so you can perform a <code>dynamic_cast</code> in the <code>operator&lt;&lt;</code>:</p>

<pre><code>inline std::ostream &amp;operator&lt;&lt;(std::ostream &amp;os, eMsgType::type msgTypeCurrent) {
  if (CLogStream *myLogStream = dynamic_cast&lt;CLogStream *&gt;(&amp;os)) {
    myLogStream-&gt;SetMsgTypeCurrent(msgTypeCurrent);
  } else {
    os &lt;&lt; "TYPE: " &lt;&lt; static_cast&lt;typename std::underlying_type&lt;eMsgType::type&gt;
      ::type&gt;(msgTypeCurrent) &lt;&lt; ": ";
  }
  return os;
}
</code></pre>
