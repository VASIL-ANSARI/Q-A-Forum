<p>It is hard to tell you "what is wrong" since you are not answering some of the questions asked in the comments. Using one of the lines of your code, I found an implementation of what I think you are after at <a href="https://github.com/santhoshn/panchanga" rel="nofollow">https://github.com/santhoshn/panchanga</a></p>

<p>I built the code (moving everything into its own directory, then compiling with</p>

<pre><code>gcc *.c -lm -o panchanga
</code></pre>

<p>And tested it using today's date, and the time zone of Mumbai, India:</p>

<pre><code>panchanga -d 26/09/2013 -t 20:02 -z +5:30
</code></pre>

<p>Output:</p>

<pre><code>Tithi     : Saptami, Krishna Paksha
Nakshatra : Mrigashira
Yoga      : Vyatipata
Karana    : Bava
Rashi     : Mithuna
</code></pre>

<p>I don't know what these mean, but I confirmed the results against <a href="http://www.drikpanchang.com/?l=10455" rel="nofollow">http://www.drikpanchang.com/?l=10455</a> - and they agreed.</p>

<p>My advice to you: see how this solution differs from what you are doing - that's how you will find "what is wrong with your code".</p>
