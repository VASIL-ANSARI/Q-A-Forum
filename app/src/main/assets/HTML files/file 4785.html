<p>If you look at the SimpleNode class, you'll notice that its instances automatically store references to their parent and children nodes (unless their creation was suppressed using #void). For example, your root node will contain references to 0..1 Section1 nodes, 0..1 Section2 nodes and 0..* Section3 nodes and they can be accessed using the jjtGetChild() method which returns a Node object. To determine whether this child node is a Section1, Section2 or Section3 node, you could call its toString() method (as dump() does).</p>

<p>Alternatively, if you get sick of this style of naive Node iteration and toString checking, you can define your own node types instead of relying on the SimpleNode implementation. In my example below, Start() now returns a custom RootNode instead of a plain SimpleNode. RootNode contains specific references to its children nodes (define getters for these as you see fit). Note that my brief snippet assumes Section1/2/3() all return custom nodes, but this doesn't <em>have</em> to be the case... from what you said, you'd want a custom node for Section3() but if Section1/2 are trivial, you might leave them as SimpleNodes.</p>

<pre><code>RootNode Start() : 
{
  Section1Node s1Node = null;
  Section2Node s2Node = null;

  List s3Nodes = new LinkedList();
  Section3Node s3Node = null;
} 
{
  (
    ( s1Node = Section1() )?
    ( s2Node = Section2() )?
    ( s3Node = Section3() {s3Nodes.add(s3Node); } )*
  )  {

    return new RootNode(s1Node, s2Node, s3Nodes);
  }
}
</code></pre>

<p>If you're traversing your parse tree and doing complex things with your nodes, it might be a good idea to move some of it to a <a href="http://en.wikipedia.org/wiki/Visitor_pattern" rel="nofollow">Visitor class</a> so that what you're doing with your nodes is decoupled from the node classes themselves. You might end up with several visitor classes which each perform a function on the parse tree and have visit method overloads for each type of node.</p>

<p>Let me know if there's anything you don't understand. I'm no JavaCC expert (I used it at uni once) but I should be able to help you :)</p>
