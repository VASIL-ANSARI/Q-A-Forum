<p>You can control in your c code what exactly arrives from the JS side of things by placing</p>

<pre><code>printf ("chr arrived: %i %c \n", payload[i], payload[i]);
</code></pre>

<p>in your loop, which prints the numeric value of the current chr and the chr itself.</p>

<p>If you check the newline chr:</p>

<pre><code>char newline = '\n';
printf ("chr arrived: %i %c \n", newline, newline);
</code></pre>

<p>output will be:</p>

<pre><code>&gt; ./test
chr arrived: 10

&gt;
</code></pre>

<p>I guess what you send in your example are the characters <code>\</code>(92) and <code>n</code>(110) so i would sugest you try the following to specify you newline character in JS:</p>

<pre><code>var newline = String.fromCharCode(10);
websocket.send("SEND "+name+newline+message);
</code></pre>
