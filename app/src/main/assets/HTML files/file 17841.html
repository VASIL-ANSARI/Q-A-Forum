<p>At first , you need install the php ext named : <a href="http://php.net/imagick" rel="nofollow">Imagick</a></p>

<pre><code>&lt;?php 
/* Read the image into the object */ 
$im = new Imagick( 'a.png' ); 
$im-&gt;setImageFormat("png"); 

/* Make the image a little smaller, maintain aspect ratio */ 
$im-&gt;thumbnailImage( 200, null ); 

/* Clone the current object */ 
$shadow = $im-&gt;clone(); 

/* Set image background color to black 
        (this is the color of the shadow) */ 
$shadow-&gt;setImageBackgroundColor( new ImagickPixel( 'black' ) ); 

/* Create the shadow */ 
$shadow-&gt;shadowImage( 80, 3, 5, 5 ); 

/* Imagick::shadowImage only creates the shadow. 
        That is why the original image is composited over it */ 
$shadow-&gt;compositeImage( $im, Imagick::COMPOSITE_OVER, 0, 0 ); 

/* Display the image */ 
header( "Content-Type: image/png" ); 
echo $shadow; 
</code></pre>
