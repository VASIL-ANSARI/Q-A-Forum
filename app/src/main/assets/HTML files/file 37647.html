<p>If I'm understanding your question correctly, this sounds like a textbook case for using transactions:  </p>

<blockquote>
  <p>Transactions are protective blocks where SQL statements are only permanent if they can all succeed as one atomic action. The classic example is a transfer between two accounts where you can only have a deposit if the withdrawal succeeded and vice versa. Transactions enforce the integrity of the database and guard the data against program errors or database break-downs. So basically you should use transaction blocks whenever you have a number of statements that must be executed together or not at all.</p>
</blockquote>

<p>Active Record supports transactions, you can read more about them <a href="http://api.rubyonrails.org/classes/ActiveRecord/Transactions/ClassMethods.html" rel="nofollow">here</a>.</p>

<p>Here is the example from the documentation:  </p>

<pre><code>ActiveRecord::Base.transaction do
  david.withdrawal(100)
  mary.deposit(100)
end
</code></pre>

<p>In this case, if the withdrawal from david's account fails, the deposit to mary's account is not executed. Likewise if the withdrawal succeeds and the deposit fails, the withdrawal is rolled back and no action is taken.  Either everything works or nothing does, and it happens as an atomic operation - meaning nothing else can access the database before the transaction finishes (either success or failure)</p>
