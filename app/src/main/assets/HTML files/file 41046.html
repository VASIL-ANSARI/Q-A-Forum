<p>RSpec cannot catch the error in the background unless you <a href="https://www.relishapp.com/rspec/rspec-expectations/v/3-1/docs/built-in-matchers/raise-error-matcher" rel="nofollow">use the <code>raise_error</code> matcher with the block form of <code>expect</code></a>:</p>

<pre><code>RSpec.describe PostPolicy do
  it "should raise an exception when users aren't logged in" do
    expect do
      AccountFolderPolicy.new(nil, record)
    end.to  raise_error(Pundit::NotAuthorizedError)
  end
end
</code></pre>

<p>Alternatively</p>

<pre><code>RSpec.describe PostPolicy do
  it "should raise an exception when users aren't logged in" do
    expect { AccountFolderPolicy.new(nil, record) }.to  raise_error(Pundit::NotAuthorizedError)
  end
end
</code></pre>
