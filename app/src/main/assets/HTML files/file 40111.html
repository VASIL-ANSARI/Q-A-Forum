<p>Your condition should be something like</p>

<pre><code>while (getline(author, infile) &amp;&amp; getline(ratings, infile)) {
    // validate input, then process it
}
</code></pre>

<p>Then the if (infile.open()) becomes trivial.  There is a '}' missing in the code you posted, which makes it hard to really tell where your counting error is coming from, or maybe that's just the reason, incrementing your count in the wrong place.  Please make sure your examples are complete and possibly even compile.</p>

<p>A little tip, you can just write</p>

<pre><code>userList.push_back(User(author, ratings));
</code></pre>

<p>EDIT:
I created this minimal test code (for you) and tested it on the following file, resulting in the following output. Can you confirm? Please note: The current program doesn't accept newlines in your file, e.g. for grouping various users, however, this is a feature easily added, once the basic program works.</p>

<p>Code:</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;

using namespace std;

struct User {
    string author, ratings;
    User(string auth, string rat) 
        : author(auth), ratings(rat) {}
};

int main()
{
    ifstream ist("test.txt");
    if (!ist) {
        cout &lt;&lt; "Could not open file test.txt\n";
        return 1;
    }

    vector&lt;User&gt; userList;
    string author, ratings;
    size_t count = 0;
    while (getline(ist, author) &amp;&amp; getline(ist, ratings)) {
        if (author != "" &amp;&amp; ratings !=  "") {
            userList.push_back(User(author, ratings));
            ++count;  // in this case, count++ is equivalent
        }
    }
    cout &lt;&lt; count &lt;&lt; " users read in. Closing user file.\n";
} 
</code></pre>

<p>The file test.txt</p>

<pre><code>foo 
bar 
foobar 
lalilu 
myTotalUsersAre 
3
</code></pre>

<p>Output:</p>

<pre><code>3 users read in. Closing user file.
</code></pre>
