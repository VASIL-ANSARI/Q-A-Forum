<p>Your problem is likely related to your handling of the return value of <code>input.read()</code>. If a socket is closed, <code>input.read()</code> may return 0 (it may also return -1 in other error situations). If it does return 0, then your loop will hang. I suggest something like:</p>

<pre><code>        while ((count = input.read(data)) &gt; 0) {
</code></pre>

<p>That way, your loop will run while you are still making progress on the download.</p>
