<p>From the Ruby I've seen out in the wild (granted, not a ton), this is not a standard Ruby design pattern. Modules and scripts are supposed to stay separate, so I wouldn't be surprised if there isn't really a good, clean way of doing this.</p>

<p><strong>EDIT:</strong> <a href="http://gimbo.org.uk/blog/2006/04/18/scripts-in-ruby-a-la-pythons-__name__-__main__-idiom/">Found it.</a></p>

<pre><code>if __FILE__ == $0
    foo()
    bar()
end
</code></pre>

<p>But it's definitely not common.</p>
