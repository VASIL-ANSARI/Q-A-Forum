<p>As others have mentioned, there's nothing wrong with regex. Here's a typical path:</p>

<ol>
<li>Parse your source file into tokens</li>
<li>Generate an abstract syntax tree from your stream of parsed tokens</li>
<li>Walk your AST to generate your bytecode </li>
</ol>

<p>Flex/bison are great tools for 1/2.</p>

<p>You will probably also need some sort of symbol table for variable definitions.</p>

<p>Many compiler design courses will end up implementing a compiler for some subset of the c language, you could try looking at open courseware type sites for an actual class on this.</p>
