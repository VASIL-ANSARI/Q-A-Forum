<p>Simple answer: check the year against the current year. If they're equal, start with current month, if not start with 12.</p>

<pre><code>years = [2013, 2012, 2011, 2010, 2009]

def month_ranges
  years.flat_map { |y|
    if y == Date.today.year
      start = Date.today.month
    else
      start = 12
    end
    start.downto(1).map { |m| Date.new(y,m,1)..Date.new(y,m,-1) }
  }
end
</code></pre>
