<p>You are using a version of Theano that is too old. In fact, tensor_var.nonzero() isn't in any released version. You need to update to the development version.</p>

<p>With the development version I have this:</p>

<pre><code>&gt;&gt;&gt; that[~(that&gt;=5).nonzero()].max().eval()
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
TypeError: bad operand type for unary ~: 'tuple'
</code></pre>

<p>This is because you are missing parenthesis in your line. Here is the good line:</p>

<pre><code>&gt;&gt;&gt; that[(~(that&gt;=5)).nonzero()].max().eval()
array(9, dtype=int32)
</code></pre>

<p>But we still have unexpected result! The problem is that Theano do not support bool. Doing ~ on int8, is doing the bitwise invert on 8 bits, not 1 bit. It give this result:</p>

<pre><code>&gt;&gt;&gt; (that&gt;=5).eval()
array([0, 0, 0, 0, 0, 1, 1, 1, 1, 1], dtype=int8)
&gt;&gt;&gt; (~(that&gt;=5)).eval()
array([-1, -1, -1, -1, -1, -2, -2, -2, -2, -2], dtype=int8)
</code></pre>

<p>You can remove the ~ with this:</p>

<pre><code>&gt;&gt;&gt; that[(that&lt;5).nonzero()].max().eval()
array(4, dtype=int32)
</code></pre>
