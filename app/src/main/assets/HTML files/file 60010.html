<p>It's far too soon to do anything in the completion handler of presenting the controller.</p>

<p>Set the <code>completionWithItemsHandler</code> property of the <code>UIActivityViewController</code>. This will get called when the sharing process is complete.</p>

<pre><code>activityVC.completionWithItemsHandler = { (activityType: UIActivityType?, completed: Bool, returnedItems: [Any]?, error: Error?) -&gt; Void in
    if completed == true {
        try! FileManager.default.removeItem(at: targetURL)
    }
}
</code></pre>
