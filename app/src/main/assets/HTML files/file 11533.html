<p>Your program doesn't work fine; it won't be able to distinguish between <code>EOF</code> and <code>255</code>.</p>

<p>The reason it appears to work correctly is because <code>char</code> is probably <code>signed</code> on your platform, so it's still capable of representing <code>-1</code>.</p>
