<p>Try this:</p>

<pre><code>SELECT p.valueID,p.date_created,v.valueName,v.value,v.maxWeekValue, case when SUM(v.value) &lt; v.maxWeekValue then SUM(v.value) else v.maxWeekValue end as sumd 
FROM `points` AS p 
INNER JOIN `users` AS u ON u.id = p.userID
INNER JOIN `values` AS v ON p.valueID = v.valueID
WHERE p.date_created 
BETWEEN SUBDATE(curdate(), 7) 
AND curdate()
</code></pre>
