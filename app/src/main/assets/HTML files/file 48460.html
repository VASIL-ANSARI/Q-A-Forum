<p>So by now I have solved it in this way:</p>

<pre><code>namespace :metadata do |ns|
    config = {:data_location=&gt;"/mnt/metadata/",
              :data_description=&gt;"Metadata from system 5"}
    task :process do |task|
        # Code
    end
    task :document do |task|
        selfdocument(config)
    end
end

namespace :frontend_log do |ns|
    config = {:data_location=&gt;"/mnt/backend/",
              :data_description=&gt;"Logdata from backend"}
    task :process do |task|
        # Code
    end
    task :document do |task|
        selfdocument(config)
    end
end

namespace :backend_log do |ns|
    config = {:data_location=&gt;"/mnt/backendlog/",
              :data_description=&gt;"Logdata from backend"}
    task :process do |task|
        # Code
    end
    task :document do |task|
        selfdocument(task, config)
    end
end
</code></pre>

<p>With a helper function</p>

<pre><code>def selfdocument(task, config) do
    puts "#{task} will process data from the #{config[:data_location]} folder, which contains #{config[:data_description]}"
end
</code></pre>

<p>Which is not a rewrite or refactor per say, since I am only adding a task, not moving code around or changing existing code.</p>
