<p>the onsubmit-handler doesn't know the <code>location</code>-variable, it will not be executed in the scope of <code>open_info()</code>  (in the onsubmit-handler <code>location</code> will be a DOMNode, the input with the ID "location")</p>

<p>Set the desired values directly  when you prepare the form:</p>

<pre><code>var content =   '&lt;form method="post" action="main.php" name="infoWindow" id="infoWindow"&gt;' +
                '&lt;input type="text" name="location" id="location" placeholder= "Location"/&gt;&lt;br /&gt;' +
                '&lt;input type="textarea" name="description" id="description" cols="40" rows="5" placeholder="Description"/&gt;&lt;hr /&gt;' +
                '&lt;input type="hidden" name="lat" id="lat" value="'+marker.getPosition().lat()+'"/&gt;' +
                '&lt;input type="hidden" name="lng" id="lng" value="'+marker.getPosition().lng()+'"/&gt;' +
                '&lt;input type="submit" name="save" id="save" value="Save" /&gt;' +
                '&lt;/form&gt;';
</code></pre>
