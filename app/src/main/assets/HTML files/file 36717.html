<p>The code is clear and looks correct.  (But one's eyes can always deceive.)</p>

<p>One issue is a concern whether the output is guaranteed to lie between -1 and 1.  Assuming all inputs are nonnegative, though, we can round the numerator <em>up</em> and the denominator <em>down</em>, thereby overestimating the result, by zeroing out all the "False*" terms, producing </p>

<pre><code>TP*TN / Sqrt(TP*TN*TP*TN) = 1.
</code></pre>

<p>The lower limit is obtained similarly by zeroing out all the "True*" terms.  Therefore, <strong>working code cannot produce a value larger than 1 in size unless it is presented with invalid input.</strong></p>

<p>I therefore recommend placing a guard (such as an <code>Assert</code> statement) to assure the inputs are nonnegative.  (Clearly it matters not in the preceding argument whether they are integral.)  Place another assertion to check that the output is in the interval [-1,1].  Together, these will detect either or both of (a) invalid inputs or (b) an error in the calculation.</p>
