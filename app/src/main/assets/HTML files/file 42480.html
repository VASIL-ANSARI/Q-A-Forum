<p>I think you should only use didSelectRowAtIndexPath: method (drop the didDeselectRowAtIndexPath: method) and check to select the cell if it's not and vice versa as-</p>

<pre><code>-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath 
{
   BOOL cellSelected = NO;
   // set cellSelected based on your condition
   if(cellSelected)
   {
      // code to deselect the cell
   }
   else
   {
      // code to select the cell
      UITableViewCell *tableViewCell = [tableView cellForRowAtIndexPath:indexPath];
     //tableViewCell.accessoryView.hidden = NO;
     tableViewCell.accessoryType = UITableViewCellAccessoryCheckmark;
   }
}
</code></pre>
