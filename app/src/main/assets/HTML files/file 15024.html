<p>I've seen two techniques for an upsert.  With the first technique, within a transaction, you test first to see if the row exists, and use the results to determine whether to perform an insert or an update.  With the second technique, you try performing an update and verify the number of records updated (JDBC gives you this).  If it's zero, then you do an insert, if one, then you're done.</p>
