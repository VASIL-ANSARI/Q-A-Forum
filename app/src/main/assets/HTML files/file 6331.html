<p>Check <code>std::cout.good()</code> after the failed output attempt. My guess is that there's some failure on output (i.e. trying to write a nonprintable character to the console), which is setting <code>failbit</code> on <code>cout</code>.</p>

<p>Also check to ensure the string does not start with a <code>NULL</code>, which would cause empty output to be the expected behavior :)</p>

<p>(Side note, please use <code>reinterpret_cast</code> for <code>unsigned char *ucopy = (unsigned char*)packet;</code> if you're in C++ ;) )</p>
