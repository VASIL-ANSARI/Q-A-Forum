<p>Because without it, there would be no definition of <code>Overflow</code> in stack.cpp and you couldn't use the class, such as in <code>throw Overflow();</code>.</p>

<p>It's common practice to expose the interfaces to the client through a header file and then include that same header in the implementation file. If we were to do that in this (rather unusual) case, we'd also need to expose the implementation details (<code>max_size</code>, <code>v[]</code>, and <code>top</code>). The repeated class definition is there to avoid this, so the implementation details can be hidden from client code. It's not an error to have multiple class defintions, provided that they're indentical token by token and not present in the same translation unit.</p>

<p><strong>EDIT:</strong> The question has been edited - now there's <code>#include "stack.h"</code> in stack.cpp that wasn't there previously.</p>

<p>That makes the program ill-formed - there are two definitons of class <code>Overflow</code> in the same translation unit (remember that include directive basically just copy-pastes the contents of a header file). It's in essence the same as if you did this:</p>

<pre><code>int i;
int i; // error: redefinition of i
int main() {}
</code></pre>

<p>The fact that you can have several definitions of a class across the entire program is actually an exception to the <a href="http://stackoverflow.com/questions/4192170/what-exactly-is-one-definition-rule-in-c">One Definition Rule</a>.</p>
