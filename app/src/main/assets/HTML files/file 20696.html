<p>Try this:</p>

<pre><code>int main()
{
    FILE                *fp = fopen("sample.txt", "r");    /* or use fopen to open a file */
    int                 c, lastchar = 0;              /* Nb. int (not char) for the EOF */
    unsigned long       newline_count = 0;

        /* count the newline characters */
    while ( (c=fgetc(fp)) != EOF ) {
        if ( c == 'n' &amp;&amp; lastchar == '\\' )
            newline_count++;
        lastchar = c; /* save the current char, to compare to next round */
        putchar(c);
    }

    printf("\n  %lu newline characters\n ", newline_count);
    return 0;
}
</code></pre>

<p>Really, a literal <code>\n</code> is two characters (a string), not just one. So you cannot simply compare it as though it was a character.</p>

<p><strong>EDIT</strong>
Since <code>\n</code> is two characters, the <code>\</code> and the <code>n</code>, we must remember the last character we read in, and check if the current character is an <code>n</code> and the previous character is a <code>\</code>. If both tests are true, that means we have located the sequence <code>\n</code> in the file.</p>
