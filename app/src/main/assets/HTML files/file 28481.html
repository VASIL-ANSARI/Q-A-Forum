<p>IF you are looking for an auto increment, follow the below example. If you don't care about the speed, just replace table with your subquery</p>

<pre><code>SELECT mycols, @n := @n + 1 AS rownum
   FROM MYTABLE , (SELECT @n := 0) as rownumstart
</code></pre>

<p>to get with your order:</p>

<p>step1 add a rownum to join on</p>

<p>step2 update table by joining it with our subquery of same table in correct order, joining table.rownum with subquery.new_rownum</p>

<pre><code>ALTER MYTABLE ADD rownum int (11) unsigned NULL DEFAULT NULL;

UPDATE MYTABLE ,

  (SELECT @n := 0) AS ALIAS
SET rownum=@n := @n + 1 ;


UPDATE TABLE
INNER JOIN
  (SELECT ordered.*, @n := @n + 1 AS rownum
   FROM
     (SELECT WITH your
      ORDER WITHOUT rid
      FROM TABLE) AS ordered,

     (SELECT @n := 0) AS ALIAS) ordered_with_rownum ON ordered_with_rownum.rownum=TABLE.rownum
SET TABLE.columnA=ordered_with_rownum.columnA,
          TABLE.columnB=ordered_with_rownum.columnB ....
</code></pre>
