<p>You may iterate on all your users and update the address with <code>gsub</code>, like:</p>

<pre><code>User.all.each do |user|
  user.email = user.email.gsub('@domain.com', '@newdomain.com')
  user.save!
end
</code></pre>

<p>Or, if the number of users is really big, you should do it directly in the database, with one update query. This depends on the database system, in Postgres it would look like:</p>

<pre><code>update users set email = replace(email, '@domain.com', '@newdomain.com');
commit;
</code></pre>
