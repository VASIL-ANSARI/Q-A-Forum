<p>Looks like </p>

<blockquote>
  <p>if(embget == 2)</p>
</blockquote>

<p>should be </p>

<blockquote>
  <p>if(embget == 1)</p>
</blockquote>

<p>And you don't need that extra event in </p>

<blockquote>
  <p>event.preventDefault();</p>
</blockquote>

<p>Here's a simplified version:</p>

<pre><code>var appendIFrame = true;
$(".custemba").click(function(event) {
    event.preventDefault();
    $('.custemb').slideToggle();
    if(appendIFrame) {
        $('.appendi').append('&lt;iframe src="/player_i.php?aid=12" height="170px" width="100%" scrolling="no"  frameborder="0"&gt;&lt;/iframe&gt;');
        appendIFrame = false;
    }
});
</code></pre>
