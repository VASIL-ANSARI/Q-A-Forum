<p>If your requirements really are that basic that you can do such simple string replacements then yes, this is âsafeâ against XSS. (However, it's still possible to submit non-well-formed content where <code>&lt;i&gt;</code> and <code>&lt;b&gt;</code> are mis-nested or unclosed, which could potentially mess up the page the content ends up inserted into.)</p>

<p>But this is rarely enough. For example currently <code>&lt;a href="..."&gt;</code> or <code>&lt;img src="..." /&gt;</code> are not allowed. If you wanted to allow these or other markup with attribute values in, you'd have a whole lot more work to do. You might then approach it with regex, but that gives you endless problems with accidental nesting and replacement of already-replaced content, seeing as how regex can't parse HTML, and that.</p>

<p>To solve both problems, the usual approach is to use an [X][HT]ML parser on the input, then walk the DOM removing all but known-good elements and attributes, then finally re-serialise to [X]HTML. The result is then guaranteed well-formed and contains only safe content.</p>
