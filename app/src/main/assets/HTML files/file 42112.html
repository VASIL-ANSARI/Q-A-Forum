<p>I think the problem is related with this: <a href="http://stackoverflow.com/questions/8109526/the-cross-thread-usage-of-httpcontext-current-property-and-related-things">The cross-thread usage of &quot;HttpContext.Current&quot; property and related things</a></p>

<p>A workaround may be replacing the <code>SyncDataTask</code> signature for:</p>

<pre><code>public async Task SyncDataTask(WebSocketContext context, HttpSessionState session)
</code></pre>

<p>And then replace this call:</p>

<pre><code>context.AcceptWebSocketRequest(SyncDataTask);
</code></pre>

<p>for this one:</p>

<pre><code>context.AcceptWebSocketRequest(wsc =&gt; SyncDataTask(wsc, context.Session));
</code></pre>
