<p>Here:</p>

<pre><code>$vf = $p * $y + ($r * ($y - 1) / $x);
// outputs 2467.1124745799
</code></pre>

<p>Your equation was:</p>

<pre><code>$vf = $p * $y + (($r * $y - 1) / $x); // &lt;- NOT $r*$y -1 , but $r*($y-1)
</code></pre>

<p>You can see it <a href="https://3v4l.org/fr8ib" rel="nofollow">here - 3v4l</a></p>
