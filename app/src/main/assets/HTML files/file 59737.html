<p>I think you can just check if the element of the vector has meaningful key and value:</p>

<pre><code>if(vector[i] == std::pair&lt;key, value&gt;())
    //empty
</code></pre>

<p>or, if you only care about the keys</p>

<pre><code>if(vector[i].first == key())
    //empty
</code></pre>

<p>This approach assumes that the default constructor of <code>key</code> type constructs an object that would be considered an "empty" or "invalid" key.</p>
