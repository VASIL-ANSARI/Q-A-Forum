<p><code>EventSource("update.php")</code> looks a bit suspicious. JS won't open a file like that. Maybe try <code>EventSource(&lt;?php file_get_contents("update.php"); ?&gt;)</code>. </p>

<p>According to this:
<a href="https://developer.mozilla.org/en-US/docs/Web/API/EventSource" rel="nofollow">https://developer.mozilla.org/en-US/docs/Web/API/EventSource</a></p>

<p>It's looking for a 'USVString'
<a href="https://developer.mozilla.org/en-US/docs/Web/API/USVString" rel="nofollow">https://developer.mozilla.org/en-US/docs/Web/API/USVString</a></p>

<p>Also, your JSON is not in valid format.
should be <code>{"data": {"p2h","p2r3","s8t1c9","l2f"}}</code></p>

<p>For that, I like to check it with something like this:</p>

<p><code>try { data = JSON.parse(data); } catch(e) {}</code> </p>
