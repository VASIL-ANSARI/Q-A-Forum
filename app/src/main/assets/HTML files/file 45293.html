<p>I hope that you have timestamp or messageID on server that could tell your script if there are new messages after last check. </p>

<p>ex.</p>

<pre><code>var lastMessageID = 0;
function checkMessages(){
$.ajax(url,{

    data:{
       last_message_id:lastMessageID
    },
    success:function(data){
    // Count new messages
    if (Object.keys(data).length &gt; 0){  
        $.each(data,function(index, item){
            $('.messages').prepend("&lt;span class='message'&gt;"+item.message+"&lt;/span&gt;");
    });
    // We suggest that this is our last message 
    lastMessageId = data[Object.keys(data).length-1].id;
    }
 }
});
}
var intervalM = setInterval(function(){
     checkMessages();
},2000);
</code></pre>

<p>And please save some trees by using gziped JSON data. :)</p>
