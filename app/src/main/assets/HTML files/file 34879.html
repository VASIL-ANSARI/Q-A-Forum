<p>This seems like a job for css. You can use css to set the display property on the divs to "none" before the page loads and then once the javascript starts running, you can decide to show them or not.</p>

<p>As a note for future reference, the reason the JS doesn't run until the page refreshes is because you have all your javascript in a <code>$(function() {})</code> method which doesn't execute until the page is done loading.</p>

<p>You could also add a some lines of code outside of the ready function to execute the code immediately. This is less advisable though because broken javascript would prevent the loading of your page.</p>
