<p>You have to ensure that you don't break database integrity: <a href="http://msdn.microsoft.com/en-us/library/ms175464.aspx" rel="nofollow">http://msdn.microsoft.com/en-us/library/ms175464.aspx</a> . You can reach that inserting rows in correct order, for example:</p>

<pre><code>$sfGuardUser = new sfGuardUser();
$sfGuardUser-&gt;id = 1;
$sfGuardUser-&gt;save();

$sfGuardUserProfile = new sfGuardUserProfile();
$sfGuardUserProfile-&gt;user_id = $sfGuardUser-&gt;id;
$sfGuardUserProfile-&gt;save();
</code></pre>

<p>or like this:</p>

<pre><code>$sfGuardUser = new sfGuardUser();
$sfGuardUser-&gt;id = 1;

$sfGuardUserProfile = new sfGuardUserProfile();
$sfGuardUserProfile-&gt;User = $sfGuardUser;
sfGuardUserProfile-&gt;save();
</code></pre>
