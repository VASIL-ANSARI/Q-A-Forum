<pre><code>if ( ! function_exists('set_select'))
{
function set_select($field = '', $value = '', $default = FALSE)
{
    $OBJ =&amp; _get_validation_object();

    if ($OBJ === FALSE)
    {
        if ( ! isset($_POST[$field]))
        {
            if (count($_POST) === 0 AND $default == TRUE)
            {
                return ' selected="selected"';
            }
            return '';
        }

        $field = $_POST[$field];

        if (is_array($field))
        {
            if ( ! in_array($value, $field))
            {
                return '';
            }
        }
        else
        {
            if (($field == '' OR $value == '') OR ($field != $value))
            {
                return '';
            }
        }

        return ' selected="selected"';
    }

    return $OBJ-&gt;set_select($field, $value, $default);
}
}
</code></pre>

<p>This is the CI set_select function which expects $field to be supplied with post method. and here you aren't, you are supplying through session.</p>
