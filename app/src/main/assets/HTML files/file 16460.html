<p>Here's an excerpt from from <a href="http://asciicasts.com/episodes/257-request-specs-and-capybara" rel="nofollow">Ryan Bates Railscast on Request Specs and Capybara</a></p>

<pre><code>require 'spec_helper'  

describe "Tasks" do  
  describe "GET /tasks" do  
    it "displays tasks" do  
      Task.create!(:name =&gt; "paint fence")  
      visit tasks_path  
      page.should have_content("paint fence")  
    end  
  end  

  describe "POST /tasks" do  
    it "creates a task" do  
      visit tasks_path  
      fill_in "Name", :with =&gt; "mow lawn"  
      click_button "Add"  
      page.should have_content("Successfully added task.")  
      page.should have_content("mow lawn")  
    end  
  end  
end  
</code></pre>

<p>And here's an excerpt from <a href="https://www.relishapp.com/rspec/rspec-expectations/v/2-0/docs/matchers/expect-change" rel="nofollow">the docs on RSPec Expectations</a></p>

<pre><code>describe Counter, "#increment" do
  it "should increment the count" do
    expect{Counter.increment}.to change{Counter.count}.from(0).to(1)
  end

  # deliberate failure
  it "should increment the count by 2" do
    expect{Counter.increment}.to change{Counter.count}.by(2)
  end
end
</code></pre>

<p>So basically, the</p>

<pre><code>expect { click_button "Create my account" }.not_to change(User, :count)
</code></pre>

<p>is part RSpec:</p>

<pre><code>expect {...}.not_to change(User, :count)
</code></pre>

<p>and part Capybara </p>

<pre><code>click_button "Create my account"
</code></pre>

<p>(Here's <a href="https://github.com/jnicklas/capybara" rel="nofollow">a link to the Capyabara DSL</a> -- you can search for <code>click_button</code>)</p>

<p>It sounds like you're looking for an overall example with them both. This isn't a perfect example, but it could look something like this:</p>

<pre><code>describe "Tasks" do  
  describe "GET /tasks" do  
    it "displays tasks" do  
      expect { click_button "Create my account" }.not_to change(User, :count)
    end  
  end 
end 
</code></pre>
