<pre><code>/**
 * This function captures any Android views to a bitmap shapshot
 * and save it to a file path
 * and optionally open it with android pciture viewer
 */
public void CaptureView(View view, String filePath, boolean bOpen) {
        view.setDrawingCacheEnabled(true);
        Bitmap b = view.getDrawingCache();

        try {
            b.compress(CompressFormat.JPEG, 95, new FileOutputStream(filePath));
        } catch (FileNotFoundException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        if (bOpen) {
            Intent intent = new Intent();
            intent.setAction(Intent.ACTION_VIEW);
            intent.setDataAndType(Uri.parse("file://" + filePath), "image/*");
            startActivity(intent);
        }
}
</code></pre>

<p>Usage:</p>

<pre><code>File sdcard = Environment.getExternalStorageDirectory();
String path = sdcard + "/demo.jpg";
CaptureView(someViewInstace, path, false);
</code></pre>

<p>You can use <strong>Context.getFilesDir()</strong> method to get the path to the internal storage:</p>

<pre><code>String path = yourActivity.getFilesDir() + "/" + name);
</code></pre>
