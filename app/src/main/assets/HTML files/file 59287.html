<p><strong>To make a directory/file</strong></p>

<pre><code>if (!file_exists("parent_folder/$username")) {
//Create a file with read write execute PERMISSIONS ENABLED 
//Please check :  your parent folder also must have 0777 permissions to avoid any kind of read write error
        mkdir("parent_folder/$username", 0777);
//now u have to create a FILE with .php
//now this file_put_contents is VERY importnant !
$pagename = $username ;
$newFileName = './parent_folder/$username/'.$pagename.".php";
$newFileContent = '&lt;?php echo "something..."; ?&gt;';

if (file_put_contents($newFileName, $newFileContent) !== false) {
//notify file is created 
    echo "File created (" . basename($newFileName) . ")";
} else {
//notify u have error
    echo "Cannot create file (" . basename($newFileName) . ")";
}

//now create ur .php file in user folder
        }
       else {
    echo "Your parent folder does not exist"
    }
</code></pre>

<p><strong>Now the possible error and some tips</strong></p>

<p>1) Most of people do fopen("filename_with_PATH", "w")
and expect that file will be generated in PATH folder !
Some times it might fall wrong (depends on version) </p>

<blockquote>
  <p>fopen is meant to create a file in the directory where your php resides</p>
</blockquote>

<p>2) <strong>check ur php permission in php.ini</strong> if u dont give php permission to write,remote access then u might get some errors (it will be displayed that u have error in my script)</p>

<p>3)For more info and tinkering <a href="http://php.net/manual/en/function.file-put-contents.php" rel="nofollow">file_put_contents</a></p>

<p>Hope this will be helpful for you ..</p>
