<p>The problem is that the callback from the <code>HttpWebRequest</code> occurs from a non-UI thread. </p>

<p>Here is what you can do to execute <code>MessageBox.Show</code> on the UI thread:</p>

<pre><code>Dispatcher.BeginInvoke(() =&gt; MessageBox.Show(codenum));
</code></pre>
