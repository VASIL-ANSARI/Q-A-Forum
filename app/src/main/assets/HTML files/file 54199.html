<blockquote>
  <p>AttributeError: 'NoneType' object has no attribute 'lower'</p>
</blockquote>

<p>This tells you that you are attempting to read an attribute named <code>lower</code> on the singleton object <code>None</code>. </p>

<p>Now, you use <code>lower</code> in a method call on <code>email</code>. Therefore, <code>email</code> is <code>None</code>. </p>
