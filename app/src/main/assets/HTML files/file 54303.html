<p>You cannot derive from an incomplete class, and <code>AsyncTask</code> is incomplete until its definition is complete. That's why <code>class CppProxy : public AsyncTask</code> fails.</p>

<p>The solution is easy, though. Just make the <code>CppProxy</code> class a completely separate one, and get rid of the redundant <code>public</code>, too. If you need to access private members of <code>CppProxy</code> from <code>AsyncTask</code> (otherwise, I'm not sure what the purpose of the static Java class would be in the first place), then use a <code>friend</code> declaration.</p>

<p>Here is an example:</p>

<pre><code>class AsyncTask 
{
    public:
    virtual void execute();

    friend class CppProxy;
};

class CppProxy : public AsyncTask 
{
    private:
    long LocalNativeRef;

    CppProxy(long tmpNativeRef)
    {

    }

    void execute()
    {

    }
};
</code></pre>

<p>Note that you can, and should use <a href="http://en.cppreference.com/w/cpp/language/override" rel="nofollow"><code>override</code></a> like in Java if you are using a C++11-enabled compiler. And you apparently need a virtual destructor in <code>AsyncTask</code>.</p>
