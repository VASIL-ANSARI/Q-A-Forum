<p>Some heuristic:</p>

<ol>
<li>Compare not only connected components but also circumscribed rectangles with background pixels. These rectangles can be extended up (for cases "i", "Ã¤" and so on).</li>
<li>Define a metric taking into account the background pixels. For example add distance if pixels are the different, and substract if the same. In this case when you compare your extracted letter which similar "i" with "i" and "l" you will get shorter distance at "i". This is because white pixel between "dot" and "stick" will increase distance with "l".</li>
<li>It happens that "rn" is recognized as "m". To avoid this a metric must be such than "r" is closer to "rn" than "m". For my text I had enough of the metric, as described in paragraph 2 (:</li>
</ol>
