<p>At the receiving terminal, did you check if the AVPackets you obtained using av_read_frame() has your SEI message on their data?
    My approach to save SEI for each frame was similiar to yours except the encoding part. My steps are:</p>

<ol>
<li>First, I encoded frames using x264 library (I don't think this would make a difference)</li>
<li>Then, like you I fwrite() a packet then a SEI (you don't have to explicity declare a AVPacket for SEI and use packet->data for SEI, simply declare uchar* or uint8_t*)</li>
<li>After using av_read_frame(), the SEI message appears on packet->data along with encoded frame.</li>
<li>I obtain SEI message from packet->data just after the encoded frame's last byte. (Actually, you cannot determine the last byte of encoded frame. But you can do a trick and indicate its length on SEI) </li>
<li>Lastly, without modifying the packet->data, I decode the frame with the usual way.</li>
</ol>
