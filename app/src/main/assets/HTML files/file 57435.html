<p>Concerning <code>struct ::A;</code>, <a href="http://eel.is/c++draft/dcl.type.elab#1" rel="nofollow">[dcl.type.elab]/1</a> makes your declaration ill-formed:</p>

<blockquote>
  <p>If an <em>elaborated-type-specifier</em> is the sole constituent of a
  declaration, <strong>the declaration is ill-formed unless</strong> it is an explicit
  specialization (14.7.3), an explicit instantiation (14.7.2) or <strong>it
  has one of the following forms</strong>:</p>
  
  <p>&emsp;&emsp;<strong><em>class-key attribute-specifier-seq<sub>opt</sub>
  &ensp;identifier</em> <code>;</code></strong><br> &emsp;&emsp;<code>friend</code> <em>class-key</em>
  <code>::</code><sub>opt</sub> <em>identifier</em> <code>;</code><br> &emsp;&emsp;<code>friend</code>
  <em>class-key</em> <code>::</code><sub>opt</sub> <em>simple-template-id</em> <code>;</code><br> &emsp;&emsp;<code>friend</code> <em>class-key nested-name-specifier identifier</em>
  <code>;</code><br> &emsp;&emsp;<code>friend</code> <em>class-key nested-name-specifier</em>
  <code>template</code><sub>opt</sub> <em>simple-template-id</em> <code>;</code></p>
</blockquote>

<p>I don't see a problem in the function case; <a href="http://eel.is/c++draft/dcl.meaning#1" rel="nofollow">[dcl.meaning]/1</a> does permit it:</p>

<blockquote>
  <p>When the
  <em>declarator-id</em> is qualified, the declaration shall refer to a previously declared member of the class or namespace
  to which the qualifier refers (or, in the case of a namespace, of an element of the inline namespace set of that namespace (7.3.1)) or to a specialization thereof; [â¦]
  [ <em>Note</em>: If the qualifier is the global <code>::</code> scope resolution operator, the <em>declarator-id</em> refers to a name declared
  in the global namespace scope. â <em>end note</em> ]</p>
</blockquote>

<p>However, both GCC and Clang insist that redeclarations, as definitions, must occur in an enclosing namespace. </p>
