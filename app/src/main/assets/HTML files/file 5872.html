<p>I know its slightly ugly, but this will work</p>

<pre><code>var s =
    @"ABC at start of line or ABC here must be replaced but, &lt;span id=""__publishingReusableFragment"" &gt;ABC inside span must not be replaced with anything. Another ABC here &lt;/span&gt; this ABC must also be replaced";
var newS = string.Join("&lt;/span&gt;",s.Split(new[] {"&lt;/span&gt;"}, StringSplitOptions.None)
    .Select(t =&gt;
        {
            var bits = t.Split(new[] {"&lt;span"}, StringSplitOptions.None);
            bits[0] = bits[0].Replace("ABC","DEF");
            return string.Join("&lt;span", bits);
        }));
</code></pre>
