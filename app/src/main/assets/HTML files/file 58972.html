<p>Try below code, which gives you available system memory:</p>

<pre><code>MEMORYSTATUSEX stex;
stex.dwLength=sizeof(stex);
GlobalMemoryStatusEx(&amp;stex);
</code></pre>

<p>stex will have total physical, available physical, total page file,total virtual, available virtual memories....</p>

<p>Below is documentation
<a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa366589(v=vs.85).aspx" rel="nofollow">https://msdn.microsoft.com/en-us/library/windows/desktop/aa366589(v=vs.85).aspx</a></p>
