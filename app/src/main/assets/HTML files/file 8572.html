<p>The problem isn't memory or execution time...</p>

<pre><code>ini_set('pcre.backtrack_limit', 10000);
</code></pre>

<p>Feel free to <strong>decrease</strong> the 10000 to a different value if necessary. For more information, see <a href="http://php.net/manual/en/pcre.configuration.php" rel="nofollow">http://php.net/manual/en/pcre.configuration.php</a>.</p>

<p>If you feel like testing where it crashes:</p>

<pre><code>&lt;?php

ini_set('pcre.backtrack_limit', 10000);

for ( $i = 1; $i &lt; 65535; $i++ )
{
  echo $i . PHP_EOL;
  preg_match_all('/(a)*/', str_repeat('a', $i), $matches);
}

?&gt;
</code></pre>
