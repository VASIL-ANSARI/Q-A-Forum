<p><a href="http://coenos.com/blog/?p=257" rel="nofollow">This blog post should explain it to you perfectly</a>.</p>

<blockquote>
  <p>Using the PKCS12 encryption with PEM files.</p>
  
  <p>To get this running you first need a Java Keystore in PFX (Personal
  File Exchange) format.</p>
</blockquote>

<p><strong>Keytool command:</strong></p>

<pre><code> keytool -genkeypair -alias mykeystore -keypass lala -keystore
 mykeystore.pfx -storepass lala -validity 10000 -keyalg RSA -keysize
 2048 -storetype pkcs12
</code></pre>

<p>This will generate the mykeystore.pfx file. This file can be imported
as a Certificate in Firefox.</p>

<p><strong>Import</strong> - Open Firefox â Tools â Options â Advanced â View Certificates â You Certificates â Import â Select PFX file â Import it. </p>

<p><strong>Export</strong> - Select the Certificate â View â Details â Export it to X.509 PEM). (you can also export to DER)</p>

<p><strong>1. The Private Key</strong></p>

<p>First we need to extract the Private Key from the PFX file.</p>

<p><strong>2. The Public Key</strong></p>

<p>Secondly you will need to encrypt a file using the public key. But first you need the public key. </p>

<p><strong>3. Encryption with the Public Key</strong></p>

<p>Now you have the Public Key you can encrypt a File. </p>

<p><strong>4. Decryption with the Private Key</strong></p>

<p>So now the file is encrypted it can be sent/stored for the receiving party toâ¦wellâ¦receive it and decrypt it. To decrypt it we need the Private Key and luckily that was saved/stored in the private.pem file</p>

<p><strong>5. Encryption/Decryption with AES keys</strong></p>

<p>Another way to encrypt/decrypt stuff is via an AES 256 bits key. The key will be generated randomly per file and written to the file system. Then this AES key can be encrypted using the above RSA mechanism. This will improve the performance of encryption for large files.</p>

<p>Source - <a href="http://coenos.com/blog/?p=257" rel="nofollow">http://coenos.com/blog/?p=257</a></p>
