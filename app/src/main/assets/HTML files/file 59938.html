<p>In Entity Framework, a one-to-one mapping with a required principal is implemented by giving the dependent a primary key that's also a foreign key to the principal. The dependent copies its primary key from the principal.</p>

<p>In your case, EF wants <code>ProductionInstruction.Id</code> to be a foreign key to <code>Order.Id</code>, and its value should be copied from the <code>Order</code> it belongs to. However, because of the inheritance, <code>ProductionInstruction.Id</code> is an identity column (<em>store-generated</em>), so it can't be set in code.</p>

<p>You either have to remove the inheritance, so <code>ProductionInstruction.Id</code> can be mapped as not store-generated, or change the mapping to optional on both sides. The latter will give <code>ProductionInstruction</code> a separate foreign key to <code>Order</code>.</p>
