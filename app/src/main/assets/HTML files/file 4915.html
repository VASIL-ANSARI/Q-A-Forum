<p>If <code>val</code> is defined as an integer in your schema then calling <code>@my_model.val</code> will always return an integer because AR does typecasting. That's not new to rails 3, it's always worked that way. If you want the original string value assigned in the controller, try <code>@my_model.val_before_type_cast</code>. Note that <code>validates_format_of</code> performs its validation on this pre-typecast value, so you don't need to specify that there.</p>

<p><strong>EDIT</strong></p>

<p>Sorry I was wrong about the "performs its validation on this pre-typecast value" part. Looking at the code of the validation, it calls <code>.to_s</code> on the post-typecast value which in your case returns <code>"0"</code> and therefore passes validation.</p>

<p>I'd suggest not bothering with this validation to be honest. If <code>0</code> is not a valid value for this column then validate that directly, otherwise just rely on the typecasting. If the user enters <code>123 foo</code> you'll end up with <code>123</code> in the database which is usually just fine.</p>
