<p>In general, you put the code inside a function and make it recursive: when it encounters a directory it calls itself in order to process its contents. Something like this:</p>

<pre><code>function processDirectoryTree($path) {
    foreach (scandir($path) as $file) {
        $thisPath = $path.DIRECTORY_SEPARATOR.$file;
        if (is_dir($thisPath) &amp;&amp; trim($thisPath, '.') !== '') {
            // it's a directory, call ourself recursively
            processDirectoryTree($thisPath);
        }
        else {
            // it's a file, do whatever you want with it
        }
    }
}
</code></pre>

<p>In this particular case you don't need to do that because PHP offers the ready-made <a href="http://php.net/manual/en/class.recursivedirectoryiterator.php" rel="nofollow"><code>RecursiveDirectoryIterator</code></a> that does this automatically:</p>

<pre><code>$it = new RecursiveIteratorIterator(new RecursiveDirectoryIterator(getcdw()));
while($it-&gt;valid()) {
    if ($it-&gt;getFilename() == 'abc.php') {
        unlink($it-&gt;getPathname());
    }
    $it-&gt;next();
}
</code></pre>
