<p>Where gold.cfg is:</p>

<blockquote>
  <p>[Section1]<br>
  key1 = value1<br>
  key2 = value2<br>
  key3 = value3<br>
  <br>
  [Section2]<br>
  key4 = value4<br>
  key5 = value5<br>
  key6 = value6<br>
  <br>
  [Section3]<br>
  key7 = value7<br>
  key8 = value8<br>
  key9 = value9<br></p>
</blockquote>

<p>And where example.cfg is:</p>

<blockquote>
  <p>[Section1]<br>
  key1 = value1<br>
  key2 = value2<br>
  key3 = value3<br>
  <br>
  [Section2]<br>
  key1 = value1<br></p>
</blockquote>

<pre><code># -*- coding: utf-8 -*-
import unittest

try:
    import ConfigParser as configparser  # Python 2
except ImportError:
    import configparser  # Python 3


class TestValidConfig(unittest.TestCase):
    def setUp(self):
        self.gold_config = configparser.RawConfigParser()
        self.gold_config.read('gold.cfg')
        self.allowed_section_names = self.gold_config.sections()
        return None

    def _test_allowed_section_names_pass(self):
        example_config = configparser.RawConfigParser()
        example_config.read('example.cfg')
        for section_name in example_config.sections():
            self.assertTrue(section_name in self.allowed_section_names)
        return None

    def test_values_by_section_pass(self):
        """Test example using setUp()"""
        example_config = configparser.RawConfigParser()
        example_config.read('example.cfg')

        for section_name in example_config.sections():
            example_pairs = example_config.items(section_name)
            gold_pairs = self.gold_config.items(section_name)
            self.assertTrue(set(example_pairs).issubset(set(gold_pairs)))
        return None

if __name__ == '__main__':
    unittest.main()
</code></pre>

<p>Iterate over the section named with the sections() method: <code>for section_name in example_config.sections()</code>. </p>

<p>The items() method returns a list of key, value tuples, so use set to assert that the list of key, value pairs from the example file is a <a href="https://docs.python.org/2/library/stdtypes.html#set.issubset" rel="nofollow">subset</a> of the key, value pairs from your gold copy. </p>

<p>(If the gold copy has a single section listed all allowed key/value pairs, modify the code so that section name is used explicitly  during the comparison.)</p>
