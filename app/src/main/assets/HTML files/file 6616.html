<p><code>stderr</code> was reopened in <code>"w"</code> mode, which is write-only. Judging from your <code>av_gettime</code> function, it looks like you're using <code>libavcodec</code>/<code>libavutil</code>, so instead of writing hideous hacks like this to get the error messages, you should read up on the <code>av_log</code> system and register your own logging function to override the default behavior of writing diagnostic messages to <code>stderr</code>.</p>
