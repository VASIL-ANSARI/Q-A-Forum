<p>Instead of instantiating the PhotoSwipe plugin within the handler for the <code>document.DOMContentLoaded</code> event, I think you need to do it in the handler for an event you fire from the DOMInjector class once your Ajax call has successfully returned. You could also consider passing in a callback function as a parameter to your DOMInjector class and executing that when the Ajax call returns. Either way, the output of that call will be available to you when you instantiate PhotoSwipe.  </p>
