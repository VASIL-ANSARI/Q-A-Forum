<p>If this is your unit test code, I'm not seeing anything mocked up, and I'm completely sure I understand why this is being implemented this way (if the goal is to force an https connection)</p>

<p>I think theres an issue with these two lines.</p>

<pre><code>$this-&gt;_sslRedirect-&gt;preDispatch($this-&gt;_request);
$this-&gt;assertRedirectRegex('/https:/');
</code></pre>

<p>If you could post the complete action you are testing, and the complete unit test you are using to test it, it would help.</p>
