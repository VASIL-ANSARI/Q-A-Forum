<pre><code>class MySQLiConnection { 
      private static $conn = null;
      private function __construct() { }

      public static function getConnection() {
            if (static::$conn === null) { 
                static::$conn = mysqli_connect(/* your params go here */);
            }
            return static::$conn;
      } 
}
</code></pre>

<p>Then you can replace all <code>global $conn</code> with <code>$conn = MySQLiConnection::getConnection()</code></p>
