<p>Well, I know that you probably weren't looking for this, but it is late and I am bored. </p>

<p>Disclaimer: this is a <em>bad idea</em>.</p>

<pre><code>class MyString
{
    private $format, $pet;

    public function __construct($format, &amp;$pet)
    {
        $this-&gt;format = $format;
        $this-&gt;pet = &amp;$pet;
    }

    public function __toString()
    {
        return sprintf($this-&gt;format, $this-&gt;pet);
    }
}

$myString = new MyString('This is my little %s, cool huh?', $pet);

$pet = 'cat';
echo $myString."\n";

$pet = 'dog';
echo $myString."\n";

$pet = 'goldfish';
echo $myString."\n";
</code></pre>

<p>Output:</p>

<pre><code>This is my little cat, cool huh?
This is my little dog, cool huh?
This is my little goldfish, cool huh?
</code></pre>

<p>Demo: <a href="https://3v4l.org/XmUEZ" rel="nofollow">https://3v4l.org/XmUEZ</a></p>

<p>Basically this class stores a reference to the <code>$pet</code> variable in it's fields. As such, when the <code>$pet</code> variable is updated, the reference in the class is updated as well.</p>

<hr />

<p>Another one for good measure:</p>

<pre><code>function mysprintf($format, &amp;$variable)
{
    return function() use ($format, &amp;$variable) {
        return sprintf($format, $variable);
    };
}

$print = mysprintf('This is my little %s, cool huh?', $pet);

$pet = 'cat';
echo $print()."\n";

$pet = 'dog';
echo $print()."\n";

$pet = 'goldfish';
echo $print()."\n";
</code></pre>

<p><a href="https://3v4l.org/KJTKj" rel="nofollow">https://3v4l.org/KJTKj</a></p>

<p>(Ab)uses closures to save the reference. Probably even worse.</p>

<hr /> 

<p>Why is this a bad idea, you ask?</p>

<p>Consider solely this statement:</p>

<pre><code>$pet = 'goldfish';
</code></pre>

<p>This is a simple assignment. Most programmers assume that this statement has no side-effects. That means that this statement changes nothing in the execution flow besides creating a new variable.</p>

<p>Our <code>MyString</code> or <code>mysprintf</code> violate this assumption. <em>What should be a simple assignment, now has side-effects.</em> It violates a programmer's expectation in the worst way possible. </p>
