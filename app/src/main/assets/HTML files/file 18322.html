<p>The array is of <code>struct leak_data</code>s, not pointers to them. So your indexing code:</p>

<pre><code>g_array_index(leak_array,struct leak_data*, i)-&gt;sz
</code></pre>

<p>is wrong. This is a bit surprising, but GArray really models an array, not a pointer array. There's GPtrArray for that. :) So, the above should be</p>

<pre><code>g_array_index(leak_array, struct leak_data, i).sz
</code></pre>
