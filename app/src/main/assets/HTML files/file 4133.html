<p>There are two schools of thought on this.  </p>

<p>One is that any polygon with a negative dimension is nonsensical and should not be rendered - what do you mean it's -10 pixels wide??</p>

<p>The other is that a negative dimension simply inverts the polygon on that dimension's axis.</p>

<p>Most painting systems apply the latter logic.  My experience in painting with Java has always been this, though I would not often have had negative dimensions, so my experience might not count for much.</p>

<p>As to what you can do:</p>

<ol>
<li>You might need to have your friend update his Java version.</li>
<li>Otherwise you must perform the inversion yourself, by checking for a negative dimension and transposing your x,y origin in order to make the dimension positive.  That is, the rectangle [10,10,-5,5] is spatially equivalent to [5,10,5,5].  The negative dimension is added to the origin coordinate, and then made absolute.  Note, this can result in a negative origin, but hopefully the drawing system is not <em>quite</em> that messed up.</li>
</ol>

<p>Personally, I would prefer to require a newer JVM, if possible.</p>

<p>Otherwise my recommended code would be:</p>

<pre><code>public void fillRect(Graphics gc, int x, int y, int width, int height) {
    if(width &lt;0) { x+=width;  width =-width;  }
    if(height&lt;0) { x+=height; height=-height; }
    gc.fillRect(x,y,width,height);
    }
</code></pre>

<p>Also, note that you'll need similar for other drawing operations.</p>

<p>Lastly, I would be suspicious of another mistake in all this, since the behavior is very surprising - I would simplify everything down to a minimal test program, with debug output and verify before wrapping a crap load of painting primitives.</p>
