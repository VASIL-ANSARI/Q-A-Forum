<p>Your inner loop is trying to iterate through a string.  What you wanted was...</p>

<pre><code>foreach(TextBox tb in ctrl.Controls.OfType&lt;TextBox&gt;())
</code></pre>

<p>instead of</p>

<pre><code>foreach(TextBox tb in ctrl.ID)
</code></pre>
