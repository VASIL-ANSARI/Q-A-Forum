<p>The issue appears to be a problem with the Node.js HTTP client connection pool.</p>

<p>If you add the option <code>agent:false</code> to the <code>options</code> argument of the <a href="http://nodejs.org/docs/latest/api/http.html#http_http_request_options_callback" rel="nofollow"><code>http.request()</code> function</a> it will disable connection pooling and have each request use the header <code>Connection: close</code>.  This change seems to allow the client code to run indefinitely.</p>

<pre class="lang-javascript prettyprint-override"><code>var options = {agent:false, host:"localhost", port:1337, /*...*/ };
</code></pre>

<p>Doing this will degrade the performance of the HTTP clients and you should see frequent pauses in the client process (presumably while the V8 runtime does garbage collection).  But it does seem to solve your problem!</p>

<p>Per @joshp's comment, see if this issue has been addressed in a later version of Node.js or consider filing a bug report.</p>
