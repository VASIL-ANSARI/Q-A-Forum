<p>In mysql you can use <a href="http://dev.mysql.com/doc/refman/5.7/en/update.html" rel="nofollow">joins in update statements</a>. I would create a subquery that returns the lowest id (min()) for each name that appears multiple times. Since in mysql you cannot select from the same table that is being updated, therefore an extra layer of subselect is added on the top of the subselect:</p>

<pre><code>UPDATE db.product
INNER JOIN (SELECT * FROM 
(SELECT name, min(id) as minid
FROM db.product 
GROUP BY name 
HAVING count(*)&gt; 1) t2 ) t on t.name=db.product.name
SET db.product.id=t.minid;
</code></pre>
