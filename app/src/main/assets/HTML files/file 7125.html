<p>You should abstract the interface of the code using the FTP server. If you have this interface you can create a stubbed implementation of the FTP communication making your test code not dependent on a specific FTP server as well as improving performance of your tests.</p>

<p>Especially these kinds of dependencies should be abstracted from you normal code to prevent a tight coupling to something that is hard to mock (such as an FTP or Mail server).</p>

<p>I wouldn't want to use a tool like nDumpster but rather swap the implementation which is made possible by good design.</p>
