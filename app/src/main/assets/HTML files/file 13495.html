<p>You need to refer to the global <code>$db</code> variable first and then use it in a statement. You also have a minor syntax error in your constructor. You forgot to use the <code>$this</code> keyword when referring your your <code>$db</code> property.</p>

<pre><code>function __construct(){
    global $db
    $this-&gt;db = $db;
}
</code></pre>

<p>It also is a better practice not to use global variables and instead pass any variables that you need as parameters to your method call. In this case it is your constructor:</p>

<pre><code>function __construct($db){
    $this-&gt;db = $db;
}

$list_of_record = ListofRecord($db);
</code></pre>
