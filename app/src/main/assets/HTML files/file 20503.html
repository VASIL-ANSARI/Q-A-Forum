<p>There might be an issue with asynchronous order of things:</p>

<p>eg. the <code>setTimeout</code> is popped before the <code>click</code> handler is set, or maybe after the <code>click</code> handler is set but before the <code>jcrop_api</code> is set. Note that just because one line is below the other doesn't mean it is executed later - because you don't control when the callback that initializes <code>jcrop_api</code> is called. </p>

<p>Adding <code>console.log</code> lines may be useful to debug this problem and see if the code is executed in the order you plan.</p>

<p>To fix the order of things you can set up the click handler only after you initialize the jcrop_api, and set the timeout only after the click handler is set up (maybe you don't need a timeout at all then).</p>
