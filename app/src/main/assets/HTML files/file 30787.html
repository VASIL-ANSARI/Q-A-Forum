<p>Decide whether to expand the menu or not after you've calculated whether it would overlap any other elements. (Expanding first and then checking if you need to collapse it again would be an ugly solution)</p>

<p>Check for potential overlapping by calculating where the menu would be positioned on expansion, and compare that position to the elements which it could overlap.
You should be able to figure out the expanded size if you know the number of menu items and the size of each menu item. Use the top, bottom, left and right properties together with the height and width to figure out the position.
Compare the calculated position of the positions of the elements that risk being overlapped.</p>

<p>Here's some example code for calculating overlap (not written by me): <a href="http://jsfiddle.net/98sAG/" rel="nofollow">http://jsfiddle.net/98sAG/</a></p>

<pre><code>function getPositions( elem ) {
    var pos, width, height;
    pos = $( elem ).position();
    width = $( elem ).width();
    height = $( elem ).height();
    return [ [ pos.left, pos.left + width ], [ pos.top, pos.top + height ] ];
}
function comparePositions( p1, p2 ) {
    var r1, r2;
    r1 = p1[0] &lt; p2[0] ? p1 : p2;
    r2 = p1[0] &lt; p2[0] ? p2 : p1;
    return r1[1] &gt; r2[0] || r1[0] === r2[0];
}
</code></pre>
