<p>As a temporal solution, I found <a href="https://github.com/rkj/ya2yaml" rel="nofollow">ya2yaml</a>. This has some problems, though.</p>

<ol>
<li>It does not have the ability to read. It is only for writing.</li>
<li>It does not fully output unpopular Ruby classes with <code>!ruby/class ...</code> notation. In yaml gem, this notation is fully used so that a Ruby class is preserved in a ruby-yaml-ruby round trip.</li>
<li>It uses the <code>!ruby/symbol ...</code> notation for symbols, which looks lengthy compared to the <code>:...</code> notation used in yaml gem.</li>
<li>It uses the <code>? ... \n:</code> yaml syntax for a hash key, which looks lengthy compared to the more compact hash notation with yaml gem.</li>
</ol>

<p>Problem 2 is not a big deal for me so far, so I am using the combination of yaml and ya2yaml gems in the following way to overcome problems 1, 3, 4:</p>

<pre><code>require "yaml" # For reading.
require "ya2yaml" # For writing.

class Object
  def to_yaml # Method for writing in yaml
    ya2yaml.
    # Put hash key on a single line if it is a symbol
    gsub(/^(\s*)\? !ruby\/symbol (\S+)\s+/, '\1:\2').
    # Use symbol literal
    gsub(/(?&lt;=\s)!ruby\/symbol /, ':')
  end
end
</code></pre>
