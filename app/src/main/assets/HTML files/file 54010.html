<p>This creates a string:</p>

<pre><code>$photo = rand()."_".time().".".$pixExt;
</code></pre>

<p>This gets one character from that string:</p>

<pre><code>$photo[$i]
</code></pre>

<p>Which you're storing in your database:</p>

<pre><code>$stmt = $connKcla-&gt;prepare("INSERT INTO gimage (imImage, albumRef) VALUES ($photo[$i], $albumRef)");
</code></pre>

<p>If you want to store the whole string, just use the string itself and not the index of a specific character:</p>

<pre><code>$stmt = $connKcla-&gt;prepare("INSERT INTO gimage (imImage, albumRef) VALUES ($photo, $albumRef)");
                                                                            //^-- here
</code></pre>

<hr />

<p>Additionally, you should probably start looking into using query parameters and prepared statements.  While this code may <em>coincidentally</em> not currently be open to SQL injection if none of the input is from users, it's still difficult to <em>guarantee</em> that.  And not being open to SQL injection is a good habit to get into in general.</p>
