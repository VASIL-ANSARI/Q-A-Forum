<p>The problem was that for whatever reason phonegap 3.0 gets a little glitchy and does not seem to want to add new plugins to the android.json file in the app/plugins folder and then does not include the plugins in the app/platforms/android/assets/www/plugins folder when it builds and then also does not add some of the plugins files to app/platforms/android/src/org/apache/cordova/{plugin folder name} folder. in this case "mediacapture".</p>

<p>I had tried adding plugin files manually to app/platforms/android/assets/www/plugins but without the plugin being properly added to app/plugins/android.json. It just deletes them and does not use them next time you build.</p>

<p>Unless your are an expert, android.json really needs to be done by phonegap.</p>

<p>So what I had to do was, backup my app/platforms/android/src/org/apache/cordova/ folder
And also app/platforms/android/assets/www/plugins folder.</p>

<p>Then I moved my project folder in it's entirety off to another location as a firm backup and pulled my project source down from git hub and rebuilt the entire project like so.. Also I must give credit to Adam Wade Harris, you will find him on here, also with phonegap questions and answers and he gave me part of this script. </p>

<p>Put in your real project and reverse domain here and app name</p>

<pre><code>phonegap create {newAppFolderName} com.somedomain.prefix AppShortName
cd newAppFolderName
phonegap build android
</code></pre>

<p>setup git with a fake branch</p>

<pre><code>git init
</code></pre>

<p>put in your real project repo here</p>

<pre><code>git remote add origin git@bitbucket.org:someorganization/yourrepo.git
git fetch origin
git checkout -b nothingBranch
git add .
git commit -m "nothing"
</code></pre>

<p>Checkout your real branch here</p>

<pre><code>git checkout -b master origin/master
git branch --set-upstream-to=origin/master master
</code></pre>

<p>create the platforms folder in your project</p>

<pre><code>mkdir /path/to/newAppFolderName/platforms/
</code></pre>

<p>Do this for each plugin you might have like so</p>

<pre><code>phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-device.git
phonegap local plugin add https://git-wip-us.apache.org/repos/asf/cordova-plugin-network-information.git

phonegap build android
</code></pre>

<p>This may not work for everyone, make sure you keep your original project off somewhere and hope for the best, copy any plugin files that ended up being missing, even with a clean rebuild, phonegap seemed to leave out several folders and I had to put them in place again manually.</p>
