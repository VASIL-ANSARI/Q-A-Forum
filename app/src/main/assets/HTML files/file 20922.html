<p>The query probably failed for some reason. That means <code>$sql</code> is a boolean FALSE. You try to pass that <code>FALSE</code> to <code>mysql_num_rows()</code>, which also fails, since it expects to get a result handle. That means mysql_num_rows() also returns a boolean <code>FALSE</code>. In PHP, <code>false == 0</code> is <code>TRUE</code>, so you execute your insert statement.</p>

<p><strong>NEVER</strong> assume a query has succeeded. <strong>ALWAYS</strong> check for failure. That means, as a bare minimum, you have:</p>

<pre><code>$result = mysql_query(...) or die(mysql_error());
                          ^^^^^^^^^^^^^^^^^^^^^^
</code></pre>
