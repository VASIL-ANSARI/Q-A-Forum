<blockquote>
  <p>is there any reason this isn't used everywhere?</p>
</blockquote>

<p>Yes, C++ is not Python, and if I understood your code correctly, this does exactly the same:</p>

<pre><code>{
  FileClass file("test.txt");
  printf("%s\n", file.readlines().c_str());
}
</code></pre>

<p>So, what are the downsides? Unnatural syntax, usage of the preprocessor for code obfuscation, achieving the same thing as above with much more boilerplate code, and unidiomatic use of C++. Enough?</p>

<p>C++ has the <em>very</em> important concept of <em>value types</em> and scope-based deterministic destruction of stack variables. This leads to <em>very</em> important idioms like SBRM (scope-bound resource management, also called RAII).</p>
