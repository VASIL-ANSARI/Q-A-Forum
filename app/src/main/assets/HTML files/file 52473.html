<p>for the Heroku add-on the environment variable is called <code>SPARKPOST_API_KEY</code> and that is what gets used by default. Assuming you're running this locally, the problem in the first example is that you probably don't have <code>SPARKPOST_API_KEY</code> in your environment. When you run <code>heroku local</code> it will load up variables in a file called <code>.env</code> in your project's root. You'll want to add that by doing something like this:</p>

<p><code>heroku config:get SPARKPOST_API_KEY -s &gt;&gt; .env</code></p>

<p>Your second example is exactly what the python-sparkpost library does under the hood, but the name of the var is <code>SPARKPOST_API_KEY</code>.</p>

<p>You can see a list of all the env vars available for the SparkPost add-on here: <a href="https://devcenter.heroku.com/articles/sparkpost#provisioning-the-add-on" rel="nofollow">https://devcenter.heroku.com/articles/sparkpost#provisioning-the-add-on</a>. You can also run <code>heroku config</code> to see all of your env vars from the command-line.</p>
