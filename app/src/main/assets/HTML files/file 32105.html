<p><strong>Tying a non-web artifact to the web layer is a Bad Idea.</strong></p>

<p>Your report shouldn't know about the servlet context at all.</p>

<p>Mock <code>EnvironmentWrapper#getServletContext()</code> to return something usable and/or mock <code>ServletContext</code> to provide what you need.</p>
