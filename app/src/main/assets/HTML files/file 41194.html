<p>Here is an example of using <code>readdir_r()</code> ... you should be able to figure out the others
based upon this example:</p>

<pre><code>#include &lt;sys/types.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;dirent.h&gt;
#include &lt;string.h&gt;

int main(int argc, char *argv[])
{

    DIR *mydir;
    struct dirent myfile;
    struct dirent *result;

    int rc;

    if (argc != 2) {
        perror("must supply a directory");
        return -1;
    }

    mydir = opendir(argv[1]);
    if (mydir == NULL) {
        perror("Cannot find directory");
        return -1;
    }

    while ((rc = readdir_r(mydir, &amp;myfile, &amp;result)) == 0 &amp;&amp; result != NULL ) {
        printf("myfile.entryName: --&gt;%s&lt;--  result-&gt;d_name: --&gt;%s&lt;--\n",
              myfile.d_name,
              result-&gt;d_name);
    }

    closedir(mydir);

}
</code></pre>
