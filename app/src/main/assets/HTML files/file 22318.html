<p>Your problem is not the <code>\W</code>, it's the <code>*</code>. The <code>*</code> is greedy and will match the longest string possible. So it matches the first <code>[</code> with the last <code>]</code> and takes everything in between.</p>

<p>Try this:</p>

<pre><code>\#\[([\w\s\W]*?)\]
</code></pre>

<p>In fact, you should be able to simplify it to just:</p>

<pre><code>\#\[(.*?)\]
</code></pre>

<p>The <code>?</code> after a qualifier (<code>*</code> or <code>+</code>) will force <em>minimal</em> matches. I.e. non-greedy.</p>
