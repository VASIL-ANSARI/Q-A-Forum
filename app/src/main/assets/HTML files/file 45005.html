<p>Detecting edges in images is actually quite simple.  The most standard way is to use an <a href="http://en.wikipedia.org/wiki/Kernel_%28image_processing%29#Convolution" rel="nofollow">image convolution</a> operation and choosing the right kernel to sweep over your image.  There is a function in <code>php.gd</code> called <a href="http://php.net/manual/en/function.imageconvolution.php" rel="nofollow"><code>imageconvolution</code></a> where you can specify an input image, a convolution kernel, a divisor and an offset.  The divisor simply divides all values in the kernel by this value and the offset adds a value to each value in the kernel.  As such, assuming that your image is loaded into the array <code>$im</code>, you would do this:</p>

<pre><code>$edgeMatrix = array(-1,-1,-1,-1,8,-1,-1,-1,-1);
$divisor = 0;
$offset = 0;

imageconvolution($im, $edgeMatrix, $divisor, $offset);
</code></pre>

<p>Note that <code>imageconvolution</code> mutates the original input image, so <code>$im</code> will contain the edge detected result.  Make sure that you have a copy of the original image somewhere in case you need it.</p>

<p><code>$edgeMatrix = array(-1,-1,-1,-1,8,-1,-1,-1,-1);</code> is the standard <a href="http://homepages.inf.ed.ac.uk/rbf/HIPR2/log.htm" rel="nofollow">Laplacian convolution matrix</a> and is used quite often for edge detection tasks. </p>

<p>However, there is a function called <a href="http://php.net/manual/en/function.imagefilter.php" rel="nofollow"><code>imagefilter</code></a> where there is an edge detect flag - <code>IMG_FILTER_EDGEDETECT</code>.  This function filters an image given one of several options, and edge detection is one of these options.  As such, you would do this:</p>

<pre><code>imagefilter($im, IMG_FILTER_EDGEDETECT);
</code></pre>

<p>As with <code>imageconvolution</code>, <code>imagefilter</code> also mutates the input image, so again make sure that you keep the original image somewhere if you need it.</p>

<p>Hopefully one of these will work for you!</p>
