<p>Your attempt for binary output of array data looks ok so far. However, you need to also write the array dimensions (rows, columns) before the data. Then, assuming these numbers are written e.g. as <code>uint64_t</code> in C++, you can read the file in matlab as follows:</p>

<pre><code>function matrix = load_2d(filename, data_type)

    fid = fopen(filename, 'rb');
    rows = fread(fid, 1, 'uint64');
    cols = fread(fid, 1, 'uint64');
    matrix = fread(fid, [rows cols], data_type);
    fclose(fid);

end
</code></pre>

<p>where <code>data_type</code> is a string representation of the <a href="http://www.mathworks.com/help/matlab/numeric-types.html" rel="nofollow">matlab data type</a> corresponding to your data type in C++.</p>

<p>Since your represent your matrix by a <code>vector</code> of <code>vectors</code> (with each inner <code>vector</code> holding a column), this will only work if all inner vectors are of the same size. Otherwise you'd need to write the size (rows) of each column individually and adjust <code>load_2d</code> accordingly. But if the target is a single 2d matrix, you'd have to truncate somehow.</p>

<p>Similarly, to save back:</p>

<pre><code>function save_2d(filename, matrix, data_type)

    fid = fopen(filename, 'wb');
    [rows, cols] = size(matrix);
    fwrite(fid, rows, 'uint64');
    fwrite(fid, cols, 'uint64');
    fwrite(fid, matrix, data_type);
    fclose(fid);

end
</code></pre>

<p>I haven't tested though.</p>
