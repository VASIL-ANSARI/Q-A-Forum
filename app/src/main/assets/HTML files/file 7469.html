<p>The way I approached this was that the protected folder they think they access is NOT the actual protected folder, what happens is you interface with it only via PHP, and if they have logged in (which you can do a fake .htaccess by sending the appropriate web authetification codes see <a href="http://php.net/manual/en/features.http-auth.php" rel="nofollow">http://php.net/manual/en/features.http-auth.php</a>)</p>

<p>From there, if they "log in" you can tell, and they can be shown the codes, if not, you can say "You arent logged in, if you wish to access this area, you will need to login".</p>

<p>its simple but effective.</p>

<p>do remember of course, that sensible people know if you do <a href="http://user:password@site.com/files" rel="nofollow">http://user:password@site.com/files</a> it auto sends web auth info.</p>
