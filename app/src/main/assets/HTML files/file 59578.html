<p>Try this:</p>

<pre><code>var handler=function(thi) {
  $("iframe[id]").each(function() {
      var identifier = thi.id;
      var frameID = getFrame(identifier);
      if (frameID) { //If the frame exists
          players[frameID] = new YT.Player(, {
              events: {
                  'onStateChange': onPlayerStateChange
              }
          });
      } 
};
YT_ready(function(){handler(this)});
slide('code', function(){handler(this)});
</code></pre>

<p>I had to add some wrapping to get the correct value of <strong>this</strong> into the handler.</p>
