<p>There is a confusion with the var filename and file. ;)</p>

<pre><code>function log(msg){
     console.log(msg)
}

function createImage(file, parent){
    var str = file; // unused
    var filename = ("photos/"+file+".jpg"); // filename was undefined here.
    var image = new Image();
    image.src = file;
    image.style.width = "50px";
    image.style.height = "auto";

    image.onload = function(){
        log('good ' + file );   
        parent.appendChild(image); //adds the image to the page!
    }

    image.onerror = function(){
        log('not able to load ' + filename );   
        //parent.appendChild(image);
    }
}
</code></pre>
