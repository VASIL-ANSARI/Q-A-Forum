<p>You can do something like this:</p>

<pre><code>namespace debug
{
    void report(std::string message); // ToDo - define this somewhere
}

namespace release
{
    template &lt;class Y&gt;    
    void report(Y&amp;&amp;){} // Intentionally do nothing
}

#if defined(DEBUGEXECUTABLE)
    namespace foo = debug;  // set foo to the debug namespace
#else
    namespace foo = release; // set foo to the release namespace
#endif
</code></pre>

<p>Then use <code>foo::report</code> in your code. I like this since it minimises the use of preprocessor macros and keeps any compiler errors broadly similar across the debug and release configurations.</p>

<p>Passing a <em>r-value reference</em> in the release mode will allow the compiler to optimise out any anonymous temporaries. For the debug family of functions, you ought to pass strings by constant reference though to avoid any possiblity of a value copy being taken: <code>void report(const std::string&amp; message);</code></p>
