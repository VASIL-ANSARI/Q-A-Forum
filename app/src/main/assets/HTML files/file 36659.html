<p>You can do this using <code>group by</code> and a <code>having</code> clause.  I like this approach for this type of query ("set-within-sets" queries) because it is quite general.  Here is the general idea:</p>

<pre><code>select ps.products_id
from product_styles ps
group by ps.products_id
having sum(attribute_id = 1 and attribute_options_id = 1) &gt; 0 and
       sum(attributes_id = 2 and attribute_options_id = 2) &gt; 0;
</code></pre>

<p>Each condition in the <code>having</code> clause looks for a match for one of the attributes.  It does this by counting the number of rows where the conditions are met.  The <code>&gt; 0</code> requires that the rows be present.</p>

<p>If you wanted the first, but not the second condition, you could just change the clause to:</p>

<pre><code>select ps.products_id
from product_styles ps
group by ps.products_id
having sum(attribute_id = 1 and attribute_options_id = 1) &gt; 0 and
       sum(attributes_id = 2 and attribute_options_id = 2) = 0;
</code></pre>
