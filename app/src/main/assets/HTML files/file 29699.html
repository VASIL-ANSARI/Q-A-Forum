<p>Your regular expressions don't look for empty lines, but for spaces.</p>

<pre><code>$('#area').on("keyup change focus", function() {
    if( this.value.substr(0,this.selectionStart).match(/(?:^|\n|\r)\s*$/)
     &amp;&amp; this.value.substr(this.selectionStart).match(/^\s*(?:\n|\r|$)/)) {
        console.log("empty");
    } else {
        console.log("has stuff");
    }
});
</code></pre>

<p><a href="http://jsfiddle.net/jZN5w/6/" rel="nofollow">http://jsfiddle.net/jZN5w/6/</a></p>
