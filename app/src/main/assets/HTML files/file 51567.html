<h2>Set version to <code>0.0.0</code></h2>

<p>I don't know how to edit the <em>.target</em> file with the <em>Target Editor</em> to achieve this, but you can enter a version number of <code>0.0.0</code> in the target file by editing in XML or Text Editor, like this:</p>

<pre class="lang-xml prettyprint-override"><code>&lt;location includeMode="planner" includeAllPlatforms="false" includeSource="true" includeConfigurePhase="false" type="InstallableUnit"&gt;
  &lt;unit id="com.example.feature.group" version="0.0.0"/&gt;
  &lt;repository id="my_repo" location="http://my/repo/path"/&gt;
&lt;/location&gt;
</code></pre>

<p>By specifying a version number of <code>0.0.0</code> in the target file you should pick up the latest version of the unit from the p2 repository. </p>

<p>That said, there are serious disadvantages of using this <em>lazy</em> (more about name below) way of specifying versions. It makes it very difficult to go back and rebuild older versions of your project because the older version will pull in the latest version of the dependency from the p2 repository instead of the correct version. </p>

<h2>Use Target Platform Definition DSL and Generator</h2>

<p>Instead of editing with the target editor, use the excellent <a href="https://github.com/mbarbero/fr.obeo.releng.targetplatform/" rel="nofollow">"Target Platform Definition DSL and Generator"</a> instead. It allows you to edit the target files more sensibly. In the above case, you can use the <code>lazy</code> version keyword to specify you want <code>0.0.0</code> as the version number. It would look like this:</p>

<pre><code>location "http://my/repo/path" my_repo {
    com.example.feature.group lazy
}
</code></pre>

<h2>Best of Both Worlds</h2>

<p>The generator can be invoked at the <a href="https://github.com/mbarbero/fr.obeo.releng.targetplatform/#call-the-generator-from-the-command-line" rel="nofollow">command line</a> (e.g. from pom.xml), this should allow you to leave off the version number in the <em>.tpd</em> file. With no version number in the <em>.tpd</em> file, the generated <em>.target</em> file will have the resolved version number to the latest version. If you preserve the generated <em>.target</em> file as part of your build artefacts, you will be able to rebuild older versions of your software against the correct dependencies.</p>
