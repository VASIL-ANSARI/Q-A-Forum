<p>There is no way to initialize a map with a default value in Java, and your second version will not create a map with a default value of infinity, but instead will try to create an infinitely large map.  (Not really, but it'll try creating the largest map possible.)</p>

<p>Instead, modify the algorithm: anytime you do <code>map.get(key)</code>, check if the value is null and, if so, replace it with infinity.</p>
