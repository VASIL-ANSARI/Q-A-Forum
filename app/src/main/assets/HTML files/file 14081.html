<p>Seems like it'd be useful to find a way to perform set operations, particularly intersection, on these sets without having to generate the actual sets. If you could do that, the intersection of all these sets in the test should leave you with just one number. Leaving the <code>a</code> and <code>b</code> part aside, it's easy to see how you'd take the intersection of two sets that include all integers between S and F: the intersection is just the set with S=max(S1, S2) and F=min(F1, F2).</p>

<p>That gives you a starting point; now you have to figure out how to create the intersection of two sets consider <code>a</code> and <code>b</code>.</p>
