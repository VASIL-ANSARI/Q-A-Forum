<p>MagicalRecord may not be the best tool for this job for you...</p>

<p>First, let's correct your usage of the setupCoreDataStackWithStoreNamed: method. The parameter takes an NSString, not a URL, nor a file path. MagicalRecord will pick the proper path for you and create your store there. your resulting sqlite file is likely to be named with the path you intended it to be.</p>

<p>Next thing, you'll need to dynamically create your CoreData model for this file. This is kind of tough, but possible. You'll need to traverse these plist files, and interpret entities, attributes and relationships, and create corresponding NSEntityDescriptions, NSAttributeDescriptions and NSRelationshipDesctiptions and populate an NSManagedObjectModel "manually". Youll want to look for the method</p>

<pre><code>- [NSManagedObjectModel setEntities:(NSArray *)]
</code></pre>

<p>as well as the creation methods for NSEntityDescription, NSAttributeDescription and NSRelationshipDescription.</p>

<p>You'll also want to save this model somewhere so you don't have to recreate it every time. Luckily, it conforms to NSCoding, so you should just be able to save it to disk.</p>

<p>After that, you'll probably want to populate your data. From here, MagicalRecord can help you. I suggest looking at the <a href="http://www.cimgf.com/2012/05/29/importing-data-made-easy/" rel="nofollow">Importing Data Made Easy</a> blog post I wrote for <a href="http://www.cimgf.com" rel="nofollow">Cocoa is My Girlfriend</a></p>

<p>If you want to "switch stores", which I guess means you want to create a new store for each plist file you've got, then you're going to have to tear down the entire Core Data stack for each file. If you manage to use MagicalRecord for this project, you'll need to look at [MagicalRecord cleanUp], and start over. If each model was the same, you could get by with releasing your Persistent Store Coordinator, and creating a new one to your store. But since your "schemas" will probably be different, you'll just want to scratch everything and start over.</p>
