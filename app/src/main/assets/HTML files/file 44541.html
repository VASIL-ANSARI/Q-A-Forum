<blockquote>
  <p>comparing float variable and float constant followed by 'f' is ok?</p>
</blockquote>

<p>It's still dangerous.  Unlike your <code>float</code>/<code>double</code> example which may well fail for every possible value of <code>a</code>, there is actually one value of <code>a</code> for which <code>a == 4.12f</code> will be <code>true</code>, but depending on how you set <code>a</code> it may not match <code>4.12f</code> even when you expect it to.  For example:</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;iomanip&gt;

int main()
{
    float f = 4.14;
    f -= 0.01;
    f -= 0.01;
    std::cout &lt;&lt; std::boolalpha &lt;&lt; (f == 4.12f) &lt;&lt; '\n';
}
</code></pre>

<p>On <a href="http://ideone.com/mN7ahF" rel="nofollow">ideone.com here</a> this outputs:</p>

<pre><code>false
</code></pre>

<p>The Standard does guarantee that the closest representation will be used in certain circumstances, so if you directly assign <code>float a = 4.12f;</code> then afterwards <code>a == 4.12f</code> will necessarily be <code>true</code>, and รยง 26.5.1.4 guarantees that if you stream out <code>a</code> and stream the text back in to another <code>float</code> they will compare equals afterwards.</p>

<p>Anyway, if you feel you must depend on something like this, check the Standard/docs for the specific usage you're contemplating.</p>
