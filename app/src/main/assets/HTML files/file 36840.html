<p>Why do you think <code>select</code> is returning that error?  You need to check <code>select</code>'s return code to see if there was an error.  More information is here:</p>

<p><a href="http://man7.org/linux/man-pages/man2/select.2.html" rel="nofollow">http://man7.org/linux/man-pages/man2/select.2.html</a></p>

<p>If you don't check the return code then you don't know if there was an error, and the error printed by perror could be some random thing from a previous function call.</p>
