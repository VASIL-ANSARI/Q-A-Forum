<p>Three problems:</p>

<ul>
<li>You don't want the <em>direct</em> children of <code>doc</code>, you want the descendants.</li>
<li>You're using <code>x["_name"].Value&lt;string&gt;()</code> even if there <em>is</em> no <code>_name</code> property</li>
<li>You're using <code>x["_name"].Value&lt;string&gt;()</code> even on non-object children</li>
</ul>

<p>These are all easily fixed though:</p>

<pre><code>var doc = (JContainer) o["doc"];
var results = doc.Descendants()
                 .OfType&lt;JObject&gt;()
                 .Where(x =&gt; x["_name"] != null &amp;&amp;
                             x["_name"].Value&lt;string&gt;() == "foo");
</code></pre>
