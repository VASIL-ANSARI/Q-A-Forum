<p>Problem is that</p>

<pre><code> FILE *text;
 text=fopen("output.txt","w");
 fprintf(text,"Name:%s\nNumber:%d\n",a[i].name,a[i].num);
 fclose(text);
</code></pre>

<p>should be inside the loop, and it's outside it. What's happening is that it uses the last value for i (n) and is essentially printing from random memory locations....</p>
