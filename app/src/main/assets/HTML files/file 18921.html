<blockquote>
  <p>If I try to set the layout params for the relativeLayout then nothing
  appears and get no errors. If I don't then everything appears but with
  the layout being set to wrapcontent.</p>
</blockquote>

<p>You use the wrong <code>LayoutParams</code> for the <code>RelativeLayout</code>. You use:</p>

<pre><code>RelativeLayout.LayoutParams rlp = new RelativeLayout.LayoutParams(
                        RelativeLayout.LayoutParams.WRAP_CONTENT,
                        RelativeLayout.LayoutParams.WRAP_CONTENT);   
row.addView(relativeLayout, rlp);
</code></pre>

<p>but as the parent of that <code>RelativeLayout</code> is a <code>TableRow</code> you must use <code>TableRow.LayoutParams</code>:</p>

<pre><code>TableRow.LayoutParams rlp = new TableRow.LayoutParams(
                        TableRow.LayoutParams.FILL_PARENT,
                        TableRow.LayoutParams.WRAP_CONTENT);   
row.addView(relativeLayout, rlp);
</code></pre>
