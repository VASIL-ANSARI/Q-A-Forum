<p>All is correct , can you verify that in your web.xml you have the ressources declared : </p>

<pre><code>&lt;resource-ref&gt;
   &lt;res-ref-name&gt;ConnectionFactory&lt;/res-ref-name&gt;
   &lt;res-type&gt;javax.jms.QueueConnectionFactory&lt;/res-type&gt;
   &lt;res-auth&gt;Container&lt;/res-auth&gt;
   &lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;
&lt;/resource-ref&gt;
&lt;resource-ref&gt;
   &lt;res-ref-name&gt;queue/MyQueue&lt;/res-ref-name&gt;
   &lt;res-type&gt;javax.jms.Queue&lt;/res-type&gt;
   &lt;res-auth&gt;Container&lt;/res-auth&gt;
   &lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;
&lt;/resource-ref&gt;
</code></pre>
