<p>That looks OK as a basic structure (except that you have an <code>i++</code> where you mean <code>j++</code>).  You just need to access <code>h</code>, <code>w</code> and <code>m</code> as members of <code>mx</code>:</p>

<pre><code>for(i = 0; i &lt; mx-&gt;h; i++)
{
    for(j = 0; j &lt; mx-&gt;w; j++)
    {
        mx-&gt;m[i][j] *= s;
    }
}
</code></pre>

<p>Your create routine really needs to set the every entry in the matrix to <code>0.0</code>, though - memory returned by <code>malloc</code> could have any random junk in it.</p>
