<p>The <code>let</code> statement block is only called when the variable is referenced. Since it isn't referenced in your second example, it isn't called. You should be able to just a add something like</p>

<pre><code>x = menu
</code></pre>

<p>at the top of that example to get that <code>let</code> block called.</p>

<p>It's probably an anti-pattern to use a <code>let</code> statement for its side effects, due to confusions like this one.</p>
