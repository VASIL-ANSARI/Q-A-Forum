<p>strlen does not give the size of the array.</p>

<p>This will not enlarge the memory:</p>

<pre><code>bin = realloc(bin, strlen(bin)*sizeof(char)+1);    //0+1 == 1
</code></pre>

<p>And then calling strlen on that memory will produce undefined behavior since the result<br> <code>strlen(bin) - 1</code> will be negative:</p>

<pre><code> bin[strlen(bin) - 1] = (k % 2) + '0';    //bin[0-1]
</code></pre>

<p>In you case you should use an extra variable that keeps the size of the allocated memory.</p>
