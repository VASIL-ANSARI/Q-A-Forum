<p>If you want to accept whitespace, \s* has to go between the <code>^...$</code>-anchors:</p>

<pre><code>valid = this.optional(element) || /^\s* (snipped) \s*$/.test(value);
</code></pre>

<p>Alternatively you can just trim() the string before testing.</p>

<pre><code>valid = this.optional(element) || /^ (snipped) $/.test(value.trim());
</code></pre>
