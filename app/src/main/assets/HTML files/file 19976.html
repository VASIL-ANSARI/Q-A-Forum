<p>You wrote:</p>

<blockquote>
  <p>If I program the alarm manager from A and finish this activity pressing
  the back button, in 3 seconds the B activity appears. All normal. </p>
</blockquote>

<p><strong>Note:</strong> You now have 1 running task which has ActivityB as its root activity.</p>

<blockquote>
  <p>The problem is the following: if I re-open the application by the
  launcher, the system starts A activity,</p>
</blockquote>

<p><strong>Note:</strong> When you launch the application from the launcher, this starts another task with ActivityA as its root activity. Now you have 2 running tasks: one with ActivityA as root and one with ActivityB</p>

<blockquote>
  <p>...but if I start the application
  by long pressing the home button (recently used tasks) I always open
  the B activity. </p>
</blockquote>

<p><strong>Note:</strong> When long-pressing the HOME button and choosing from recently used tasks, you are choosing the task that was started by AlarmReciver which has ActivityB as its root</p>

<blockquote>
  <p>I need that when I finish B activity , if I reopen the
  application from anywhere, the A activity should open.</p>
</blockquote>

<p>You should be able to get the behaviour you want by setting the following in the <code>&lt;activity&gt;</code> tag for ActivityB:</p>

<pre><code>android:excludeFromRecents="true"
</code></pre>

<p>This will ensure that, when you start a task with ActivityB as its root activity, the task will <strong>not</strong> be shown in the list of recent tasks. In this way, the only way to launch the application will be either from the HOME screen, or by selecting it from the list of recent tasks (which will hold <strong>only</strong> tasks that were started with ActivityA as the root).</p>
