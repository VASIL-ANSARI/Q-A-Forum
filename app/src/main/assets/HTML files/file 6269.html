<p>The message you're getting is a clear indication that you lack something for the correct installation of that gem:</p>

<blockquote>
  <p>Could not create Makefile due to some reason, probably lack of
  necessary libraries and/or headers.  Check the mkmf.log file for more
  details.  You may need configuration options.</p>
</blockquote>

<p>There is no Windows native version of latest release of pg (0.10.0) released yesterday, but if you install 0.9.0 it should install binaries without issues.</p>

<p>Anyhow, if you want to install the gem, you need a build environment installed. If you're using RubyInstaller, then you need the <a href="http://github.com/oneclick/rubyinstaller/wiki/Development-Kit">DevKit</a></p>

<p>Installation of the gem will only require you provide additional options to gem installation (like <code>--with-pg-dir</code>)</p>

<pre><code>subst X: "C:\Program Files (x86)\PostgreSQL\8.3"
gem install pg -- --with-pg-dir=X:
subst X: /D
</code></pre>
