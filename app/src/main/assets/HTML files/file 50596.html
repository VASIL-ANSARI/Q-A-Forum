<p>Try this </p>

<p><strong>In Controller</strong></p>

<pre><code>function add_student()
{
    $this-&gt;load-&gt;helper('url');
    $this-&gt;load-&gt;model('insert_data');
    $this-&gt;load-&gt;library('form_validation');

    $this-&gt;form_validation-&gt;set_error_delimiters('&lt;div class="error"&gt;', '&lt;/div&gt;');
    $this-&gt;form_validation-&gt;set_rules('fname', 'Student Firstname', 'required|min_length[2]|max_length[35]');
    $this-&gt;form_validation-&gt;set_rules('mname', 'Student Middlename', 'required|min_length[2]|max_length[35]');
    $this-&gt;form_validation-&gt;set_rules('lname', 'Student Lastname', 'required|min_length[2]|max_length[35]');
    $this-&gt;form_validation-&gt;set_rules('gender', 'Choose The Gender', 'required|min_length[2]|max_length[35]');
    $this-&gt;form_validation-&gt;set_rules('datepicker', 'Please pick a DOB', 'required|min_length[5]|max_length[15]');
    $this-&gt;form_validation-&gt;set_rules('marital', 'Please Enter Marital Status', 'required|min_length[5]|max_length[15]');
    $this-&gt;form_validation-&gt;set_rules('pob', 'Please Enter POB Residence', 'required|min_length[5]|max_length[15]');
    $this-&gt;form_validation-&gt;set_rules('pobdistrict', 'Please Enter The POB District', 'required|min_length[2]|max_length[15]');
    $this-&gt;form_validation-&gt;set_rules('pobregion', 'Please Enter The POB Region', 'required|min_length[5]|max_length[15]');
    $this-&gt;form_validation-&gt;set_rules('residence', 'Please Enter The Residence', 'required|min_length[5]|max_length[15]');
    $this-&gt;form_validation-&gt;set_rules('region', 'Please Enter The Region', 'required|min_length[5]|max_length[15]');
    $this-&gt;form_validation-&gt;set_rules('district', 'Please Enter The District', 'required|min_length[5]|max_length[15]');
    $this-&gt;form_validation-&gt;set_rules('education', 'Please Enter The Education Level', 'required|min_length[5]|max_length[30]');
    $this-&gt;form_validation-&gt;set_rules('phone', 'Please Enter The Education Level', 'required|min_length[5]|max_length[15]');


    $fulpath ='../images/student_profile/';

    $config['upload_path'] = $fulpath;
    $config['allowed_types'] = 'gif|jpg|png|jpeg';
    $config['max_size'] = "2048000"; // Can be set to particular file size , here it is 2 MB(2048 Kb)
    $config['x_axis'] = "768";
    $config['y_axis'] ="1024";

    $this-&gt;load-&gt;library('image_lib', $config);

    $this-&gt;image_lib-&gt;initialize($config);
    $this-&gt;image_lib-&gt;resize();
    $this-&gt;image_lib-&gt;crop();

    if($this-&gt;form_validation-&gt;run() == FALSE){

        echo "Form validation false";
       /*$this-&gt;load-&gt;model('fetch_data');
       $data['schoolname'] = $this-&gt;fetch_data-&gt;school_data();
       $data['partnername'] = $this-&gt;fetch_data-&gt;partner_data();
       $data['main_content'] = '/student/addstudent';
       $this-&gt;load-&gt;view('includes/template',$data);*/

    } 
    else {

        $this-&gt;load-&gt;library('upload', $config);

        if(!$this-&gt;upload-&gt;do_upload())
        {
            echo '&lt;h4 style="color: red;"&gt;
                Failure! &lt;/h4&gt;
                &lt;p style="color: red;"&gt;'.$this-&gt;upload-&gt;display_errors().'&lt;/p&gt;';

            $data = array(
               'student_fname' =&gt; $this-&gt;input-&gt;post('fname'),
               'student_mname' =&gt; $this-&gt;input-&gt;post('mname'),
               'student_lname' =&gt; $this-&gt;input-&gt;post('lname'),
               'gender' =&gt; $this-&gt;input-&gt;post('gender'),
               'dob' =&gt; $this-&gt;input-&gt;post('datepicker'),
               'marital_status' =&gt; $this-&gt;input-&gt;post('marital'),
               'education' =&gt; $this-&gt;input-&gt;post('education'),
               'collage_id' =&gt;$this-&gt;input-&gt;post('sname'),
               'partner_id' =&gt;$this-&gt;input-&gt;post('partner'),
               'pob' =&gt; $this-&gt;input-&gt;post('pob'),
               'region' =&gt; $this-&gt;input-&gt;post('pobregion'),
               'district' =&gt; $this-&gt;input-&gt;post('pobdistrict'),
               'residence' =&gt; $this-&gt;input-&gt;post('residence'),
               'res_district' =&gt; $this-&gt;input-&gt;post('district'),
               'res_region' =&gt; $this-&gt;input-&gt;post('region'),
               'phone' =&gt; $this-&gt;input-&gt;post('phone'),
            );          

            $result = $this-&gt;insert_data-&gt;student_data($data);

            if ($result == TRUE) {
                echo "Success. (In top)";
            }
            else{
                echo "Faile. (In top)";
            }
        }
        else
        {
            $data_upload_files = $this-&gt;upload-&gt;data();
            $file_name =   $data_upload_files['file_name'];
            $image ='images/student_profile/'.$file_name;

            $data = array(
               'student_fname' =&gt; $this-&gt;input-&gt;post('fname'),
               'student_mname' =&gt; $this-&gt;input-&gt;post('mname'),
               'student_lname' =&gt; $this-&gt;input-&gt;post('lname'),
               'gender' =&gt; $this-&gt;input-&gt;post('gender'),
               'dob' =&gt; $this-&gt;input-&gt;post('datepicker'),
               'marital_status' =&gt; $this-&gt;input-&gt;post('marital'),
               'education' =&gt; $this-&gt;input-&gt;post('education'),
               'collage_id' =&gt;$this-&gt;input-&gt;post('sname'),
               'partner_id' =&gt;$this-&gt;input-&gt;post('partner'),
               'pob' =&gt; $this-&gt;input-&gt;post('pob'),
               'region' =&gt; $this-&gt;input-&gt;post('pobregion'),
               'district' =&gt; $this-&gt;input-&gt;post('pobdistrict'),
               'residence' =&gt; $this-&gt;input-&gt;post('residence'),
               'res_district' =&gt; $this-&gt;input-&gt;post('district'),
               'res_region' =&gt; $this-&gt;input-&gt;post('region'),
               'phone' =&gt; $this-&gt;input-&gt;post('phone'),
               'student_profile_img' =&gt; $image ,
            );

            $result = $this-&gt;insert_data-&gt;student_data($data);

            if ($result == TRUE) {
                echo "Success. (In bottom)";
            }
            else{
                echo "Faile. (In bottom)";
            }
        }
    }
}
</code></pre>

<p><strong>In Model</strong></p>

<pre><code>public function student_data($data){

    if ($this-&gt;db-&gt;insert('student_profile', $data)) {

        return TRUE;
    }
    else{

        return FALSE;
    }

}
</code></pre>
