<p>If I'm understanding you correctly, you'll want your controller action to render javascript.  Do something like this:</p>

<pre><code>def follow_or_unfollow
  @store = Store.find(params[:store_id])

  if current_user.voting_for?(@store)
    current_user.unvote_for(@store)
  else
    current_user.vote_for(@store)
  end

  respond_to |format|
    format.js
  end
end
</code></pre>

<p>and then in your views make a file called follow_or_unfollow.js and paste this in it:</p>

<pre><code>$("#&lt;%= @store.id %&gt;").html("&lt;%= escape_javascript( render partial: 'favorite_index', locals: {store: @store} ) %&gt;");
</code></pre>

<p>note the "#" at the beginning of the jquery so it knows this is an ID.  Finally make sure _favorite_index.html.erb exists somewhere in the same directory and renders the new button state.</p>
