<p>The truth is indeed in the middle: when you do not return the value of the recursive call, you lose the information you gathered. When on the other hand you return the value of the recursive call it will not work because you will then <em>always</em> return in the first iteration of your <code>foreach</code> loop.</p>

<p>So, you need to sometimes return it: only when you had a match in the recursive part. If no success, you should not return and continue the <code>foreach</code> loop:</p>

<pre><code>public function getChildById($root, $id){
    if (!empty($root-&gt;nodes)){
        foreach ($root-&gt;nodes as $node){
            if ($node-&gt;getId()==$id){
                return $node;
            } else {
                $found = $this-&gt;getChildById($node, $id);
                if ($found) return $found;
            }           
        }
    }
}   
</code></pre>

<p>See it run on <a href="https://eval.in/655111" rel="nofollow">eval.in</a>.</p>

<p>Note that it is more common to have the match test on the root, so at the start of the function. It comes down to the same thing, except that if the value is on the very root you call the function with, it is also found!</p>

<pre><code>public function getChildById($root, $id){
    if ($root-&gt;getId()==$id) return $root;
    foreach ($root-&gt;nodes as $node){
        $found = $this-&gt;getChildById($node, $id);
        if ($found) return $found;
    }           
}   
</code></pre>
