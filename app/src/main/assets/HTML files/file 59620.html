<p>I'm old but with link lists like your stack thing here I see you need to assign a NULL value to the tail of your linked list first and then every time a node is added then add a NULL to the new tail.  You did not assign a NULL value to your end node so you have an endless loop.</p>
