<p>Firstly note that <code>input</code> elements are self-closing, so its <code>&lt;input /&gt;</code>, not <code>&lt;input&gt;&lt;/input&gt;</code>.</p>

<p>A simpler way to do this would be to map the selected values in to an array and update the text of the <code>input</code> with the values from that array each time a checkbox is clicked, something like this:</p>

<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>$('.check_list').change(function() {
  $('.codeParc').prop('checked', this.checked);
  updateText();
});

$('.codeParc').change(function() {
  $('.check_list').prop('checked', $('.codeParc').length == $('.codeParc:checked').length);
  updateText();
});

function updateText() {
  var checkedValues = $('.codeParc:checked').map(function() {
    return this.value;
  }).get();
  $('#test').val(checkedValues.join(','));
}</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"&gt;&lt;/script&gt;
&lt;input style="cursor: pointer;" type="checkbox" value="" class="check_list" /&gt;
&lt;input type="checkbox" class="codeParc" value="1" /&gt;
&lt;input type="checkbox" class="codeParc" value="2" /&gt;
&lt;input type="checkbox" class="codeParc" value="3" /&gt;
&lt;input type="text" id="test" value="" /&gt;</code></pre>
</div>
</div>
</p>
