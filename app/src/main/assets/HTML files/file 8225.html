<p>I'm not sure what is you want to do?  If you want to query for items that happen between a particular start and end time, you can use:</p>

<pre><code>Mrsun.all(:rawtime =&gt; start_time..end_time)
</code></pre>

<p>This will generate SQL something like</p>

<pre><code>SELECT ... FROM msruns WHERE rawtime &gt; start_time AND rawtime &lt; end_time;
</code></pre>

<p>Does that answer your question?</p>

<p>A fuller example:</p>

<pre><code>require 'rubygems'
require 'dm-core'
require 'dm-migrations'


# setup the logger
DataMapper::Logger.new($stdout, :debug)

# connect to the DB
DataMapper.setup(:default, 'sqlite3::memory:')

class Msrun
  include DataMapper::Resource

  # properties
  property :id, Serial
  property :rawtime, DateTime

end

DataMapper.finalize.auto_migrate!


10.times do |n|
  Msrun.create(:rawtime =&gt; DateTime.new(2011, 1, 1, 0, 0 , n))
end

p Msrun.all(:rawtime =&gt; DateTime.parse('2011-1-1T00:00:04+0100')..DateTime.parse('2011-1-1T00:00:07+0100'))
</code></pre>
