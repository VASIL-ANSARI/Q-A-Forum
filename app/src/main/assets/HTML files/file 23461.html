<p>This looks alright. I am assuming it simply hangs (like you said) at the read. </p>

<blockquote>
  <p>[...] This method blocks until input data is available [...]</p>
</blockquote>

<p>I am thinking you are having trouble establishing the channel. 
Is the <code>scp</code> possibly waiting for your password or something?</p>

<hr>

<p>On second thought your line detection might not work. This would result in the for jumping beyond where you would want it to exit. Maybe you should also check for <code>'\r'</code> too. </p>

<hr>

<p>Also somebody did something similar here:
<a href="http://stackoverflow.com/questions/6902386/how-to-read-jsch-command-output">How to read JSch command output?</a></p>
