<p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>var input = [
  [1, "San Miguel National Central High School", "School", 1],
  [1, "San Miguel Central Elementary School", "School", 2],
  [2, "Medrano's Rice Mill and Warehouse", "Warehouse", 3],
  [1, "Unknown", "Residential", 341],
  [2, "Unknown", "Residential", 532],
  [3, "Unknown", "Residential", 257],
  [2, "Unknown", "Gas Station", 1]
];
    
var output = [];
    
function init() {
    var index = {};
    for (let building of input) {
        if (!index.hasOwnProperty(building[2])) {
            index[building[2]] = output.length;
            output.push([ building[2], 0, 0, 0 ]);
        }
        output[index[building[2]]][building[0]] += building[3];
    }
    console.log(output);
}
document.addEventListener( "DOMContentLoaded", init, false );</code></pre>
</div>
</div>
</p>
