<h2>Part 1</h2>

<p>You should add a new action to your controller (traits_controller) that takes as input one parameter  <code>profile_type</code> and returns all <code>traits</code> for that <code>profile_type</code> as json/xml.</p>

<h2>Part 2</h2>

<p>Once you have this ready, You should call this action via ajax on <code>on_change</code> event of your <code>profile_type</code> dropdown. Use that data received to construct the new <code>traits</code> dropdown.</p>

<p><code>chosen</code>, <code>select2</code> etc, should make this very easy to accomplish once your part 1 is ready.</p>

<p><strong>Update</strong></p>

<p>I have never used <code>chosen</code> myself. But looking at its documentation, something like this might work for you</p>

<pre><code>$('#profile_type').on('change', function() {
    $("#traits").chosen().change( â¦ );
    $("#traits").trigger("chosen:updated");
});
</code></pre>

<p>This <a href="http://railscasts.com/episodes/258-token-fields-revised?view=asciicast" rel="nofollow">Railscast (Episode #258)</a> demonstrates how a <code>chosen select</code> is populated using json data</p>

<p>If it is possible to drop <code>chosen</code> in favor of <code>select2</code>, I highly recommend you do it.</p>
