<p>I think your code can be reduced to:</p>

<pre><code>$query = @mysql_query( $q );

if ( $query ) {
    $this-&gt;num_rows = mysql_num_rows( $query );
    if($this-&gt;num_rows) {
        $this-&gt;result = array();
        while(($row = mysql_fetch_assoc($query))) {
            $this-&gt;result[] = $row;
        }
    }
    else {
        $this-&gt;result = null;
    }
    return true;
}
else {
    return false;
}
</code></pre>

<p><strong>Reference:</strong> <a href="http://php.net/manual/en/function.mysql-fetch-assoc.php" rel="nofollow"><code>mysql_fetch_assoc</code></a></p>

<p>Tip: Read and browse the documentation.</p>
