<p>This happens because your <code>IsKeyDown</code> has a side effect of <em>consuming</em> the next character from the buffer when <code>kbhit</code> returns <code>true</code>. Since you call <code>IsKeyDown</code> twice in a row, the first invocation "eats up" the <code>'b'</code>, so when it's time to run the second invocation, there's no data in the buffer.</p>

<p>You need to reorganize your code so that <code>IsKeyDown</code> is called only once per loop iteration. Your loop should store its return value, and compare that stored value to the characters that you need (i.e. <code>'a'</code> and <code>'b'</code>):</p>

<pre><code>int GetKeyDown() {
    if(kbhit())
    {
        return getch();
    }
    return -1;
}

while(1)
{
    int keyDown = GetKeyDown();
    if(keyDown == 'a')
    {
        printf("HELLO\n");
    }
    if(keyDown == 'b')
    {
        printf("HI\n");
    }
    Sleep(1000 / 30);
}
</code></pre>
