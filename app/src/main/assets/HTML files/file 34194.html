<p>One problem is that you haven't got that C has one syntax for two different concepts:
arrays of arrays (or pointers to pointers) and static (or dynamic too for C99) multidimensional arrays. Both get referenced with multiple square brackets [][][] - but are not the same.</p>

<p>I think you should enrich your knowledge on this aspects, and start letting your code work on the CPU alone, before trying with CUDA.</p>

<p>this line:</p>

<pre><code>int3 ***h_RGB=(int3***)malloc(2642*200*200*sizeof(int3));
</code></pre>

<p>and this line:</p>

<pre><code>r=h_RGB[k][iCycleNum][jCycleNum].x;
</code></pre>

<p>are not consistent. I usually prefer (I'm an old C89 guy) to use 1D arrays and manually perform the needed mapping to 3D space. So the declaration would be something like:</p>

<pre><code>int3 *h_RGB = malloc(2642*200*200*sizeof(int3));
</code></pre>

<p>and the usage something like:</p>

<pre><code>r=h_RGB[k + iCycleNum*200 + jCycleNum*200*200].x;
</code></pre>

<p>I can't know if this is the only problem (and I haven't watched whether this is the best memory layout) - this is for sure macroscopic. The same applies within the kernel and for <code>d_RGB</code>.</p>

<p>see <a href="http://stackoverflow.com/questions/22259306/indexing-multidimensional-arrays-in-c">Indexing multidimensional arrays in C</a> and this <a href="http://stackoverflow.com/questions/22555639/mpi-communicate-large-two-dimensional-arrays">MPI communicate large two dimensional arrays</a> for example.</p>
