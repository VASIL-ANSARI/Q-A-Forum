<p>In 95% cases, replacing data (e.g. text) in a file usually means</p>

<ol>
<li>Read the file in chunks, e.g. line-by-line</li>
<li>Edit the chunk</li>
<li>Write the edited chunk to a new file</li>
<li>Replace the old file with a new file.</li>
</ol>

<p>So, a simple code will be:</p>

<pre><code>import os

with open(in_path, 'r') as fin:
    with open(temp_path, 'w') as fout:
        for line in fin:
            line.replace('foo', 'fah')
            fout.write(line)

os.rename(temp_path, in_path)
</code></pre>

<p>Why not in-place replacements? Well, a file is a fixed sequence of bytes, and the only way to grow it - is to append to the end of file. Now, if you want to replace the data of the same length - no problems. However if the original and new sequences' lengths differ - there is a trouble: a new sequence will be overwriting the following characters. E.g. </p>

<pre><code>original: abc hello abc world
replace abc -&gt; 12345
result: 12345ello 12345orld
</code></pre>
