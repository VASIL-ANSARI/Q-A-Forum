<p>The <em>intent</em> of this code is to start <code>max</code> at zero then, for every line longer than the current <code>max</code>, copy the line and update <code>max</code> to the longer value:</p>

<pre><code>max = 0;
while( ( len = getline() ) &gt; 0 )  
{
    if( len &gt; max )
    {
        len = max;
        copy();
    }
}
</code></pre>

<p>However, the line that's supposed to update <code>max</code> is assigning in the wrong direction. It sets <code>len</code> to be the current value of <code>max</code> and <em>never updates</em> <code>max</code> at all. This is something that would have been obvious with a bit of "Debugging 101", placing the following line after the call to <code>copy()</code>:</p>

<pre><code>printf ("New long line, len = %d, str = '%s'\n", max, longest);
</code></pre>

<p>That fact that you would never have seen the length changing would have (hopefully) narrowed down the problem pretty fast. The line in question should instead be:</p>

<pre><code>max = len;
</code></pre>
