<p>Should be as simple as this</p>

<pre><code>var thisForm = $(el).closest('form');
$('input.class1', thisForm).removeClass('class1').addClass('class2');
$('div.class3', thisForm).addClass('class4');
</code></pre>

<p>See this example <a href="http://jsfiddle.net/dXrN8/2" rel="nofollow">http://jsfiddle.net/dXrN8/2</a></p>

<p>It's jQuery, so you don't need to loop to do these things, actions happen on everything your selector matches.</p>

<p>What we are doing is finding the form, and assigning it to <code>thisForm</code>.</p>

<p>Then use that to scope our selectors in the next two lines.  </p>

<p>Then select all <code>input.class1</code> elements and remove class1 and add class2.</p>

<p>Then select all our <code>div.class3</code> elements and add class4.</p>
