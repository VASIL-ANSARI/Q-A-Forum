<p>If you are only permitting alphanumeric characters to be stored in your database, rather than strip off invalid characters, you are better off to return an error to your users for having supplied invalid input.  This way, your users won't become confused when they see their data displayed back to them in a different form than they originally entered it.</p>

<p>In other words, validate the input with <code>preg_match()</code> to be sure it meets your requirements, and if not, return an error to the user so they can fix it.  Then escape it for insertion into the database or use a prepared statement.</p>

<pre><code>if (!preg_match('/^[a-z0-9., ]$/i', $input)) {
   // error Invalid input. Please use only letters and numbers
}
else {
   // call escape function on $input or insert it with a prepared statement
   // whatever is the appropriate method for your RDBMS api.
}
</code></pre>
