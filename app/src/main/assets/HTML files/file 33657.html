<p>I'd write it like:</p>

<pre><code>def raid()
  ids = File.readlines('ids.txt')
  proxies = File.readlines('socks.txt')
  ids.zip(proxies).map{ |a| a.map(&amp;:chomp) }
end
</code></pre>

<p>Starting with two files:</p>

<ul>
<li><p>socks.txt:</p>

<pre><code>127.0.0.1
127.0.0.2
</code></pre></li>
<li><p>ids.txt:</p>

<pre><code>foo
bar
</code></pre></li>
</ul>

<p>Calling the above method returns:</p>

<pre><code>raid() # =&gt; [["foo", "127.0.0.1"], ["bar", "127.0.0.2"]]
</code></pre>

<blockquote>
  <p>"...sends it to a function"</p>
</blockquote>

<p>I'm not sure where in your code you tried to call a function, so I can't replicate that.</p>
