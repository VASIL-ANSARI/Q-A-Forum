<p>You are matching the spaces with <code>(*)</code>. Change to:</p>

<p><div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>var a = ' z this is ok z ';

// Here, you'll notice that I added the spaces next to the "z" character.
a = a.replace(/z (.*?) z/, " Z$1Z ").toUpperCase();

console.log(a); // output: " ZTHIS IS OKZ "</code></pre>
</div>
</div>
</p>

<p>What this does is match everything between the "z", and then rewrites it with "Z" directly next to it.</p>
