<blockquote>
  <p>Is there a good (free) library for this?</p>
</blockquote>

<p>java.util.zip will do the zipping, but it won't do the passwords. And no, I don't know of any free ones that will. <a href="http://www.chilkatsoft.com/java-zip.asp" rel="nofollow">The cheapest</a> I've seen is $150 for a developer seat.</p>
