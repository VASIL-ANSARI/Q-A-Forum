<p>You should change this:</p>

<pre><code>while($i&lt;=$n_utenti)
</code></pre>

<p>To this:</p>

<pre><code>while($i&lt;$n_utenti)
</code></pre>

<p><code>$n_utenti</code> is larger by one than the count of records in <code>$lista_utenti</code>.</p>

<p>Otherwise it would be cleaner to use</p>

<pre><code>foreach($lista_uteni as $email){
</code></pre>

<p>based loop. (And you could phase out one temp variable this way.)</p>
