<pre><code>$numbers=array(1, 4, 7, 4, 9, 4, 8, 6, 2, 8, 7, 7, 4, 5, 3);
$weight=array();
$count=count($numbers);
for ($i=0; $i&lt;$count; $i++) {
    if (!isset($weight[$numbers[$i]]))
        $weight[$numbers[$i]]=1;
    $weight[$numbers[$i]]*=$count-$i;
}
var_dump($weight);
</code></pre>

<p>Result:</p>

<pre><code>Array
(
    [1] =&gt; 15
    [4] =&gt; 5040
    [7] =&gt; 260
    [9] =&gt; 11
    [8] =&gt; 54
    [6] =&gt; 8
    [2] =&gt; 7
    [5] =&gt; 2
    [3] =&gt; 1
)
</code></pre>
