<p>The problem is that you can't reuse the same stringstream object, try doing like this instead:</p>

<pre><code>std::string version = curl_version();
version = version.substr( version.find( '/' ) + 1 );
int min, max;
int pos = version.find( '.' );
std::stringstream stream( version.substr( 0, pos ) );
version = version.substr( pos + 1 );
stream &gt;&gt; max;
pos = version.find( '.' );
std::stringstream stream1( version.substr( 0, pos ) );
stream1 &gt;&gt; min;
</code></pre>

<hr>

<p>It seems that when you shift (>>) out of a stringstream and it reaches eof (you can check by calling stream.eof()) a flag is set that prevents further shifting out even if you set (by calling str()) a new associated string object.
To make it work, you have to call clear() before shifting out again.</p>

<pre><code>std::string version = curl_version();
version = version.substr( version.find( '/' ) + 1 );
int min, max;
int pos = version.find( '.' );
std::stringstream stream( version.substr( 0, pos ) );
version = version.substr( pos + 1 );
stream &gt;&gt; max;
pos = version.find( '.' );
stream.str( version.substr( 0, pos ) );
str.clear();
stream &gt;&gt; min;
</code></pre>
