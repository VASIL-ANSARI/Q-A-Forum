<p>The function <code>isRegistered</code> reads the file to its end, and you never rewind it. The first call to <code>isRegistered</code> works OK, but the next ones never enter the <code>while</code> loop because <code>fscanf</code> returns EOF.</p>

<p>If <code>isRegistered</code> is meant to search the whole file, try this:</p>

<pre><code>int isRegistered (FILE * file, int area)
{
    int areaDigit = 0;

    rewind (file);  // Go to beginning of file and clear flags

    while (fscanf (file, "%d %*[^ ] %*[^\n]", &amp;areaDigit) != EOF)
        if (area == areaDigit)
            return 1;

    return 0;
}
</code></pre>
