<p>The data you are generating looks fine (provided that is what you see in your dev tools as the response to the AJAX call that jsTree makes).</p>

<p>You might want to check if all the headers are OK - is it really served as JSON? You can also try adding the charset just in case:</p>

<pre><code>header('Content-Type: application/json; charset=UTF-8');
</code></pre>

<p>I see you are already trying to force jQuery to treat the response as JSON regardless of headers, but use <code>"dataType"</code> instead of <code>"datatype"</code>.</p>

<p>If this does not work - please share what you see in the net panel of your developer console - the headers and the response to the AJAX call jsTree makes.</p>
