<p>Ok this should solve the problem</p>

<pre><code>$dif = mysql_fetch_assoc($res1); 
$dif1 = $dif['tdif']; 
if ($dif1 &gt;= 86400) {
</code></pre>

<p>But since mysql_* is outdated and removed from PHP 7.0 updated code should be like this</p>

<pre><code>$res1 = mysqli_query($con,"SELECT TIME_TO_SEC(TIMEDIFF(NOW(), last_ts)) AS tdif FROM php_cron WHERE id=1");
$dif = mysqli_fetch_assoc($res1); 
$dif1 = $dif['tdif']; 
if ($dif1 &gt;= 86400) {

    //following code will run once every 24h

    //update user's page rank
    $sql2 = "UPDATE logs_limitbandwidthtoday SET BandwidthToday = 0"; 
    mysqli_query($con,$sql2);

    $sql23 = "UPDATE logs_limitlinktoday SET LimitLink = 0"; 
    mysqli_query($sql23);

    $sql24 = "UPDATE logs_limitvipbw SET BandwidthToday = 0"; 
    mysqli_query($con,$sql24);

    $sql25 = "UPDATE logs_limitviplink SET LimitLink = 0"; 
    mysqli_query($con,$sql25);

    $sql26 = "UPDATE account_vip SET ALLTime = ALLTime - 1 WHERE ALLTime &gt; 0"; 
    mysqli_query($con,$sql26);

    //update last execution time
    $sql3 = "UPDATE php_cron SET last_ts = NOW() WHERE id=1";
    mysqli_query($con,$sql3);

}
</code></pre>

<p>Where $con is the connection sting you make with the database</p>

<pre><code>$server='localhost';//your host name
$user_name='root';//your mysql user name which is root by default
$password='';//your mysql password which is blank by default
$database='db';//your database name

$con=mysqli_connect($server,$user_name,$password,$database);
</code></pre>
