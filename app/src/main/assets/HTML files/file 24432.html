<p>Apparently, the <code>android</code> plugin doesn't add a <code>compileJava</code> task (like the <code>java</code> plugin would). You can check which tasks are available with <code>gradle tasks --all</code>, and pick the right one for your (otherwise correct) dependency declaration.</p>

<p>EDIT: </p>

<p>Apparently, the <code>android</code> plugin defers creation of tasks in such a way that they can't be accessed eagerly as usual. One way to overcome this problem is to defer access until the end of the <em>configuration phase</em>:</p>

<pre><code>gradle.projectsEvaluated {
    compileJava.dependsOn(generateSources)
}
</code></pre>

<p>Chances are that there is a more idiomatic way to solve your use case, but quickly browsing the <a href="http://tools.android.com/tech-docs/new-build-system/user-guide">Android plugin docs</a> I couldn't find one.</p>
