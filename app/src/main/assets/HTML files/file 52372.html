<p>Lets take these two assignments one by one</p>

<pre><code>x=x-(int)x;
i=x;
</code></pre>

<p>First you do <code>x=x-(int)x</code> which will result in <code>x</code> being equal to <code>0.346</code>. Then you do <code>i=x</code> which truncates (i.e. remove the decimals) of the value of <code>x</code> leading to <code>i</code> becoming zero.</p>

<p>You need to multiply <code>x</code> by <code>1000</code> before the assignment to <code>i</code>:</p>

<pre><code>i = 1000 * x;
</code></pre>

<p>The number <code>1000</code> depends on the number of digits of decimals you want. More zeros means more digits.</p>
