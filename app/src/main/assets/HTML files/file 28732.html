<p>If you don't know how many pairs of  you have, you will need to keep track of them via some mechanism.  One would be to malloc and link them into a list.  In order to do this, add a pointer to the struct.  </p>

<p>So the flow would be something like the pseudo-code below.  It will need the struct definition, error code, the API file calls to be correct, and make sure that the linked list is correct.  </p>

<pre><code>struct Memblock head;  
struct Memblock *oldp = &amp;head;
main() {  
    fp = fopen(file);  
    while (fgets(line, fp, sizeof(line)-1) != NULL) {  
        if (sscanf(line, "%c %d", &amp;flag, &amp;address) == 2) {  
            sp = malloc(sizeof(struct));  
            sp-&gt;flag = flag;  
            sp-&gt;address = address;    
            sp-&gt;next = NULL;
            oldp-&gt;next = sp;  
        }
    }  
}
</code></pre>
