<p>It's a mix of the steps in <a href="https://developers.google.com/identity/sign-in/android/start">Add Sign-In to Android</a> and <a href="https://developers.google.com/android/guides/http-auth">Authorizing with Google for REST APIs</a>.</p>

<p>Once you have a <code>GoogleSignInResult</code> you can get the account name from that and then request the token with the minimal scopes:</p>

<pre><code>@Override
public void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);

    // Result returned from launching the Intent from GoogleSignInApi.getSignInIntent(...);
    if (requestCode == RC_SIGN_IN) {
        GoogleSignInResult result = Auth.GoogleSignInApi.getSignInResultFromIntent(data);
        GoogleSignInAccount acct = result.getSignInAccount();

        String email = acct.getEmail();

        // TODO: run an async task to get an OAuth2 token for the account
    }
}
</code></pre>

<p>The async task will need to request these scopes:</p>

<pre><code>protected String doInBackground(String... params) {
    String scopes = "oauth2:profile email";
    String token = GoogleAuthUtil.getToken(getApplicationContext(), email, scopes);
    // exception handling removed for brevity
    return token;
}
</code></pre>

<p>Now you can use the token to sign in to Firebase as usual:</p>

<pre><code>ref.authWithOAuthToken("google", token, new Firebase.AuthResultHandler() {...
</code></pre>
