<p>Your function will fail no matter how you call it.  You say you want to return a number but, as pointed out in the comment, you are returning an undefined variable.  This will fix that:</p>

<ul>
<li>In your cffunction tag, change the return type from query to numeric.</li>
<li>In the select clause of your query, use an sql alias to give yourself
a column name.</li>
<li>Since your query will only have one field and one row, return that
value.</li>
</ul>

<p>So this:</p>

<pre><code>&lt;cffunction name="getSpeakerCount" access="remote" returntype="query"&gt;
</code></pre>

<p>becomes this:</p>

<pre><code>&lt;cffunction name="getSpeakerCount" access="remote" returntype="numeric"&gt;
</code></pre>

<p>and this:</p>

<pre><code>SELECT COUNT(AID)
</code></pre>

<p>becomes this:</p>

<pre><code>SELECT COUNT(AID) records
</code></pre>

<p>and this:</p>

<pre><code>&lt;cfreturn getSpeakerCount&gt;
</code></pre>

<p>becomes this:</p>

<pre><code>&lt;cfreturn getSpeaker.records&gt;
</code></pre>

<p>The comment about using query paramters is also valid.  Additionally, you should scope that variable.</p>

<p>So this:</p>

<pre><code>WHERE AID = '#AID#
</code></pre>

<p>should be this:</p>

<pre><code>WHERE AID = &lt;cfqueryparam cfsqltype="cf_sql_varchar" value="#arguments.aid#"&gt;
</code></pre>

<p>Make sure you can run this using ColdFusion code before trying it with ajax.</p>
