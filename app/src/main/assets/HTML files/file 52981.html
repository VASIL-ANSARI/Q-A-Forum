<p>Can't help with those few informations. Here is what you should do.
1-Check that ubuntu contains the mysql driver to connect.</p>

<p>2-Check the connection to the database B.</p>

<blockquote>
  <p>provider.auth.className
  org.jivesoftware.openfire.auth.JDBCAuthProvider
  provider.user.className
  org.jivesoftware.openfire.user.JDBCUserProvider</p>
</blockquote>

<p>3-Create your custom queries for JID, emails, number of JID</p>

<p>4-Create custom queries for databases in case you use non clear passwords.</p>

<p>5-Create custom queries for groups in case you want use external rosters</p>

<p>FYI: insert those queries in the openfire admin server-properties to avoid rebooting the server. If something went wrong, remove that content from OfProperty table of openfire.</p>
