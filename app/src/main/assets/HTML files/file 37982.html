<p>Use</p>

<pre><code>double w = textFlow.prefWidth(-1);
</code></pre>

<p>to compute the preferred width, then</p>

<pre><code>double h = textFlow.prefHeight(w);
</code></pre>

<p>to compute the preferred height.</p>

<p>The <code>getPrefWidth()</code> method just returns the value of the user-settable <code>prefWidth</code> property, which by default is <code>-1</code>, meaning "use computed size".</p>

<p>Btw, in the code you posted, no <code>Text</code> node is added to the <code>TextFlow</code>.</p>
