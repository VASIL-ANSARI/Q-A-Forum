<p>You need either a sub-select or an outer join + group + unique to solve your problem. AFAIK that is not possible with Rails' AR.</p>

<p>An approximation would be to use AR's <a href="http://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html#method-i-belongs_to" rel="nofollow">counter-cache</a> feature and make your query as simple as</p>

<pre><code>scope :has_no_bars, where("bars_count = 0")
</code></pre>

<p>This isn't 100% correct relation-wise but saves you a lot of work and also scales much better.</p>
