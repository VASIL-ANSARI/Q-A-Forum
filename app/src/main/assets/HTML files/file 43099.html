<p>You will probabely be recieveing <code>$myJson</code> from somewhere and then you can return <code>$rsultsJson</code>. I suggest putting this whole thing in a function or a class method.</p>

<pre><code>$myJson = '{"users": [{  "qnt": "3",  "post": "j8v2g5",  "contact": "foo@bar.com",  "id": "1" }, {  "qnt": "10",  "post": "xxxyyy",  "contact": "foo@foo.net",  "id": "6" }, {  "qnt": "3",  "post": "xxxyyy",  "contact": "bar@foo.org",  "id": "4" }]}';
$usersObject=json_decode($myJson);
$usersArray = $usersObject-&gt;users;
$postCount = array();

foreach ($usersArray as $user) {
    if (array_key_exists($user-&gt;post, $postCount)) {
        $postCount[$user-&gt;post] += $user-&gt;qnt;
    } else {
        $postCount[$user-&gt;post] = $user-&gt;qnt;
    }   

}

$results = new stdClass();
$results-&gt;users = array();
foreach ($postCount as $post =&gt; $count) {
    $user = new stdClass();
    $user-&gt;qnt = $count;
    $user-&gt;post = $post;    
    $results-&gt;users[] = $user;
}

$rsultsJson = json_encode($results);
</code></pre>
