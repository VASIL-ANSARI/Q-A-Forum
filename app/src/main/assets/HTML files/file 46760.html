<p>@Udi it would have been really great if you could have pasted a structured code. However, with whatever code you pasted, here is an indicative solution using swingworker. You just need to call your whole actionPerformed() code from doInBackground() of swingworker. Hope it helps.</p>

<p>Moreover, I find the java docs of swingworker a very useful to understand how it works. Examples are very simple yet well explained.
<a href="https://docs.oracle.com/javase/8/docs/api/javax/swing/SwingWorker.html" rel="nofollow">https://docs.oracle.com/javase/8/docs/api/javax/swing/SwingWorker.html</a></p>

<pre><code>    // use this code inside actionPerformed()
    new SwingWorker(){

        @Override
        protected Object doInBackground() throws Exception {

            // all your code goes here

            for( ; currentFolder &lt; DFLIST.length ; currentFolder++){
                                 double f = currentFolder + 1;
                                double t = DFLIST.length;
                                double currentPercentInDouble = (f / t);
                                int currentPercent = (int) (currentPercentInDouble * 100);

                                // send the current progress to progress bar. This needs to be updated to progress bar in process() method
                                publish(currentPercent)

            }

            // rest of the code
        }


        @Override 
        protected void process(List&lt;V&gt; chunks) {
                // update the progress bar here
        }

    }.execute();
</code></pre>
