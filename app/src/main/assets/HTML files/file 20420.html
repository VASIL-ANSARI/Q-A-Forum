<p>this is quite easy to do with a recursive function, I'll give you a first version (non-tested):</p>

<pre><code>function parse_menu($menu){
    echo "&lt;li&gt;".$menu['text']."&lt;/li&gt;"
    if(!empty($menu['sub_modules'])){
        echo "&lt;ul&gt;";
        foreach($menu['sub_modules'] as $e){
            parse_menu($menus_array[$e]); //or whatever you are calling the generic array
        }
        echo "&lt;/ul&gt;";
    }
}
</code></pre>

<p>You should call for each $menus_array element that has no parent (level 0 of the tree).</p>
