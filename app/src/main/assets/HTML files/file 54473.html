<p>you don't need nested loops, try:</p>

<pre><code>foreach($weight_history-&gt;result() as $row)
    $results[date("F j, Y", $row-&gt;date)]['weight'] = $row-&gt;amount;
foreach($bodyfat_history-&gt;result() as $row)
    $results[date("F j, Y", $row-&gt;date)]['bodyfat'] = $row-&gt;amount;
</code></pre>

<p>in case you don't want to see warnings:</p>

<pre><code>$results = array();
foreach($weight_history-&gt;result() as $row) {
    if (!isset($results[date("F j, Y", $row-&gt;date)])) $results[date("F j, Y", $row-&gt;date)] = array('bodyfat'=&gt;null);
    $results[date("F j, Y", $row-&gt;date)]['weight'] = $row-&gt;amount;
}
foreach($bodyfat_history-&gt;result() as $row) {
    if (!isset($results[date("F j, Y", $row-&gt;date)])) $results[date("F j, Y", $row-&gt;date)] = array('weight'=&gt;null);
    $results[date("F j, Y", $row-&gt;date)]['bodyfat'] = $row-&gt;amount;
}
</code></pre>
