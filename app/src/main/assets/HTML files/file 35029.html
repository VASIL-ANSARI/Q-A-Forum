<p><code>tx.executeSql</code> is an async function. The <code>alert</code> works within the function since that is the <em>callback</em> and the async processing has finished. The <code>alert</code> after the function is trigger before the function has finished, thus being <code>undefined</code>.</p>

<p>Solution: Do the work inside the callback or call another function with the array passed as a parameter and do the work there.</p>
