<p>As per <em>jonrsharpe</em>'s comment, the most easy to understand approach is to read the whole file, then insert lines where you need them:</p>

<pre><code># Let's read our input file into a variable
with open('input.html', 'r') as f:
    in_file = f.readlines()  # in_file is now a list of lines

# Now we start building our output
out_file = []
for line in in_file:
    out_file.append(line)  # copy each line, one by one
    if '&lt;/subtag&gt;' in line:  # add a new entry, after a match
        out_file.append('    &lt;some new tag&gt;text1&lt;/some new tag&gt;\n')

# Now let's write all those lines to a new output file.
# You would re-write over the input file now, if you wanted!
with open('out.html', 'w') as f:
    f.writelines(out_file)
</code></pre>

<p>I started with this file:</p>

<pre><code>&lt;tag1&gt;
    &lt;subtag1&gt;
        Line 1 - with some text
        Line 2 - with some text
    &lt;/subtag&gt;
&lt;/tag1&gt;
</code></pre>

<p>End my script produced this:</p>

<pre><code>&lt;tag1&gt;
    &lt;subtag1&gt;
        Line 1 - with some text
        Line 2 - with some text
    &lt;/subtag&gt;
    &lt;some new tag&gt;text1&lt;/some new tag&gt;
&lt;/tag1&gt;
</code></pre>

<p>I hope that helps!</p>
