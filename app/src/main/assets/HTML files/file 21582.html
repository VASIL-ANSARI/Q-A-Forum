<p>Use DOM methods; replacing things using <code>.html()</code> often breaks page features. Also, that regex is liable to break with the smallest change.</p>

<p>You're trying to grab the <em>Life</em> value right?  And that ends with the <code>&lt;img&gt;</code> with <code>alt="Ãletero"</code>.</p>

<p>So that text node is (based on the Q code): </p>

<pre><code>var lifeValTxtNd    = $("#buddyTrigger img[alt='Ãletero']")[0].previousSibling;
</code></pre>

<p><br>
And this gets <code>6903</code> from the contents like <code>6.903 / 82.100</code>:</p>

<pre><code>var lifeVal         = $.trim (lifeValTxtNd.nodeValue)
                    .replace (/^\s*(\d*)\.?(\d+)\s*\/.+$/, "$1$2")
                    ;
lifeVal             = parseInt (lifeVal, 10);
</code></pre>

<p><br>
Then to wrap that section in a span use:</p>

<pre><code>$("#buddyTrigger img[alt='Ãletero']").before (
    '&lt;span class="newmessage"&gt;' + lifeValTxtNd.nodeValue + '&lt;/span&gt;'
);

lifeValTxtNd.parentNode.removeChild (lifeValTxtNd);
</code></pre>

<hr>

<hr>

<p>Doing it this way:</p>

<ol>
<li>Won't break any event listeners on the page.</li>
<li>Is less susceptible to changes in the page layout/content.</li>
<li>Is easier to understand and maintain.</li>
<li>Will run faster, if performance is a factor.</li>
</ol>
