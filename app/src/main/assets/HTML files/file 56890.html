<p>Your command script contains a syntax error. If you inspect the <a href="https://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.commandtext(v=vs.110).aspx" rel="nofollow"><code>cmd.CommandText</code></a> you'll find that the command looks like this:</p>

<pre><code>ALTER DATABASE 'db'SET RECOVERY SIMPLE;DBCC SHRINKFILE (2, 1);GO ALTER DATABASE 'db'SET RECOVERY FULL;
</code></pre>

<p>When I run that line on a SqlServer 2016 database, <a href="http://data.stackexchange.com/stackoverflow/query/501234" rel="nofollow">the result is</a></p>

<blockquote>
  <p>Incorrect syntax near 'db'.
   'RECOVERY' is not a recognized SET option.
   Incorrect syntax near 'GO'.</p>
</blockquote>

<p>This means the command is not correct according to the syntax rules of the <a href="https://msdn.microsoft.com/en-us/library/bb522682.aspx" rel="nofollow">Alter Database</a> statement and other rules.</p>

<p>At minimum your statement should look like this, where it is important that <code>GO</code> is on a line all by itself and the databasename isn't surrounded by single quotes.</p>

<pre><code>ALTER DATABASE db SET RECOVERY SIMPLE;DBCC SHRINKFILE (2, 1);
GO 
ALTER DATABASE db SET RECOVERY FULL;
</code></pre>

<p>C# offers <a href="https://msdn.microsoft.com/en-us/library/ms228362.aspx#Anchor_3" rel="nofollow">verbatim strings</a> and those come handy here:</p>

<pre><code>SqlCommand cmd = new SqlCommand(String.Format(
@"ALTER DATABASE [{0}] 
SET RECOVERY SIMPLE;
DBCC SHRINKFILE (2, 1);
GO 
ALTER DATABASE [{0}] 
SET RECOVERY FULL;" , 
database.Text),con);
</code></pre>

<p>You can't use parameters here so you're forced to use string formatting to bring the parameter in your sql statement. Make sure <code>database.Text</code> is something you control and cannot be entered by users of your applications, to prevent <a href="https://xkcd.com/327/" rel="nofollow">SQL injection attacks</a> from happening.</p>
