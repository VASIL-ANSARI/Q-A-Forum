<p>In the first example, save the value of whether attr is <code>x</code> or <code>y</code> so you compute it once without getting the code repetition issue</p>

<pre><code> for (attr = ldap_first_attribute(ldap_handle, ldap_result, &amp;ber); attr != NULL; attr = ldap_next_attribute(ldap_handle, ldap_result, ber)) {
                /* iterate over attribute values */
      bool isX = strcmp(attr, "x")) == 0;
      bool isY =  strcmp(attr, "y")) == 0;

      ....

      // if attribute == x
      if (isX) {
          // do_x();
          // do_y();

       // if attribute == y
      } else if (isY) {
           // do_sth_different();
       }
</code></pre>
