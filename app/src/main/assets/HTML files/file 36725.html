<p>First of all, make sure the code is being entered into a textarea.  Then use .html() to fetch the contents to prevent jQuery from doing extra work.</p>

<p>Then, pass an object to the data property of the ajax call.  jQuery and PHP should handle everything else for you.</p>

<p>html</p>

<pre><code>&lt;textarea id="code"&gt;&lt;/textarea&gt;
</code></pre>

<p>js</p>

<pre><code>var code = $("#code").html();
$.ajax({
        url:"post.php",
        data: {
            code: code
        },
        type:"post",
        success: function(result) {
            //something
        },
        error: function() {

        }
    });
</code></pre>

<p>php</p>

<pre><code>$code = $_POST['code'];
</code></pre>
