<p>Since you don't show the endpoint configuration, I'm going to assume that this is happening with a file inbound endpoint.</p>

<p>For a reason that goes beyond imagination, the file message receiver behind the inbound endpoint puts the <code>originalFilename</code> property in the <strong>outbound</strong> scope when evaluating the expression to generate the archived file name.</p>

<p>So use: <code>message.outboundProperties.originalFilename</code></p>
