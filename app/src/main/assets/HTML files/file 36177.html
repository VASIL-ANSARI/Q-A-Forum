<p>setPixels returns void:</p>

<pre><code>public static void setPixels(BufferedImage img,
                         int x, int y, int w, int h, int[] pixels)
</code></pre>

<p>so you need to create Raster and than set pixels to it:</p>

<pre><code>WritableRaster newRaster= WritableRaster.createWritableRaster(â¦);
newRaster.setPixels(0, 0, width, height, matrix);
</code></pre>

<p>You need to put 4 int per pixel (it depends on color model, 4 for ARGB). So, matrix size must be </p>

<pre><code>int[] matrix = new int[width * height * 4]
</code></pre>

<p>See more about WritableRaster here â</p>

<p><a href="http://docs.oracle.com/javase/7/docs/api/java/awt/image/Raster.html" rel="nofollow">Oracle: WritableRaster</a></p>

<p><a href="http://www.programcreek.com/java-api-examples/index.php?api=java.awt.image.WritableRaster" rel="nofollow">Code examples</a></p>
