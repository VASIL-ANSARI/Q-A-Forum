<p>I have found why it was not working. Because I copied the code from google to my project. In the code </p>

<pre><code>props.put("mail.smtp.starttls.enable", true);
props.put("mail.smtp.auth", true);
</code></pre>

<p>value true was not in inverted comma. It should be like this </p>

<pre><code>props.put("mail.smtp.starttls.enable", "true");
props.put("mail.smtp.auth", "true");
</code></pre>
