<blockquote>
  <p>What am I doing wrong here?</p>
</blockquote>

<p>You are making an assignment (<code>=</code>) to an array-type.
See <a href="http://stackoverflow.com/a/23171909/3080396">self.</a>'s answer points in the right direction if you want both the structure and the array to point to the same place in memory. However, if you want a copy of the data, read on.</p>

<hr>

<blockquote>
  <p>invalid use of flexible array member</p>
</blockquote>

<p>The reason you're getting this error, is that to use a flexible array member, you must allocate the extra space for the array, for example when you <code>malloc</code>'d it. Eg.</p>

<pre><code>irPulseSet upButton = malloc(sizeof(irPulseSet) + sizeof(upButtonPulses));
memcpy(upButton-&gt;pulses, upButtonPulses, sizeof(upButtonPulses));
</code></pre>
