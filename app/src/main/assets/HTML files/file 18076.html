<p>Well, first of all, what you probably want to do is to just copy the pointers as they are.</p>

<p>Why? Because if person "A" has a friend "F", and person "B" has the friend "F" as well, they will probably refer to the same person "F" object. If you make a deep-copy as you suggested, and you copy A to A2 and B to B2, you will have a total of three distinct person "F" objects -- the original, referenced from A and B, a copy referenced from A2, and another copy referenced from B2.</p>

<p>Of course, this might be what you want; I can't know that. But in many cases it's not.</p>

<p>The whole pointer setup will work just fine, although you have to be careful with memory management: you can easily end up with pointers to persons that no longer exist</p>

<p>If you do want to do a deep copy (a "deep copy" is a copy where referenced objects are copied too) you'll have to find cycles yourself, for example by tracking which objects you have copied already. I won't be trying to sketch something like this now, as it can get somewhat complicated and I don't think you actually want to deep copy your "person" objects.</p>
