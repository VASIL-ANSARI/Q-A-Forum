<blockquote>
  <p>if i print s i see 33023 witch in binary form is 00000000.00000000.10000000.11111111</p>
</blockquote>

<p>Your problem looks like an endianness issue.</p>

<p>Try the following:</p>

<pre><code>int s; 
struct in_addr ipvalue;
s = inet_pton(AF_INET, argv[1], &amp;ipvalue);
s = ntohl(s);
</code></pre>

<p>That should fix the byte order issue.</p>
