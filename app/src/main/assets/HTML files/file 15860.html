<p>Create one socket for sending, then four for receiving, bind the receiving sockets to the correct local ports. Use sendto on the outgoing socket to send stuff to the receiver.</p>

<p>Lazy example for select (probably buggy, but you should get the general idea):</p>

<pre><code>fd_set fds;
int nfds = /* max(in_1, in_2, in_3, in_4) + 1 */;
while(1) {
    int ret = 0;
    FD_ZERO(&amp;fds);
    FD_SET(in_1, &amp;fds);
    FD_SET(in_2, &amp;fds);
    FD_SET(in_3, &amp;fds);
    FD_SET(in_4, &amp;fds);
    ret = select(nfds, &amp;fds, NULL, NULL, NULL);
    if(ret &lt; 0) {
        break; /* something went wrong */
    } else if(ret == 0) {
        continue; /* nothing to do, try again */
    }
    if(FD_ISSET(in_1, &amp;fds)) {
        handle_in_1();
    }
    if(FD_ISSET(in_2, &amp;fds)) {
        handle_in_2();
    }
    /* ... */
}
</code></pre>
