<p>As you've already pointed out you are not sending the whole serialized data buffer.</p>

<pre><code>    std::string mystring;
    ss &gt;&gt; mystring; //Serialization to string so we can send it
</code></pre>

<p>should be turned into</p>

<pre><code>    std::string mystring (ss.str ());
</code></pre>

<p>Instead of reading up to the first whitespace we are now storing the entire serialized content in <code>mystring</code>.</p>
