<p>You just need mock <code>Uri</code> class. You can mock only one method (<code>getPath</code>), like that:</p>

<pre><code>$sut = $this-&gt;getMock('Appropriate\Namespace\Uri', array('getPath'));

$sut-&gt;expects($this-&gt;any())
    -&gt;method('getPath')
    -&gt;will($this-&gt;returnValue('/panel2.0/user/index/id/5'));
</code></pre>

<p>And then you can test your object as usual:</p>

<pre><code>$this-&gt;assertEquals($expectedParam, $sut-&gt;getParam('someParam'));
</code></pre>
