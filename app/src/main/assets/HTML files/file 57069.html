<p>You did not show, what you have tried. Did you try something like this:</p>

<pre><code>select f.*, 
      (select max(centrala_user.borlanddatetostr(i.itp)) from oracla.imports i where i.simporttype not in ('PSXN') and i.shid=f.shid) as last_import_date
  from oracla.firm f 
 where f.byact = 0 
   and f.bytype = 0
   and f.shid not in  (
      select distinct i.shid
        from oracla.imports i
       where i.simporttype not in ('PSXN')
         and centrala_user.borlanddatetostr(i.itp) &gt; trunc(add_months(sysdate,-1))
   )   
</code></pre>

<p>Because is not clear, what LAST DAYS means, I have used one week ( trunc(sysdate -7 ) )</p>
