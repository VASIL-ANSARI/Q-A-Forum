<p>See <a href="http://www.php.net/manual/en/ziparchive.addfromstring.php" rel="nofollow"><code>ZipArchive::addFromString()</code></a>.</p>

<pre><code>$file = "../assets/test.jpg";

// capture output into the internal buffer
ob_start();

$img = imagecreatefromjpeg($file);
imagepng($img);

// get contents from the buffer
$contents = ob_get_clean();

$zip = new ZipArchive();
$zip-&gt;open('archive.zip', ZipArchive::CREATE);

// and put them in the zip file...
$zip-&gt;addFromString('name_in_the_zip.png', $contents);
</code></pre>
