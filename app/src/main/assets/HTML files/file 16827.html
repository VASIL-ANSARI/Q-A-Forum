<p>If you don't want to use a third party one (there are some from AMD, Intel, valgrind should have "massif" tool) you could have a look into
<a href="http://en.wikipedia.org/wiki/Mtrace">Mtrace</a>.</p>

<p>Does pretty much what you planned for memory allocation.</p>

<p>Id rather recommend you using valgrinds massif tool, it doesnt have a decent gui/graph but shows procentuals pretty accurate</p>
