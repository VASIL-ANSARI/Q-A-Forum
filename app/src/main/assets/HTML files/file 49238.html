<p>You cannot efficiently allocate the container unless you know big the workload  in your external data file is.</p>

<p>Thus: </p>

<ul>
<li>tokenize the first line of your file and take the dimension N from that  </li>
<li>allocate your container accordingly</li>
<li>then consume the rest of the file and put the data into the container; maybe <code>throw</code> if a row's length doesn't match N, or if there are not N rows.</li>
</ul>

<p>You may consider that </p>

<ul>
<li>representing a graph by a full adjacency matrix is a debatable concept; it's space-inefficient and time-inefficient for sparse graphs</li>
<li>a 2D c-array is not the only possible representation of a matrix; you may consider a flat std container and implement a <a href="http://en.cppreference.com/w/cpp/numeric/valarray/slice" rel="nofollow">slice</a>-style access on it</li>
<li>last not least you may want to have a look at <a href="http://www.boost.org/doc/libs/1_59_0/libs/graph/doc/" rel="nofollow">boost::graph</a>  </li>
</ul>
