<p>Move your code into the enumerate block </p>

<pre><code>[plot.plottingValues enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) {
        NSDictionary *dic = (NSDictionary *)obj;

        [dic enumerateKeysAndObjectsUsingBlock:^(id key, id obj, BOOL *stop) {
            int xIndex = [self getIndexForValue:key forPlot:plot];
            double height = self.bounds.size.height - BOTTOM_MARGIN_TO_LEAVE;
            double y = height - ((height / ([_yAxisRange doubleValue] + yIntervalValue)) * [obj doubleValue]);
            (plot.xPoints[xIndex]).x = ceil((plot.xPoints[xIndex]).x);
            (plot.xPoints[xIndex]).y = ceil(y);
        }];
    }];
</code></pre>
