<p>Try this code,</p>

<pre><code>foreach ($_product-&gt;getOptions() as $optionInfo) :
$values = $optionInfo-&gt;getValues(); 
$valuesArray = array(); // added line
foreach ($values as $values) :
    $valuesArray[$values['option_type_id']] = array("option_type_id" =&gt; $values['option_type_id'], "option_id" =&gt; $values['option_id'], "title" =&gt; $values['title']);
endforeach;

$option = array("id" =&gt; $optionInfo-&gt;getId(), "type" =&gt; $optionInfo-&gt;getType(), "title" =&gt;    $optionInfo-&gt;getTitle(), "values" =&gt; $valuesArray);
$options[$optionInfo-&gt;getId()]= $option;
endforeach;
</code></pre>

<p>The <code>$valuesArray</code> is getting values in each iteration and you never cleared it. So when the outer <code>foreach</code> gets into second loop the <code>$valuesArray</code> gets values in incremental fashion.  If you clear <code>$valuesArray</code> in each iteration of outer <code>foreach</code> you will get what you wanted.</p>
