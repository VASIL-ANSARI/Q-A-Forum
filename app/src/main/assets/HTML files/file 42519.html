<p>WhatsApp application has structure for sending notification like this :</p>

<pre><code>        Case                                 Notification

Message comes from A : Hi                   Title : A    Text: Hi

Message comes from A : How are you          Title : A    Text: How are you

                                            Title : A    Text: 2 new messages


Message comes from B : Hello                Title : B    Text: Hello

                                            Title : B    Text: 1 new message

                                            Title : A    Text: 2 new messages

                     Title : WhatsApp  Text: 3 new messages from 2 conversation
---- Here comes the stacking ----

Message comes from C : Good work            Title : C    Text: Good work

                                            Title : C    Text: 1 new message

                                            Title : B    Text: 1 new message

                                            Title : A    Text: 2 new messages

                     Title : WhatsApp  Text: 4 new messages from 3 conversation


 ---- This way when new sender message comes, previoud notifications also comes and we get callback in NotificationListener ----
</code></pre>

<p>Last notification comes with Title as Package Name : WhatsApp and Text as : X messages from Y Conversation</p>

<p>To get Text : </p>

<pre><code>sbn.getNotification().extras.getCharSequence(Notification.EXTRA_TEXT).toString();
</code></pre>

<p>To get Title : </p>

<pre><code>sbn.getNotification().extras.getCharSequence(Notification.EXTRA_TITLE).toString();
</code></pre>

<p>To work with this sturcture of stacking, we need to parse this notification stack and display only selective information in our application</p>

<p>I hope my answer will help and solve your query</p>
