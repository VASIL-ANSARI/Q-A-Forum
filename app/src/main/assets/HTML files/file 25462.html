<p>From the documentation</p>

<blockquote>
  <p>resize - Developers should trigger this event on the map when the div
  changes size: google.maps.event.trigger(map, 'resize').</p>
</blockquote>

<p>So try <code>google.maps.event.trigger(map, 'resize')</code> after changing the display to block</p>
