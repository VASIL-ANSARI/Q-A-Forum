<p>In this line ,</p>

<p>UIGraphicsBeginImageContextWithOptions(container.bounds.size, container.opaque, 0.0);</p>

<pre><code>put NO instead of container.opaque
</code></pre>

<p>Use this method ,</p>

<pre><code>- (UIImage *)imageOfView:(UIView *)view
{

    if ([[UIScreen mainScreen] respondsToSelector:@selector(scale)]) {
        UIGraphicsBeginImageContextWithOptions(view.bounds.size, NO, 0.0);
    } else {
        UIGraphicsBeginImageContext(view.bounds.size);
    }

    [view.layer renderInContext:UIGraphicsGetCurrentContext()];

    UIImage * img = UIGraphicsGetImageFromCurrentImageContext();

    UIGraphicsEndImageContext();

    return img;
}
</code></pre>
