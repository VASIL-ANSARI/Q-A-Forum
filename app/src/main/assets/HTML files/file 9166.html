<p>The name of the class is a part of the type of the function pointer, which becomes part of the map's type, which becomes part of MyClass. Depending on how strong is the requirement "cannot be hard coded", perhaps a template would be sufficient?</p>

<pre><code>#include &lt;string&gt;
#include &lt;map&gt;
template&lt;typename T&gt;
class Class1
{
    typedef double(T::*memFunc)();
    std::map&lt;std::string, memFunc&gt; funcMap;
 public:
    void addFunc(std::string funcName, memFunc function)
    {
        funcMap.insert(std::pair&lt;std::string, memFunc&gt;(funcName, function));
    }
};

class MyClass
{
 public:
    MyClass()
    {
        class1.addFunc("new function", &amp;MyClass::getValue);
    }
    double getValue()
    {
        return 0;
    }
private:
    Class1&lt;MyClass&gt; class1;
};
int main()
{
     MyClass mc;
}
</code></pre>
