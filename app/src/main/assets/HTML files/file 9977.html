<p>You're supposed to be creating a mock of the Query interface like this...</p>

<pre><code>@Test
public void test() { 

    Query query = mock(Query.class);

    when(entityManager.createNamedQuery(queryName)).thenReturn(query);

    ...
</code></pre>

<p>Maybe you forgot the double quotes around the String literal "queryName". From your code I cannot see where the variable queryName is defined on the last line above.</p>
