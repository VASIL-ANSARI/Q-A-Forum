<p>If you just iterate through the map, you'll get iterators which point to pair in order by key. So if you remember the previous iterator during the iteration, you'll have two consecutive iterators, from which you can fill in your new vectors.</p>

<p>On the other hand, since you can always find the next and previous key in an ordered map (although it does take O(log n) time), it may not really be necessary to go to all the trouble to denormalize the data. If you're using c++11, you'll find std::next and std::prev which will make it really easy to perform these operations. (If not -- why not? -- you can easily define them in terms of std::advance.)</p>
