<p>Use the following logic:</p>

<p>1) Do you have enough bytes to determine the length? If not, receive some more bytes and try again.</p>

<p>2) Do you have enough bytes to have one complete unit? If not, receive some more bytes and try again.</p>

<p>3) Extract one complete unit using the decoded length from step 1 and process it.</p>

<p>4) If we have no leftover bytes, we are done.</p>

<p>5) Return to step 1 to process the leftover bytes.</p>
