<p>I managed to resolve the problem thanks to Maximus2012.</p>

<p>$k is a global variable which i use in giving different elements different names.
The problem was that I forgot to declare it as global in my function,and thus making it give identical values for different elements of my accordion.
Adding the global $k; at the beginning of my function made everything work.</p>

<p>Thanks to all that have made an input here!</p>
