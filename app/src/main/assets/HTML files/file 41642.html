<p>This seems to solve my need, in case anyone else has the same request...</p>

<pre><code>def script_content_for(&amp;block)
  if request.xhr?
    capture_haml(&amp;block)
  else
    content_for :scripts, nil, &amp;block
  end
end
</code></pre>

<p>Use:</p>

<pre><code>= script_content_for do
  :javascript
    {my js}
</code></pre>
