<p>I'm guessing <code>generate_filename</code> is a function. <code>Image.open</code> expects a string or a file object as first parameter. You get this error because PIL tries to call the <code>read</code> method that is present on file objects on a object that is not a file object.</p>

<p>Try this:</p>

<pre><code>im = Image.open(os.path.join(generate_filename()))
</code></pre>

<p>Also, <code>im.thumbnail(im.size)</code> does not seem very useful as you are creating a thumbnail the size of the original image.</p>
