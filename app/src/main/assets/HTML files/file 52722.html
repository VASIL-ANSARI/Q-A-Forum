<p>Your <code>product_features.value</code> is a text field. While Postgres is OK casting all nonzero integers like <code>800</code> to boolean <code>true</code>, it is not OK with casting <code>text</code> like <code>'800'</code> to <code>boolean</code>.</p>

<p>Solution is to check <code>product_features.value</code> on emptiness and/or equality to <code>'0'</code> instead of <code>CAST(product_features.value AS BOOLEAN) = true</code>.</p>
