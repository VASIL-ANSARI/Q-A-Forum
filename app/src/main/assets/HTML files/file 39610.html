<p>There are several ways to do this. Let's first generate some test data:</p>

<pre><code>In [1]: a = np.random.rand(10, 10, 20)

In [2]: b = np.random.randint(20, size=(10,10))  # random integers in range 0..19
</code></pre>

<p>One way to solve the question would be to create two index vectors, where one is a row vector and the other a column vector of 0..9 using <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.meshgrid.html" rel="nofollow">meshgrid</a>:</p>

<pre><code>In [3]: i1, i0 = np.meshgrid(range(10), range(10), sparse=True)

In [4]: c = a[i0, i1, b]
</code></pre>

<p>This works because <code>i0</code>, <code>i1</code> and <code>b</code> will all be broadcasted to 10x10 matrices. Quick test for correctness:</p>

<pre><code>In [5]: all(c[i, j] == a[i, j, b[i, j]] for i in range(10) for j in range(10))
Out[5]: True
</code></pre>

<p>Another way would be to use <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.choose.html" rel="nofollow">choose</a> and <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.rollaxis.html" rel="nofollow">rollaxis</a>:</p>

<pre><code># choose needs a sequence of length 20, so move last axis to front
In [22]: aa = np.rollaxis(a, -1)  

In [23]: c = np.choose(b, aa)

In [24]: all(c[i, j] == a[i, j, b[i, j]] for i in range(10) for j in range(10))
Out[24]: True
</code></pre>
