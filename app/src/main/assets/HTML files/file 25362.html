<p>Well, it makes perfect sense because array cannot have 4 value with the same key. Basically, the value of the key get override with the latest assigned value. To see a clear picture:</p>

<hr>

<pre><code>&lt;?php
    $array1 = array('bean1' =&gt; 'blue', 'bean2' =&gt; null, 
                    'bean3' =&gt; 'red', 'bean4' =&gt; 'white');
    print_r($array1);
?&gt;
</code></pre>

<p>Output</p>

<pre><code>Array
(
    [bean1] =&gt; blue
    [bean2] =&gt; 
    [bean3] =&gt; red
    [bean4] =&gt; white
)
</code></pre>

<hr>

<pre><code>&lt;?php
     $array2 = array('bean' =&gt; 'blue', 'bean' =&gt; null, 
                     'bean' =&gt; 'red', 'bean' =&gt; 'white');
     print_r($array2);
?&gt;
</code></pre>

<p>Output</p>

<pre><code>Array
(
    [bean] =&gt; white
)
</code></pre>

<hr>

<p>I don't know whether this will help, but instead of filter using PHP, why not filter directly with SQL?</p>

<pre><code>SELECT batch FROM test 
WHERE  mfg_code = mfgnum AND
       batch IS NOT NULL
GROUP BY batch ORDER BY batch DESC;
</code></pre>

<p>This will work regardless of any fetch mode.</p>
