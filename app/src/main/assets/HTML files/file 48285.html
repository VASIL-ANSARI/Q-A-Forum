<p>Use this method to get the contents of a view from the current controller as a string:</p>

<pre><code>private string getViewContents(string viewName, object model)
{
  var writer = new StringWriter();

  ViewEngineResult viewResult = ViewEngines.Engines.FindPartialView(ControllerContext, viewName);
  var data = new ViewDataDictionary();
  data.Model = model;

  var viewContext = new ViewContext(ControllerContext, viewResult.View, data, new TempDataDictionary(), writer);
  viewResult.View.Render(viewContext, writer);

  return writer.GetStringBuilder().ToString();
}
</code></pre>
