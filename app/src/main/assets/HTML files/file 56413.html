<p>create method in activity</p>

<pre><code>public ArrayList&lt;Message&gt; fetchAllMessage()
 {
  ArrayList&lt;Message&gt; mArrayList = new ArrayList&lt;&gt;();

  Cursor mCursor = bdd.query(TABLE_MESSAGES, new String[]{COL_ID, COL_TITRE, COL_CONTENU}, null, null, null, null, null);

  if (mCursor != null)
  {
   mCursor.moveToFirst();

   mCursor.moveToFirst();
   while (!mCursor.isAfterLast())
   {
    Message message = new Message();
    message.setTitre(mCursor.getString(mCursor.getColumnIndex(COL_TITRE)));
    message.setId(mCursor.getInt(mCursor.getColumnIndex(COL_ID)));
    message.setContenu(mCursor.getString(mCursor.getColumnIndex(COL_CONTENU)));
    mArrayList.add(message);
    mCursor.moveToNext();
   }
  }
  return mArrayList;

 }
</code></pre>

<p>Add set gridview adapter   </p>

<p>ButtonAdapter adapter   = new ButtonAdapter(this,fetchAllMessage);</p>

<p>gridview.setAdapter(adapter);</p>

<p>ButtonAdapter.java</p>

<pre><code>public class ButtonAdapter extends BaseAdapter
{
 private Context mContext;
 ArrayList&lt;Message&gt; list;
 // Gets the context so it can be used later
 public ButtonAdapter(Context c, ArrayList&lt;Message&gt; list) {
  mContext = c;
  this.list = list;
 }

 // Total number of things contained within the adapter
 public int getCount() {
  return list.size();
 }

  // Require for structure, not really used in my code.
 public Object getItem(int position) {
  return null;
 }

 // Require for structure, not really used in my code. Can
 // be used to get the id of an item in the adapter for 
 // manual control. 
 public long getItemId(int position) {
  return position;
 }

 public View getView(int position,
                     View convertView, ViewGroup parent) {
  Button btn;
  if (convertView == null) {  
   // if it's not recycled, initialize some attributes
   btn = new Button(mContext);
   btn.setLayoutParams(new GridView.LayoutParams(100, 55));
   btn.setPadding(8, 8, 8, 8);
   } 
  else {
   btn = (Button) convertView;
  }
  btn.setText(list.get(position).getTitre());
  // filenames is an array of strings
  btn.setTextColor(Color.WHITE);
  btn.setBackgroundResource(R.drawable.button);
  btn.setId(position);

  return btn;
 }
}
</code></pre>
