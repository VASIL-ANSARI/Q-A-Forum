<p>It looks like the problem was because I did not pass x to the .execute function. I found a <a href="https://github.com/nightwatchjs/nightwatch/issues/353" rel="nofollow">GitHub topic on the issue</a>.</p>

<p>The following code seems to work:</p>

<pre><code>browser.execute(function(x) {
    return document.querySelectorAll("div.field-item.even *:not(a):nth-child(" + x + ") a").length;
}, [x],
function(links){
    console.log("a total: " + links.value);
});
</code></pre>
