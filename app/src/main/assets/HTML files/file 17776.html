<p>Your consumer code doesn't actually give the consumer any time to consume the message.  An async consumer is used when the consumer will live on for some time and your app can process the incoming messages.  In the above code you'd be better off using the timed receive method from MessageConsumer e.g. consumer.receive(5000) or some such suitable time period for you app.  You consumer is not guaranteed to get a message immediately upon creation as it takes time for the broker to register the consumer and route a message to it, so you have to allow for that in your app. </p>
