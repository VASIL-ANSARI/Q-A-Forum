<p>The exception clearly states <code>TypeError: 'NoneType' object does not support item assignment</code> this suggests that <code>self._rooms</code> is actually <code>None</code></p>

<p>Edit:
As you said yourself</p>

<pre><code>self._rooms = {} 
</code></pre>

<p>or </p>

<pre><code>self._rooms = dict()
</code></pre>

<p>Will do what you need to clear the dict</p>
