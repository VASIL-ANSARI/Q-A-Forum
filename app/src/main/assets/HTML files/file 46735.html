<p>You can try checking if <code>PFUser.currentUser() != nil</code> instead to make sure it's being set right after login. If it's not being set right off the bat, you know there is a deeper login problem.</p>

<p>Also, try removing the <code>dispatch_async(dispatch_get_main_queue()){</code> wrapper around your call to the segue. </p>

<p>It's unnecessary (logInWithUsernameInBackground already returns to the main thread) and I have a hunch that it's creating a racing condition where the local object is not being set first because Parse can't do any post-call cleanup since you're going right for the main thread.</p>
