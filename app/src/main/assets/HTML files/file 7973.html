<p>Valgrind gives me this:</p>

<pre><code>==14188== Invalid free() / delete / delete[]
==14188==    at 0x4C27A83: operator delete(void*) (vg_replace_malloc.c:387)
==14188==    by 0xE1C3D7C: point_free_storage(void*) (geometry.cpp:24)
</code></pre>

<p>So, at some point, this line:</p>

<pre><code>delete obj-&gt;point;
</code></pre>

<p>... is executed while <code>obj-&gt;point</code> is not an actual pointer. Removing the <code>delete</code> call will most probably remove the error as well (although a leak will most likely occur, because <code>obj-&gt;point</code> <em>will be</em> a pointer in some instances).</p>

<p>From what I can see, <code>Polygon::get</code> does not return a pointer, it returns a reference. Since it's not a pointer, calling <code>delete</code> on it will give you an <code>Invalid free()</code> error.</p>
