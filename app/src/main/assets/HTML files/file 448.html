<p>One way to do this is to have a type field as the first byte of the structure.  Your receiving function looks at this byte and then casts the pointer to the correct type based on what it discovers.  Another approach is to pass the type information as a separate parameter to each function that needs it. </p>
