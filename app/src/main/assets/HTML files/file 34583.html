<p>The warning is regarding this line:</p>

<pre><code>if (prime) return true;
</code></pre>

<p>This doesn't call the function, it just tests the value of the function pointer. Since it's not a null pointer, it's always true.</p>

<p>If you reach that point in the function, none of the tests for divisors succeeded, so you should just return <code>true</code> without testing anything.</p>

<p>The reason your program takes so long to return an answer is because you're using an inefficient method to test for primes.  You should only be testing other primes, using the <a href="http://en.wikipedia.org/wiki/Sieve_of_Eratosthenes" rel="nofollow">Sieve of Eratosthenes</a>. Also, you should call <code>sqrt(n)</code> just once, before the loop, and save its value in a variable; calculating the square root is expensive, so you don't want to do it every time.</p>
