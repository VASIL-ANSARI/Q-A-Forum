<p><code>$action</code> is surely undefined. From your code it appears like you expect that to be the HTML hidden field named <strong>action</strong> that you've defined in your form. That error is simply saying you are trying to run a switch statement on something that doesn't exist. For that you should initialize it first.</p>

<pre><code>if(isset($_POST['action']))
  $action = $_POST['action'];  // This is missing
else
  die("No action defined");

switch ($action)
{
....
}
</code></pre>
