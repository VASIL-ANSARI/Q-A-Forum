<p>Ok, with a bit of help from a friend, I've found something that works:</p>

<pre><code>function new_mail_from($old) {
  $custom_email = 'notifications@'.str_replace('www.','', $_SERVER['SERVER_NAME']);
  return $custom_email;
}
</code></pre>

<p>So basically all I need is to put <code>$custom_email</code> inside the function. </p>

<p><strong>@MadBreaks</strong> Now... I know your advice was to avoid <code>str_replace</code>, but I didn't manage to understand <code>parse_url</code> and how to use it. Why isn't <code>str_replace</code> a good choice?</p>

<p><strong>@Victory</strong> <code>$_SERVER['SERVER_NAME']</code> and <code>$_SERVER['HTTP_HOST']</code> did for me the same thing. Could you please tell me what's the difference? Or pros and cons in using each of them in this situation? Thank you.</p>
