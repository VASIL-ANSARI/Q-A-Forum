<p>Just a guess: Not everything returned by <code>Dir.foreach(Dir.pwd)</code> is a file that can be read. Some of them are directories.</p>
