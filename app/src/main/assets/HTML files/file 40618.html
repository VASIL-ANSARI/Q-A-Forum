<p>Sure, but you just have to call it in a loop. On each loop iteration, read the old value. If it's null, break out of the loop and return failure. If it's not null, use that old value as the "expected" for atomic compare-and-exchange. If it succeeds, exit the loop and return success. Otherwise repeat.</p>

<p>By the way, this general approach is how you construct arbitrary atomic operations on top of compare-and-exchange.</p>
