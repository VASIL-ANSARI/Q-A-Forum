<p>Try this:</p>

<p>Check if array empty then add array as described below:</p>

<pre><code>$val = '';
foreach($data['deptIDid']['userid'] as $key=&gt;$d) {
 if(trim($data['deptIDid']['userid'][$key]['bookname']) != '') {
    $val= $data['deptIDid']['userid'][$key]['bookname'];
 }
 if(empty($d) || $data['deptIDid']['userid'][$key]['bookname'] == '') {
    $data['deptIDid']['userid'][$key] = array('bookname'=&gt; $val,'return'=&gt; 'false');
 }
}
print '&lt;pre&gt;';print_r($data);
exit;
</code></pre>

<p>Output:</p>

<pre><code>Array
(
    [deptIDid] =&gt; Array
        (
            [userid] =&gt; Array
                (
                    [12:00] =&gt; Array
                        (
                            [bookname] =&gt; Chemistry
                            [return] =&gt; false
                        )

                    [12:01] =&gt; Array
                        (
                            [bookname] =&gt; Chemistry
                            [return] =&gt; false
                        )

                    [12:02] =&gt; Array
                        (
                            [bookname] =&gt; Chemistry
                            [return] =&gt; false
                        )

                    [12:03] =&gt; Array
                        (
                            [bookname] =&gt; Chemistry
                            [return] =&gt; false
                        )

                    [12:04] =&gt; Array
                        (
                            [bookname] =&gt; Chemistry
                            [return] =&gt; false
                        )

                    [12:05] =&gt; Array
                        (
                            [bookname] =&gt; Chemistry
                            [return] =&gt; false
                        )

                    [12:06] =&gt; Array
                        (
                            [bookname] =&gt; Chemistry
                            [return] =&gt; false
                        )

                    [12:07] =&gt; Array
                        (
                            [bookname] =&gt; Chemistry
                            [return] =&gt; false
                        )

                    [12:08] =&gt; Array
                        (
                            [bookname] =&gt; Math
                            [return] =&gt; false
                        )

                    [12:09] =&gt; Array
                        (
                            [bookname] =&gt; Math
                            [return] =&gt; false
                        )

                    [12:10] =&gt; Array
                        (
                            [bookname] =&gt; Math
                            [return] =&gt; false
                        )

                    [12:11] =&gt; Array
                        (
                            [bookname] =&gt; Math
                            [return] =&gt; false
                        )

                    [12:12] =&gt; Array
                        (
                            [bookname] =&gt; Math
                            [return] =&gt; false
                        )

                )

        )

)
</code></pre>
