<p>If the float value you're looking for is <strong>always</strong> between <code>kg/m3</code> and <code></code> (space) you can use <code>strstr</code> to exctract the piece of string and then convert to float.</p>

<p><a href="http://www.cplusplus.com/reference/cstring/strstr/" rel="nofollow">http://www.cplusplus.com/reference/cstring/strstr/</a></p>

<pre><code>char *start;
char *end;
double val;

start = strstr( buffer, "kg/m3 " );
start += 6;
end = strstr( start, " " );
*end = 0;

val = atof( start );
*end = ' ';
</code></pre>

<p>Note that I look for the termination space and convert to null termination character.</p>

<p>So <code>atof</code> parses buffer starting from <code>start</code> and stops after the last digit.</p>

<p>Later I restore the space to leave the original string unchanged.</p>
