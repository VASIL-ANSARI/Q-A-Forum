<p>This is by design. The main window is a <code>window</code>, but so the button is a <code>window</code>, and only one can have focus at any given time. If you don't want the button to "steal" the focus, add an OnFocus handler (or intercept <code>WM_SETFOCUS</code>) and immediately return focus to the previous window (I believe it's in the <code>WPARAM</code> of <code>WM_SETFOCUS</code>).  </p>

<p>An easy hack would be:  </p>

<ol>
<li>hMyButton = CreateWindow("button", ...).</li>
<li>Define a MyButtonProc(HWND, UINT, WPARAM, LPARAM) function.</li>
<li>Call SetWindowLong(hMyButton, GWL_WNDPROC, (LONG)MyButtonProc). Save the value returned by this function in a g_OldButtonProc.</li>
<li>Inside MyButtonProc() catch WM_SETFOCUS, and call SetFocus(hMyMainWindow).
Always return CallWindowProc(h_OldButtonProc, hwnd, msg, ...) at the end of your MyButtonProc() function, unless the message was WM_SETFOCUS.</li>
</ol>

<p>That will do the trick (tested).</p>
