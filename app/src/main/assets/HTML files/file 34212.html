<p>Don't use <code>.html()</code> because everything you have is a jQuery object, not raw HTML, instead append the cell to the row:</p>

<pre><code>trRow2.append(tdMessage);

trRow1.append(tdBar);
</code></pre>

<p>Then append the rows to the table:</p>

<pre><code>tblInner
    .append(trRow1)
    .append(trRow2);
</code></pre>

<p>Do the same with your div when you want to insert it into the cell:</p>

<pre><code>tdBar.append(divBar);
</code></pre>
