<p>I think you might want to try @AfterMethod, instead of @AfterTest.</p>

<p>@AfterTest only runs once, after all of the @Test methods have run.</p>

<p>See the TestNG annotations documentation:</p>

<p><a href="http://testng.org/doc/documentation-main.html#annotations">http://testng.org/doc/documentation-main.html#annotations</a></p>

<p>@AfterMethod: The annotated method will be run after each test method. </p>

<p>@AfterTest: The annotated method will be run after all the test methods belonging to the classes inside the  tag have run. </p>

<p>Good Luck!</p>
