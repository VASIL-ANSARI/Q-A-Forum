<p>You are changing the source of the image, forcing it to reload and triggering onload again.</p>

<p>Probably the quickest fix would be something like:</p>

<pre><code>if (img.src != src) {
    img.src = src;
}
</code></pre>

<p>avoiding the reload if the src hasn't changed. I'm going to guess that later browsers already have this check built in, but even those are going to run your <code>onload</code> handler twice.</p>
