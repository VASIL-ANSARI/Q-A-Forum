<p>In the thread a automatic variable <code>left</code> is defined and initialized:</p>

<pre><code>struct ThreadData left, right;
</code></pre>

<p>then under certain conditions that variable is passed to a newly created thread. This is not done under any kind of locking mechanism:</p>

<pre><code>pthread_create( &amp;threadPool[left.threadID], NULL, &amp;quick_sort, (void*)&amp;left );
</code></pre>

<p>Immediately after creating that thread and passing <code>left</code> to it, the current thread can immediately exit, while at the same time the created thread still runs and uses the variable <code>left</code>:</p>

<pre><code>if ( pivot_index &lt; data-&gt;high )
    quick_sort( (void*)&amp;right );

return NULL;
</code></pre>

<p>then the variable <code>left</code> stops existing, while still being used, causing undefined behavior.</p>

<p>Solution is to use allocated variables, i.e. use malloc, pass those variables to the created threads and free them when they are no longer used.</p>
