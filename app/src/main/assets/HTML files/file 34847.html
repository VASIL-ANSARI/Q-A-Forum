<p>You should really read up on a few things: HTTP (and the distinction between request header fields and the post body), and the structure of a multipart/form-data post body.</p>

<p>This:</p>

<pre><code>         conn.setRequestProperty("Connection", "Keep-Alive");
         conn.setRequestProperty("ENCTYPE", "multipart/form-data");
         conn.setRequestProperty("Content-Type", "multipart/form-data;boundary=" + boundary);
         conn.setRequestProperty("file", fileName); 
         conn.setRequestProperty("gmail", names[0]);
         conn.setRequestProperty("phn", phn);
</code></pre>

<p>sends a few <strong>request headers</strong>, which is fine for <code>Content-Type</code> and such, but not necessarily for the data you're posting. Lose all but the <code>Content-Type</code> line.</p>

<p>This:</p>

<pre><code>         dos.writeBytes(twoHyphens + boundary + lineEnd); 
</code></pre>

<p>is the right way to start a post field (or file), you should output this for every posted field.</p>

<p>This:</p>

<pre><code>         dos.writeBytes(twoHyphens + boundary + twoHyphens + lineEnd);
</code></pre>

<p>signals that all fields have been sent, you should send this as the very last line.</p>

<p>Either use something like Wireshark to see what your final request looks like (either side will do; the device doing the request or the server handling it), or log your request so you can inspect it, and see if it is perfect. It has to be nearly perfect for the webserver/php to process it correctly.</p>
