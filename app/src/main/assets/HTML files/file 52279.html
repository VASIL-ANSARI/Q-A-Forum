<p>You could probably do this in Javascript instead. Using data-attributes you get some nice integration:
HTML:</p>

<pre><code>&lt;div class="box container-fluid" data-url="insert_url_here"&gt;
    &lt;!-- ... --&gt;
&lt;/div&gt;
</code></pre>

<p>Javascript (using jQuery):</p>

<pre><code>$("[data-url]").each(function() {
    var url = $(this).data("url"), img = new Image(), width, height, ratio;

    img.src = url;

    width = img.width;
    height = img.height;
    ratio = width / height;

    var newHeight = $(this).width() / ratio;
    $(this).css({
        "background": "url(" + url + ") no-repeat",
        "background-size": "cover"
        "height": newHeight + "px"});
});
</code></pre>
