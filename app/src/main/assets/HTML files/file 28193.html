<p>Given the size of this block of memory, you should instead allocate it with either <code>new[]</code> or <code>malloc</code> and <code>delete[]</code> or <code>free</code> it as appropriate. Or, if you're using C++, you should use <code>std::vector</code> or some other heap-allocated container.</p>

<p>The reason it is still crashing is because it's still trying to allocate more than some limit on the still-limited stack space, before you even try to adjust it. Variables in automatic storage (that is, on the stack) are allocated <em>before</em> the function executes.</p>
