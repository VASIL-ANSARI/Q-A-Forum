<p>First off - the call to System.exit() will break your test.</p>

<p>Second - not a good idea to mock the <code>System</code> class. It makes more sense to redirect System.out to a fake or stub. </p>

<p>Third - Reading stuff from System.in will be tricky to do from test as well.</p>

<p>Apart from that: I've taken the liberty to reduce the code for readability:</p>

<pre><code>public class WritesOut {

    public static void doIt() {
           System.out.println("did it!");
    }

}
</code></pre>

<p>Test should test if Line was printed to System.out:</p>

<pre><code>import static org.junit.Assert.*;

import java.io.ByteArrayOutputStream;
import java.io.PrintStream;

import org.junit.Test;

public class WritesOutTestUsingStub {

    @Test
    public void testDoIt() throws Exception {
        //Redirect System.out to buffer
        ByteArrayOutputStream bo = new ByteArrayOutputStream();
        System.setOut(new PrintStream(bo));
        MockOut.doIt();
        bo.flush();
        String allWrittenLines = new String(bo.toByteArray()); 
        assertTrue(allWrittenLines.contains("did it!"));
    }

}
</code></pre>
