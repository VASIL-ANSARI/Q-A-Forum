<p>Did you try to use NSOperationQueue? You can use </p>

<pre><code>[NSOperationQueue currentQueue]
</code></pre>

<p>and </p>

<pre><code>[NSOperationQueue mainQueue]
</code></pre>

<p>and NSOperationQueue method â addOperations:waitUntilFinished: to wait for finishing operation.</p>
