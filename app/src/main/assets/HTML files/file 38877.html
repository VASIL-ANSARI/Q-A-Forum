<p>From my understanding, this is what your php code does:</p>

<pre><code>var data = {};
json.forEach(function (item) {
    item.dependedOnBy = [];
    data[item.name] = item;
});

var errors = [];
Object.keys(data).forEach(function (name) {
    data[name].depends.forEach(function (dep) {
        if(!data[dep])
            errors.push( "Unrecognized dependency: " + name + " depends on " + dep);
        else
            data[name].dependedOnBy.push(data[dep]);
    });
});
</code></pre>

<p><a href="http://jsfiddle.net/yqqdr5bt/" rel="nofollow">http://jsfiddle.net/yqqdr5bt/</a></p>
