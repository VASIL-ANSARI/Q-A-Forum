<p>I guess you want something like this:</p>

<pre><code>contents = IO.read(filename)
replaced = contents.gsub(/# "replaced string starting"\n(.*)# "replaced string ending"/m, replace_contents)
IO.write(output_filename, replaced)
</code></pre>

<p><code>IO.read</code> reads the whole file as a single text string, <code>gsub(/.../m, replaced_contents)</code> replaces the block within the two comments with what you would like there instead, and <code>IO.write</code> writes it back to an output file.</p>
