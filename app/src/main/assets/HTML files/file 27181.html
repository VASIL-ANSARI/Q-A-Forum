<p><code>this</code> inside the <code>each</code> loop refers to the current <code>mainImage</code> which is being looped through not the clicked <code>div-text</code> element.</p>

<p>A possible solution is to use a closure variable as shown below</p>

<pre><code>$(".div-text").click(function (e) {
    e.preventDefault();
    var self = this;
    $(this).parents(".items").find("img.mainImage").each(function () {
        // following this should correspond to mainImage elements and not outside "this"
        alert($(self).data("src"))
    })
});
</code></pre>
