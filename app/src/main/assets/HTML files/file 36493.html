<p>In this connection string, the SQL Server is called <code>server</code> and the port number is <code>portnumber</code>. Clearly you are not using this when connecting through SSMS. Why don't you alter this connection string to match whatever works in SSMS.</p>

<p>It should probably at least be <code>localhost</code> instead of <code>server</code>:</p>

<pre><code>connectionString="
metadata=res://*/ModelName.csdl|
res://*/ModelName.ssdl|
res://*/ModelName.msl;
provider=System.Data.SqlClient;
provider connection string=&amp;quot;
    data source=localhost;initial catalog=dbname;
persist security info=True;
user id=user;
password=password;
MultipleActiveResultSets=True;&amp;quot;"
</code></pre>

<p>(carriage returns are just for clarity)</p>
