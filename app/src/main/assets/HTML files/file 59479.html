<p>For copy elision, you need to have the "copy" in the first place, i.e. your <code>res</code> vector has to be copy constructed from the return value.<br>
Otherwise you'll just have an assignment, which requires getting rid of whatever was in the vector and as such cannot be elided.</p>

<p>Notice that it would still be a move assignment, so the drawback won't be that much (You can test it with memcheck too).</p>
