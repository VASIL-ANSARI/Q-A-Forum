<p>In iOS 6, Safari sends the file with the initial post, including the file. That means the file stream is at the end, or "exhausted." </p>

<p>However, with NTLM, it will get a 401 challenge in response, and then have to resend the post with the authentication information. Since it does not reset the file stream, it is unable to send the file again with the second post. You can see this in the IIS logs.</p>

<p>As far as I know, there is no particularly good way around it. I am changing my mobile app, so that it uses form authentication. I direct the mobile app to a separate login app on the same server, which is set to use Windows Authentication. The login app can then redirect back to  the main app with a form authentication cookie, and all is well again.</p>

<p>You have to set the machine key on both apps in the web.config file, so that both are using the same keys for encryption and validation.</p>

<p>The code on the login app is as simple as</p>

<pre><code>Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) _ 
Handles Me.Load
    With HttpContext.Current.User.Identity
        If .IsAuthenticated Then
            Dim sUser As String = .Name.ToLower.Trim
            FormsAuthentication.RedirectFromLoginPage(s, False)
        End If
    End With
End Sub
</code></pre>
