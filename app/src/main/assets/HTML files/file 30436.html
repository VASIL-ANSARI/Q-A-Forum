<h2>Getting the profile pictures</h2>

<p>Assuming you have the user's username, you can get the profile picture from this URL: <code>https://graph.facebook.com/{username}/picture</code></p>

<p>For example, if you wanted my picture, you could grab the image from <code>https://graph.facebook.com/hawkw/picture</code></p>

<p>You could use <code>file_get_contents</code> in PHP to retrieve the image.</p>

<p>If you want to get a specific size image, you can use the url <code>https://graph.facebook.com/{username}/picture?type={size}</code>, replacing {size} with <code>square</code>, <code>small</code>, <code>normal</code>, or <code>large</code>, depending on what size you want. Alternatively, you can specify specific image sizes with <code>https://graph.facebook.com/{username}/picture?width={width}&amp;height={height}</code>.</p>

<h2>Storing them in the DB</h2>

<p>First, you're gonna want to make a table to store your images. I'll let you figure that out yourself based on the DB schema you're using. The images should be stored as <code>BLOB</code>s.</p>

<p>Then you'll want to connect to the DB. Here's some sample code for opening a DB connection:</p>

<pre><code>// Make the connect to MySQL or die
// and display an error.
$link = mysql_connect($host, $username, $password);
if (!$link) {
     die('Could not connect: ' . mysql_error());
}

// Select your database
mysql_select_db ($database);
</code></pre>

<p>You should then insert the images into the table using a query that looks something like this:</p>

<pre><code>$query = "INSERT INTO images_table ";
$query .= "(image) VALUES ('$data')";
</code></pre>

<p>And then call</p>

<pre><code>$succeeded = mysql_query($query, $img);
</code></pre>

<p>Note that I'm assigning the results of <code>mysql_query</code> to a variable called <code>$succeeded</code> because <code>mysql_query</code> returns a boolean that you can use to determine if the <code>INSERT</code> command succeeded or not - it should be <code>TRUE</code> if the image was successfully inserted. This will allow you to respond to errors in the DB insert process.</p>

<h2>References</h2>

<p>Please note that I've never actually used PHP (and I don't really ever plan on it) - this is all the result of a few Google searches. I haven't tested any of this code, so it may not work right out of the box, but it should be enough to get you going in the right direction.</p>

<p><a href="https://developers.facebook.com/docs/graph-api/reference/user/" rel="nofollow">Facebook API Reference</a></p>

<p><a href="http://forum.codecall.net/topic/40286-tutorial-storing-images-in-mysql-with-php/" rel="nofollow">Tutorial: Storing images in MySQL with PHP</a></p>
