<p>Calling <code>setErrorPage</code> method won't change your <code>pageToGo</code>  local variable and thus always the same view is used. Change it to something like:</p>

<pre><code>pageToGo = setErrorPage("That user is already logged in.");
</code></pre>

<p>(or even consider rename it to <code>getErrorPage</code>)</p>
