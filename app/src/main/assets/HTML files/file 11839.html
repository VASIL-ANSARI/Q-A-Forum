<p>Well in that case, z will be 1, and log(1) is 0.  Also, "y" will be 0 because u == d.</p>

<p>As is mentioned in the comments on the question, and as is clear from the linked .png file, you need to set "z" from the max of the absolute value of "x" and 1.  When "u" and "d" are the same however it'll always be zero anyway.</p>
