<p>You read the entirety of File2 in the second while-loop, but you need to then reset the internal pointer in File2 back to the beginning of the file for subsequent searches, which you can do by adding this line after the second while-loop:</p>

<pre><code>rewind(file2);
</code></pre>

<p>or if you prefer:</p>

<pre><code>fseek(file2, 0, SEEK_SET);
</code></pre>
