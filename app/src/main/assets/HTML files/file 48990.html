<p>Since you are using jQuery to generate the TOC, you can as well use it to generate the anchor links by extending your JS just a little bit:</p>

<pre><code>&lt;script&gt;
  $headings = $("h2, h3");
  $.each($headings, function(index, value){
    $(value).attr("id", index);
    $("#toc-container").append(
      "&lt;li&gt;&lt;a href=\"#" +
      index + "\"&gt;" + $(value).html() + "&lt;/a&gt;&lt;/li&gt;"
    );
  });
&lt;/script&gt;
</code></pre>

<p><strong><a href="http://jsfiddle.net/janklimo/omyxvhtg/" rel="nofollow">Working JSFiddle</a>.</strong></p>
