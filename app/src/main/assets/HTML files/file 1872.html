<p>I would generally test the module in as much isolation as possible, essentially testing the methods, with just enough code, mocks and stubs to get it working. </p>

<p>I would then probably also have tests for the classes the modules is included in. I may not test every class, but would test enough of the classes to get good coverage and have insight into any issues that arise. These tests don't need to explicitly test the module, but would certainly test it's usage in particular scenarios. </p>

<p>Each set of tests would have its own file. </p>
