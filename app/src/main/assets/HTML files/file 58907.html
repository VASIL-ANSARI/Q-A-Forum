<p>Ok, first think about your methdology here.</p>

<pre><code>If (the file exists) {
    Decrypt the file
    Read the contents
    Encrypt it again
} else {
    Enter text
    Save as a different file name than above
    Encrypt the file
}
</code></pre>

<p>When you decrypting the file, you are trying to decrypt the file on the disk leaving it unencrypted.
You then read the content, and encrypt it again.</p>

<p>This approach assumes that you are decrypting the file to the disk, then reading the contents, however this is not the correct usage.</p>

<p><a href="https://support.microsoft.com/en-us/kb/301070" rel="nofollow">https://support.microsoft.com/en-us/kb/301070</a></p>

<p>You mentioned you don't want to hash the data, but assuming that you will be using a suitable complex salt and key, you can store these in the program for use in a proven hashing algorithm.</p>

<p>Somebody could potentially retrieve these by decompiling the IL code, but it's still more secure than decrypting on the disk.</p>

<p>Have a read of the following article which will explain a few factors of secure hashing you might find useful.
<a href="https://crackstation.net/hashing-security.htm" rel="nofollow">https://crackstation.net/hashing-security.htm</a></p>

<p>Part of the issue you might have with <code>File.Encrypt</code> is that it is not universally supported across windows platforms, which to my mind makes it close to useless.</p>

<p>Fundamentally, if you're intending to decrypt the data for use in your program, I doubt your main concern is somebody cracking a network and getting access to company secrets, more keeping people from messing with configuration data or similar.
Hashes with salt using keys stored in code is perfectly fine for this, but will not satisfy any serious security concerns in an enterprise grade application.</p>

<p>This article will walk your through the process. Instead of asking for a password, you can store the cipher as a string in your program if you would like, although if you included a login prompt for your program, you could use the example code pretty much unchanged.</p>

<p><a href="https://msdn.microsoft.com/en-us/library/ms172831.aspx" rel="nofollow">https://msdn.microsoft.com/en-us/library/ms172831.aspx</a></p>
