<p>the max() function needs to be defined in the beginning of the file. <code>cin.ignore()</code> works very well to clear the buffer, however you need the numeric limits function max(), which in my case was giving error.</p>

<p>Solution:</p>

<pre><code>#ifdef max
#define max
#endif
</code></pre>

<p>add these lines on the top, and a function such as following will work fine.</p>

<pre><code>int id;
bool b;
do {
    cout &lt;&lt; "Enter id: ";
    cin &gt;&gt; id;
    b = cin.fail();
    cin.clear();
    cin.ignore(numeric_limits&lt;streamsize&gt;::max(), '\n');
} while ( b == true);
</code></pre>

<p>P.S: Thanks @Nathan</p>
