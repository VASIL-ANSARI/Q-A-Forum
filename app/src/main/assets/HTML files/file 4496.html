<p>Maybe there are additional requirements you haven't told us about, but from what you have so far, you can pass the type down through the containing class:</p>

<pre><code>template&lt;typename TImage&gt;
class MyMainClass
{
   ImageSegmentation&lt;TImage&gt; MyImageSegmentation;
};
</code></pre>

<p>Most likely you'll need some layer of dynamic dispatch, but only at the highest level of abstraction:</p>

<pre><code>struct IMainClass
{
   virtual bool SaveToFile(std::string filename) = 0;
   virtual bool ApplySharpenFilter(int level) = 0;
   ...
};

template&lt;typename TImage&gt;
class MyMainClass : public IMainClass
{
   ImageSegmentation&lt;TImage&gt; MyImageSegmentation;
public:
   virtual bool SaveToFile(std::string filename);
   virtual bool ApplySharpenFilter(int level);
};

IMainClass* pMain = new MyMainClass&lt;GrayscaleImage&gt;();
</code></pre>
