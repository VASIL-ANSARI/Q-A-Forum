<p>When your page loads for the first time (unless it was the action of another page), the REQUEST_METHOD is 'GET'; as a result, no POST variables exist (although the $_POST superglobal exists). <br />
When you POST, either from another page, or from the same page, all the data set in the form will be present in the $_POST superglobal, and can be accessed the way you accessed them earlier; unfortunately, if a data is not present, and you try to access it, an error will be thrown, similar to what you have. <br />
To solve the issue, especially if you want to post to the same page as the form, use something like <br /></p>

<pre>
  if (isset($_POST["username"]))
   {
      // do whatever
   }
  if (isset($_POST["password"]))
   {
      // do whatever
   }
  if (isset($_POST["firstname"]))
   {
      // do whatever
   }
  if (isset($_POST["surname"]))
   {
      // do whatever
   }
</pre>

<p>With that, your code won't throw an error if those data aren't present. <br />
Hope that helps. <br />
On an unrelated, but important note, do not use mysql_* functions anymore. They have been deprecated; use mysqli or PDO functions for data access. <br /> <br /> <br />
Happy coding!</p>
