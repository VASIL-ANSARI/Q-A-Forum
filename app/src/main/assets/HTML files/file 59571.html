<p>You don't need to manually push to heroku on <code>after_success</code>. Just having the <code>deploy</code> with your encrypted credentials is enough to automatically deploy after the build. So try removing the <code>after_success</code> commands and everything should work.</p>

<p>For more information, check <a href="https://docs.travis-ci.com/user/deployment/heroku" rel="nofollow">here</a></p>

<p>If you need to store your credentials to be used on Travis, you can add secure environment to Travis. Go to <code>More options &gt; Settings</code> there you can add the credentials as environment variables. Just make sure <code>Display value in build log</code> is set as off</p>
