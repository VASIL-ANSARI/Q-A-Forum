<p>NullpointerException is thrown because you are trying to use service context before service is instantiated. buildSession() function, which is trying to load shared preferences, is called in class members declaration:</p>

<pre><code>AndroidAuthSession session = buildSession();
</code></pre>

<p>Just move your class member initialization to onCreate method:</p>

<pre><code>AppKeyPair appKeys;
AndroidAuthSession session;
DropboxAPI&lt;AndroidAuthSession&gt; mDBApi;

@Override
public void onCreate() {
    super.onCreate();
    appKeys = new AppKeyPair(APP_KEY, APP_SECRET);
    //    AndroidAuthSession session = new AndroidAuthSession(appKeys, ACCESS_TYPE);
    session = buildSession();
    mDBApi = new DropboxAPI&lt;AndroidAuthSession&gt;(session);
}
</code></pre>
