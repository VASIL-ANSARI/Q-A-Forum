<p>In MySQL, probably the easiest way to do this is using variables:</p>

<pre><code>select distinct student_id
from (select t.*,
             (@rn := if(@sp = concat(student_id, ':', value), @rn + 1,
                        if(@sp := concat(student_id, ':', value), 1, 1)
                       )
             ) as rn
      from table t cross join
           (select @rn := 0, @sp := '') vars
      order by student_id, date
     ) t
where rn = 5 and value = 'passed'
</code></pre>

<p>The subquery enumerates the rows for each student by date and value.  The outer query selects the distinct students where the enumerated value is 5 and the value is "passed".</p>
