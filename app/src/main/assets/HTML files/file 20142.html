<p>I just generated 100,000,000 random floats and did the same indexing you describe. Memory usage was well under a gigabyte throughout. What else is your code doing that you are not telling us about? Try running your code through the excellent <a href="http://pypi.python.org/pypi/memory_profiler" rel="nofollow">memory_profiler</a>.</p>

<hr>

<p>Edit: Added code and output of memory_profiler:</p>

<pre><code>from numpy.random import uniform
import numpy

@profile
def go(m=3):
    data = uniform(size=100000000)
    dc = numpy.median(data)
    data[numpy.absolute(data-dc) &lt; m*numpy.std(data)] = dc
    return data

if __name__ == '__main__':
    go()
</code></pre>

<p>Output:</p>

<pre><code>Filename: example.py

Line #    Mem usage    Increment   Line Contents
================================================
     3                             @profile
     4     15.89 MB      0.00 MB   def go(m=3):
     5    778.84 MB    762.95 MB    data = uniform(size=100000000)
     6    778.91 MB      0.06 MB    dc = numpy.median(data)
     7    874.34 MB     95.44 MB    data[numpy.absolute(data-dc) &lt; m*numpy.std(data)] = dc
     8    874.34 MB      0.00 MB    return data
</code></pre>

<p>As you can see, 100M floats do not use up that much memory.</p>
