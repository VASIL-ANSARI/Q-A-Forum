<p>I'd rather advise you to follow the steps in below pseudo code to achieve this. </p>

<p>1) Define default value for valid indicator column value as false. </p>

<pre><code>private void saveObject(){
  dbObj = repo.find(..) 
  EntityManager em = emf.createEntityManager();
  EntityTransaction tx = em.getTransaction();
  dbObj.setValid(false);
  tx.persist(dbObj);
  em.flush();

  newObj(a1,b1,true);
  tx.persist(newObj);
  em.flush();

tx.commit();
}
</code></pre>
