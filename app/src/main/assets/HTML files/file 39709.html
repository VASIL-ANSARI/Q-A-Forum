<p>As per definition the line</p>

<pre><code>$stmt = mysqli_prepare($con, "UPDATE xxx SET yyy = ?, zzz = ?, timecheck = NOW(), aaa = ? WHERE bbb = '$ccc'");
</code></pre>

<p>can return false in error case (see definition here <a href="http://php.net/manual/de/mysqli.prepare.php" rel="nofollow">http://php.net/manual/de/mysqli.prepare.php</a>)</p>

<p>Your code is not considering that case.
As all your other used mysqli functions expect a mysqli_stmt Object you get those errors.</p>

<p>You should use code like this:</p>

<pre><code>$con = mysqli_connect("host", "user", "pw", "database");

/* check connection */
if (mysqli_connect_errno())
{
    printf("Connect failed: %s\n", mysqli_connect_error());
    exit();
}

if ($stmt = mysqli_prepare($con, "UPDATE xxx SET yyy = ?, zzz = ?, timecheck = NOW(), aaa = ? WHERE bbb = '$ccc'"))
{
    mysqli_stmt_bind_param($stmt, "dss", $abc, $def, $ghi);
    mysqli_stmt_execute($stmt);
    mysqli_stmt_close($stmt);
}

mysqli_close($con);
</code></pre>
