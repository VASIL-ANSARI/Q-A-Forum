<p>From the language point of view, you can make that compile by declaring the <code>Dictionary</code> template before you define the <code>DynamicCollection</code> type, and then defining <code>Dictionary</code> before you define <code>DynamicCollection&lt;ValueType&gt;::GroupBy</code></p>

<p>That being said, while you can make it compile, you still have a cyclic dependency, and that is often a <em>smell</em> on the design. There are different techniques to remove cyclic dependencies, the most common one is to split into more components and moving a part of the code to a higher/lower level.  In this particular case, you might want to consider making <code>GroupBy</code> a free function or utility outside of <code>DynamicCollection</code>, this way the dependencies would turn into:</p>

<pre><code>    GroupBy -- free function or component
       v
   Dictionary
       v
DynamicCollection
</code></pre>

<p>Without having a complete view of the design or even the problem to solve it is hard to say whether this is the best solution, but the general approach should work regardless.</p>
