<p>Try this:</p>

<pre class="lang-sql prettyprint-override"><code>SELECT @last AS `last`,
       TIMEDIFF(`datetime`, @last) AS `difference`,
       @last := `datetime` AS `current`
FROM history, (SELECT @last :='2000-01-01 00:00:00') n
</code></pre>

<p>Here is <a href="http://sqlfiddle.com/#!2/46ad3/1" rel="nofollow">sqlfiddle</a></p>
