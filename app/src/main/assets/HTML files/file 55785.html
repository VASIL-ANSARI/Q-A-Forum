<p>The issue that you're seeing is with this line:</p>

<pre><code>tasks =   (ArrayList&lt;Future&lt;?&gt;&gt;) Collections.synchronizedList(new ArrayList&lt;Future&lt;?&gt;&gt;(cores));
</code></pre>

<p><code>Collections.synchronizedList</code> doesn't return an <code>ArrayList</code>; it returns some subclass of <code>List</code> - <code>java.util.Collections$SynchronizedRandomAccessList</code> to be exact - and I don't know anything about that class other than it's a <code>List</code>, but it's not an <code>ArrayList</code>.</p>

<p>The easy solution to this is to declare <code>tasks</code> to be a <code>List&lt;Future&lt;?&gt;&gt;</code>:</p>

<pre><code>List&lt;Future&lt;?&gt;&gt; tasks =
    Collections.synchronizedList(new ArrayList&lt;Future&lt;?&gt;&gt;(cores));
</code></pre>
