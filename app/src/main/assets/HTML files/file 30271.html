<p>How about</p>

<pre><code>int i;
for (i = 0; i &lt; 20; )
{
    int ch = getch();
    if (ch == '\b')
        i = std::max(0, i - 1);  // Backspace, go back a character
    else if (ch == '\r')
        continue;  // Continue loop for unwanted special characters
    else if (ch == '\n')
        break;  // End loop at newline
    else
        passwd[i++] = ch;  // Add character to string
}
passwd[i] = '\0';  // Terminate string
</code></pre>
