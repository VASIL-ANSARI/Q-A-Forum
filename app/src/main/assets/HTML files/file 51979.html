<p>After every fork you double the number of the processess. This your code:</p>

<pre><code>child1=fork(); // we have two now
child2=fork(); // each one of them forks - we have 4
child3=fork(); // 8
child4=fork(); // 16
</code></pre>

<p>You need to check the return value of the fork. When it is non-0, you are in the parent, and can fork again. If it is 0, you are child, and thou shall not <code>fork()</code> - should do your child chores.</p>

<p>And while you are on checking the return value, you might as well check it for <code>-1</code> - this means the <code>fork()</code> failed. As unbelieavable as it seems, I know a production system where this happened.</p>
