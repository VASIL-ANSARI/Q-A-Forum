<p>Store an time-since-last-activity. When it's been longer then a specified time - treat as if offline. You should replace the is_online with an <code>DateTime</code> field, and update it every time the logged in user visits the website.</p>

<p>On the place you want to select all online users, instead of :</p>

<pre><code>SELECT * FROM users WHERE is_online = 1
</code></pre>

<p>You could use:</p>

<pre><code>SELECT * FROM users WHERE is_online &gt;= DATE_SUB(NOW(), INTERVAL 5 MINUTE)
</code></pre>
