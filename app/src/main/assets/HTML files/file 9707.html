<p>Did you try something like this?</p>

<pre><code>Paperclip.interpolates :submission_id do |attachment, style|
  "SUB_#{attachment.instance.submission_id}"
end
</code></pre>

<p>And the drop the :id from the path and url (make sure you don't upload files with the same name though)</p>

<pre><code>has_attached_file :data, :path =&gt; ":rails_root/public/system/datas/:submission_id/:style",
                         :url =&gt; "/system/datas/:submission_id/:style",
</code></pre>
