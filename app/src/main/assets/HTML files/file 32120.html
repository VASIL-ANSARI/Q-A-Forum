<p>basic camera boilerplate, no matter what input:</p>

<hr>

<pre><code>#include "opencv2/highgui/highgui.hpp"
#include "opencv2/core/core.hpp"

using namespace cv;

int main()
{
    VideoCapture cap("http://admin:@192.168.1.124:80/"); // connect to an ip-cam ( might need some additional dummy param like: '?type=mjpeg' at the end
    //VideoCapture cap("/home/me/some.avi"); // load a video file
    //VideoCapture cap(-1); // get the 1st 'local' usb webcam
    while( cap.isOpened() )
    {
        Mat frame;
        if ( ! cap.read(frame) )
            break;

        //
        // your processing here
        //

        imshow("lalala",frame);
        int k = waitKey(10);
        if ( k==27 )
            break;
    }
    return 0;
}
</code></pre>
