<p>You should connect some callback to QHttp finished signal and close the file handler there. When you create a message box, the time from it popping up and you closing it is probably enough for the download to conclude, and then you close the file handler correctly. The key is that QMessageDialog::exec method is synchronous.</p>
