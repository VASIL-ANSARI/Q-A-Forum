<ol>
<li><code>mysql_real_escape_string</code> is not <em>sanitization</em>, it <em>escapes</em> text values to keep the syntax of the SQL query valid/unambiguous/injection safe.</li>
<li><code>strip_tags</code> is <em>sanitizing</em> your string.</li>
<li>Doing both <code>htmlentities</code> <em>and</em> <code>htmlspecialchars</code> in order is overkill and may just <em>garble</em> your data. Since you're also stripping tags right before that, it's double overkill.</li>
<li>The rule is to make sure your data doesn't break your SQL syntax, therefore you <code>mysql_real_escape_string</code> <em>once</em> before putting the data into the query. You also do the same thing, protecting your HTML syntax, by HTML escaping text before outputting it into HTML, using <em>either</em> <code>htmlspecialchars</code> (recommended) <em>or</em> <code>htmlentities</code>, <strong><em>not both</em></strong>.</li>
<li>For a much more in-depth excursion into all this read <a href="http://kunststube.net/escapism/" rel="nofollow">The Great Escapism (Or: What You Need To Know To Work With Text Within Text)</a>.</li>
<li>I don't know NicEdit, but I assume it allows your users to style text using HTML behind the scenes. Why are you stripping the HTML from the data then? There's no point in using a WYSIWYG editor then.</li>
</ol>
