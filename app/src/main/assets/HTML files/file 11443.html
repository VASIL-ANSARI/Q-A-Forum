<p>You shouldn't use the same name (<code>counter</code>) for the variable that stores the count and for your function.</p>

<p>The line <code>counter = i;</code> overwrites the reference to your function. The next time you try to call <code>counter()</code> it won't work because <code>counter</code> is no longer a function.</p>

<p>Try this instead:</p>

<pre><code>function update_counter() {
    for(var i = 0; i &lt; elements.length; i++) {
        counter = i;
    }
    alert("counter has counted");
}
</code></pre>
