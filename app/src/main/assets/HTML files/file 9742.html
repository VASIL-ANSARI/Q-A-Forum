<p>The state pattern might be the way to go <a href="http://en.wikipedia.org/wiki/State_pattern" rel="nofollow">http://en.wikipedia.org/wiki/State_pattern</a></p>
