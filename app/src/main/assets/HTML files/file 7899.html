<ol>
<li>Yes you can, by using index.</li>
<li>It is better to use 2 query, see here: 
<a href="http://stackoverflow.com/questions/1022482/is-there-an-effect-on-the-speed-of-a-query-when-using-sql-calc-found-rows-in-mysq">Is there an effect on the speed of a query when using SQL_CALC_FOUND_ROWS in MySQL?</a> and here: <a href="http://www.mysqlperformanceblog.com/2007/08/28/to-sql_calc_found_rows-or-not-to-sql_calc_found_rows/" rel="nofollow">To SQL_CALC_FOUND_ROWS or not to SQL_CALC_FOUND_ROWS?</a></li>
<li>Indexes help MySQL to find datas faster. Here, you need an index on code, cid, expire and price.</li>
</ol>

<p>You can create an index on items.code by executing this :</p>

<pre><code>CREATE INDEX idx_items_code ON items (code);
</code></pre>

<p>It should improve your query immedialty.</p>

<p>My advice is to learn how index are working by reading some post on <a href="http://stackoverflow.com/search?q=sql%20index">stackoverflow.com</a>.</p>

<p>Here is a good one : <a href="http://stackoverflow.com/questions/2955459/what-is-an-index-in-sql-server">What is an index in SQL Server?</a></p>

<p>Edit : </p>

<blockquote>
  <p>If indexes are that good, I can create
  indexes on every fields. What are the
  consequences of using an index?</p>
</blockquote>

<p>Effectively, indexes ARE a silver bullet. It works every time. Too long query, boom, make an index. That's why, when you create a primary key, MySQL add an index to the field.</p>

<p>On the other hand, index are taking space on the server, and the other operation : delete, update, insert, will take a little more time.</p>

<p>So if you don't delete, update or insert too often, and select a lot, you can almost create an index for each field.</p>

<p>The best is too fully understand the use of the index, so you could make good choice.</p>
