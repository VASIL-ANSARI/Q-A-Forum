<p>The usual solution to this problem in ES5 is to generate a unique string key (A monotomically increasing number turned into a string works just fine), assign it to the DOM object as a custom property and to then use that string as the key in the Object/Map.</p>

<p>This gives you a unique string, you can use as the map key and if you are given the DOM object again and asked to look it up in the map, you can just check it for the special key and, if found, use it to check the map.  If the DOM object does not have the unique key, then it must not have been in one of these maps yet.</p>

<p>Here's a Javascript object that implements this automatically (objectSet): <a href="https://github.com/jfriend00/Javascript-Set/blob/master/objectset.js" rel="nofollow">https://github.com/jfriend00/Javascript-Set/blob/master/objectset.js</a> which is related to the code in this answer: <a href="http://stackoverflow.com/questions/7958292/mimicking-sets-in-javascript/7958422#7958422">Mimicking sets in JavaScript?</a>.</p>

<p>Or, here's a <a href="https://github.com/jfriend00/ES6-Set" rel="nofollow">partial polyfill for the ES6 Set object</a> that implements this string key generation automatically when using objects in the Set.</p>
