<p>You can't use a <code>LineStyleListener</code> and <code>setStyleRanges</code> at the same time, you must use all one or the other.</p>

<p>You could look at the JFace <code>TextViewer</code>, <code>SourceViewer</code> and <code>TextPresentation</code> classes which provide ways to set styles on <code>StyledText</code>, these use <code>setStyleRanges</code>.</p>
