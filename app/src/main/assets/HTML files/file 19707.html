<p>First of all there pay attention in some discrepancies in your code. In HTML you're using "section" class, in jQuery you're selecting ".wrapper".</p>

<p>And than you should try something like this:</p>

<pre><code>$('.section').each(function() {

    var rowPixels = 0;
    $(this).find('.grid').each(function () {

        var gridWidth = $(this).width();
        rowPixels += gridWidth;

        if (rowPixels &gt;= $('.section').width()) {
            $(this).after('&lt;div class="clear"&gt;&lt;/div&gt;');
            rowPixels = 0;
        }

    });

});            
</code></pre>
