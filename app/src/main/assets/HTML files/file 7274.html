<p>Well I'd implement this simply by downloading a fixed size file. Not tested, but something along these lines should work just fine</p>

<pre><code>byte[] buffer = new byte[BUFFERSIZE];
Socket s = new Socket(urlOfKnownFile);
InputStream is = s.getInputStream();
long start = System.nanoTime();
while (is.read(buffer) != -1) continue;
long end = System.nanoTime();
long time = end-start;
// Now we know that it took about time ns to download &lt;filesize&gt;. 
// If you don't know the correct filesize you can obviously use the total of all is.read() calls.
</code></pre>
