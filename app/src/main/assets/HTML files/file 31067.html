<p>I've found the solution. The formatted text was parsed through a BBCode parser which made the whole thing screw up. The solution is to use a rich text editor, save it as HTML and display it directly.</p>
