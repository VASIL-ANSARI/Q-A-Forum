<p>Use a <a href="http://msdn.microsoft.com/en-us/library/ms177410%28v=sql.105%29.aspx" rel="nofollow">pivot</a></p>

<pre><code>select *
from (select id as customerid, name as customername, phonetype, phone
     from customers inner join phones on customers.id = phones.customerid
) src
pivot
(max(phone) for phonetype in ([phone1],[phone2],[mobile1],[mobile2])) p
</code></pre>
