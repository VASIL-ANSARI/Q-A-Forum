<p>Your <code>Role</code> model needs columns to refer to which <code>User</code> and <code>Dataset</code> it belongs. Without these it has no idea who belongs to who.</p>

<p>So you simply need to create a migration to add these columns:</p>

<pre><code>class AddRefererColumnsToRole &lt; ActiveRecord::Migration
  def change
    add_column :roles, :user_id, :integer
    add_column :roles, :dataset_id, :integer
  end
end
</code></pre>
