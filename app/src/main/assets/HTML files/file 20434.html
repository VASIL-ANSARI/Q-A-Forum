<p><code>PyArg_ParseTuple</code> with <code>O</code> arguments expects a pointer to a <code>PyObject *</code>, not a pointer to a <code>PyObject</code> (i.e. the variadic argument should be of type <code>PyObject **</code>).</p>

<p>So your code should be:</p>

<pre><code>  char const *fmt = "OO";
  PyObject *dict1, *dict2;

  if (!PyArg_ParseTuple(args, fmt, &amp;dict1, &amp;dict2))
    return NULL;

  int hasDict1 = PyDict_Check(dict1);
  int hasDict2 = PyDict_Check(dict2);

  // ...
</code></pre>
