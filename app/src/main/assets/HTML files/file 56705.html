<p>It seems there is a bug in <code>XmlWriter</code>, as described in <a href="http://stackoverflow.com/q/7007533/5311735">this</a> self-answered question. The bug is: <code>XmlWriter</code> will respect <code>space:preserve</code> tag <em>unless</em> there are <em>no whitespace</em> inside tag marked with this attribute. If there are no whitespace - it can (for some reason) add some. Because internally <code>XDocument</code> also uses <code>XmlWriter</code> - it shows the same behavior. And indeed if you add 0-length whitespace by hand, like this:</p>

<pre><code>new XDocument(
    new XElement("a",
        new XElement("b",
           new XAttribute(XNamespace.Xml + "space", "preserve"),
              new XText(""),
              new XElement("c"))))
.Save(Console.Out);
</code></pre>

<p>it will respect whitespace preserve tag and produce expected output.</p>
