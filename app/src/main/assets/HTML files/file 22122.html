<p>Your code already does what you want if you compile with <code>-fno-stack-protector</code>. The reason you don't see <code>RIP</code> with a value of <code>0x4141414141414141</code> in GDB is that a general protection fault is thrown before <code>RIP</code> is updated. (If a page fault occurs, the GPF handler usually loads the page from swap and resumes execution by starting with the failed instruction.)</p>
