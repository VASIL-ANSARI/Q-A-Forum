<p>Try the following:</p>

<pre><code> foreach (var u in usersFromFile) {
    if (context.Users.Any(
          user=&gt;
            user.EmployeeId == u.EmployeeId &amp;&amp; user.CompanyId == 1)
       ) 
    {
        User newUser = new User();
        newUser.EmployeeId = u.EmployeeId;
        newUser.CompanyId = 1;
        context.Users.Add(newUser); //This will sometimes set CompanyId = NULL
    }
}
context.SaveChanges();
</code></pre>

<p>The Any() function checks wether a user based on the given query exists.</p>

<p>Also, don't forget to add the context.savechanges to make sure every added record gets put in the database.</p>

<p>Lastly, you checked if user.CompanyId = 1, should be == 1</p>
