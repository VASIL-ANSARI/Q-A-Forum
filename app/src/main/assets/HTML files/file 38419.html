<p>In order to construct  a shared library, you must first compile the source code and produce <a href="http://en.wikipedia.org/wiki/Position-independent_code" rel="nofollow">position-independent</a> object files. That's what the <code>-fPIC</code> flag is for. You can't build a shared library out of "ordinary" object files, and you can't change that property of an object file later-- at least not easily.</p>

<p>In your example, you are trying to construct a shared library out of position-dependent object files, via a static library (). You can construct a <em>static</em> library from these objects, but if you want to build a <em>shared</em> library, as the linker is telling you, you must <strong><code>recompile with -fPIC</code></strong>.</p>
