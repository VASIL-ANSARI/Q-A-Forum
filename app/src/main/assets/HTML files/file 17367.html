<p>You should be able to run this command in java code:</p>

<pre><code>Runtime.getRuntime().exec("screencap -p /sdcard/screen.png");
</code></pre>

<p>There are some shell commands you can execute without having root. So you don't need to run "su". I'm not sure if you can execute screencap. Certainly you need permission to write to the SD_CARD in your app.</p>

<pre><code>android.permission.WRITE_EXTERNAL_STORAGE
</code></pre>

<p>But why you don't use the Android API to make your screenshot? For more information read this post on stackoverflow: <a href="http://stackoverflow.com/questions/2661536/screenshot-android">Screenshot Android</a></p>

<p>Androids security model bases on user ids, like Linux does. Each app gets his own user id. So your app has a userid like 1001. If your user is allowed to run the command you can, otherwise you will receive an error.</p>

<p><strong>EDIT:</strong> <br/>
You need root to take screenshots or be a system application. There is a permission READ_FRAME_BUFFER but you only can obtain it when you are a system application. Its a security problem when an app could take screenshots of your device.</p>

<p>I've found this API <a href="http://code.google.com/p/android-screenshot-library/">http://code.google.com/p/android-screenshot-library/</a> which promises to take screenshots without root. I didn't test it. The library starts a native service which then takes the screenshots for you. 
But you have to run the service each time your phone boots. So it gets the system privileges. That's not really comfortable...</p>

<p>Conclusion: There is no nice way to take screenshots without root from code...</p>
