<p>You can use the following which will group the data by the <code>name</code> and count the distinct flag values. If the <code>count</code> is greater than 1 then they have different flags:</p>

<pre><code>select name
from yourtable
group by name
having count(distinct flag) &gt; 1
</code></pre>

<p>See <a href="http://www.sqlfiddle.com/#!2/3739d/1" rel="nofollow">SQL Fiddle with Demo</a></p>

<p>If you want to expand on this and include additional columns in your table, then you could use:</p>

<pre><code>select t1.name, t1.flag
from yourtable t1
where exists (select name
              from yourtable t2
              where t1.name = t2.name
              group by name
              having count(distinct flag) &gt; 1)
</code></pre>

<p>See <a href="http://www.sqlfiddle.com/#!2/3739d/14" rel="nofollow">SQL Fiddle with Demo</a></p>

<p>This will return both the name and the flag:</p>

<pre><code>|  NAME | FLAG |
----------------
|  john |    1 |
|  john |    0 |
|  john |    1 |
| steve |    1 |
| steve |    0 |
</code></pre>
