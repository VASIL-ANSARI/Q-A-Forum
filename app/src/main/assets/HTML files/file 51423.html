<p>Have a look in <code>man ssh</code> at the <code>-f</code> option. It may be what you need when launching <code>ssh</code>. It will block <code>ssh</code> until the password is typed and then fork by itself. You could probably use this feature to achieve what you want (but you may have to slightly change your current code because it will perform by itself what you currently try to embed in your script).</p>

<p>This option is generally used at the command line for starting a remote graphical program: once the password is typed, you can safely close the terminal and keep interacting with the remote process with its graphical interface. But I think using this feature here would lead to a <em>much</em> cleaner way than playing with low-level blocking features and similar things.</p>
