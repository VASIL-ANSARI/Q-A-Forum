<p>Try this code as this <a href="http://www.ruby-doc.org/gems/docs/c/capybara-rails-2-2-0.4.1.1/Capybara/Node/Actions.html#method-i-attach_file" rel="nofollow">link</a>: </p>

<pre><code>page.attach_file(picture, '/path/to/file.png')
</code></pre>

<p>or this code as this <a href="http://apidock.com/rails/ActionDispatch/TestProcess/fixture_file_upload" rel="nofollow">link</a>:</p>

<pre><code>it "can upload a image" do
  post :picture, avatar: fixture_file_upload('files/spongebob.png', 'image/png')
  response.should be_success
end
</code></pre>

<p>Read answers of this <a href="http://stackoverflow.com/questions/7260394/test-a-file-upload-using-rspec-rails">question</a>, I think this more helpful for your question.</p>
