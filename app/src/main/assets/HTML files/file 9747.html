<p>What you need is enable Z buffering aka depth testing. First you need a depth buffer (also you surely want double buffering, otherwise you can see how the image is rendered, causeing flicker):</p>

<pre><code>glutInitDisplayMode(GLUT_RGBA | GLUT_DEPTH | GLUT_DOUBLE);
</code></pre>

<p>then you must enable depth testing with</p>

<pre><code>glEnable(GL_DEPTH_TEST);
</code></pre>

<p>to make depth testing work properly, you must clear the depth buffer when starting to render a new frame:</p>

<pre><code>glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);
</code></pre>

<p>And since we enabled double buffering issue a buffer swap at the end of <code>display()</code></p>

<pre><code>// glFlush();
glutSwapBuffers(); // Buffer swapping implies a glFlush()    
</code></pre>
