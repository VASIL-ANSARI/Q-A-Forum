<p>If you want a simpler solution, you could add an another argument(with pass by reference method) to lexico function call and use a while loop for calling from main fucntion.</p>

<pre><code>int lexico(char linea[MAXLINEA], int *rccnt)
{
   (*rccnt)++;
   ......
   return 1;
}


int main(int argc, char *argv[])
{
   ...
   FILE *fichero;
   fich = fopen("test", "r");
   ...
   int l;
   char buffer[MAXLINEA];
   int chrcnt;
   while(fgets(buffer,MAXLINEA,fich) != NULL){
      chrcnt = 0; //set to zero for every buffer fetch
      while(chrcnt &lt; strlen(buffer))
          l = lexico(buffer, &amp;chrcnt);

      ...
   }
}
</code></pre>

<p>Hope this answer solves your problem.</p>
