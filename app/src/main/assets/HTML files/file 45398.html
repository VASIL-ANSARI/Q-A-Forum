<p>This is how I have registered ApplicationUserManager in Autofac, which works for all my applications.</p>

<pre><code>builder.Register(c =&gt; HttpContext.Current.GetOwinContext().GetUserManager).As&lt;ApplicationUserManager&gt;();
</code></pre>

<p>This will say to Autofac that when I ask for an ApplicationUserManager, please get the UserManager from the OwinContext in my Current HttpContext.</p>

<p>This takes the logic and the dependecy on an OwinContext and HttpContext out of the classes, and makes the code much nicer to work with.</p>

<p>You can also do the same for an IAuthenticationManager, to remove your OwinContext dependency also with</p>

<pre><code>builder.Register(c =&gt; HttpContext.Current.GetOwinContext().Authentication).As&lt;IAuthenticationManager&gt;();
</code></pre>
