<p>You might need to add <code>os.fsync(sys.stdout.fileno())</code>. </p>

<p>Reference: <a href="https://docs.python.org/2/library/os.html#os.fsync" rel="nofollow">os.fsync(fd)</a></p>

<blockquote>
  <p>Force write of file with filedescriptor fd to disk. On Unix, this calls the native fsync() function; on Windows, the MS _commit() function.</p>
  
  <p>If youâre starting with a Python file object f, first do f.flush(), and then do os.fsync(f.fileno()), to ensure that all internal buffers associated with f are written to disk.</p>
</blockquote>
