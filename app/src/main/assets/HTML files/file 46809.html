<p>Have a look at Doctrine Fixtures, they allow you to load controlled data sets into your database for testing or even to make sure you have some initial data.</p>

<p>symfony2 has very good integration with doctrine fixtures through <a href="http://symfony.com/doc/current/bundles/DoctrineFixturesBundle/index.html" rel="nofollow">DoctrineFixturesBundle.</a> </p>

<p>Write fixtures for all the entities that are needed to make sure there is enough data for tests .  Then you can actually load the fixtures using the console command the bundle offers. Then you can do your functional testing as usual. </p>

<p>Also follow these articles to unit test the Code which interacts with database.</p>

<p><a href="http://symfony.com/doc/current/cookbook/testing/database.html" rel="nofollow">http://symfony.com/doc/current/cookbook/testing/database.html</a></p>

<p><a href="http://symfony.com/doc/current/cookbook/testing/doctrine.html" rel="nofollow">http://symfony.com/doc/current/cookbook/testing/doctrine.html</a></p>
