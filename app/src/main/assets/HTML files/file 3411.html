<p>You did not mention which platform you are coding for or if that is allowed to matter. But in Linux and the GCC, the C++ default allocator is implemented with <code>malloc</code>.</p>

<p><code>malloc</code> can be overridden and replaced with your own internal allocator.</p>

<p>I would implement this <code>malloc</code> as follows:</p>

<p>in the general case, just defer to original <code>malloc</code>. Whenever you want to, you can change the behavior of the <code>malloc</code> function to return pointers to this special memory area you have prepared.</p>

<p>So, before creating this particular <code>std::map</code> you would give your <code>malloc</code> a hint. (Through a global variable or some other means of communication.)</p>

<p>Update: alemjerus suggested implementing <code>std::map::allocator</code> which is a <em>much</em> cleaner way on the same theme, also platform agnostic.</p>
