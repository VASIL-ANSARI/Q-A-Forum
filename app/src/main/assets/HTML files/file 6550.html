<p>I think your best bet is to split this up into two seperate processes. You're going to have trouble with your IIS/ASP.NET based process and trying to keep it alive.</p>

<p>If I were you I'd look to do something like:</p>

<ol>
<li>Write a record into a DB/File/queue to signal the the long running thread must start.</li>
<li>Have a windows service monitor the DB/file/queue for the signal and then begin the processing.</li>
</ol>

<p>You'll find similar suggestions in the answers here:</p>

<p><a href="http://stackoverflow.com/questions/522626/handling-web-service-timeouts-while-performing-long-running-database-tasks">Handling Web Service Timeouts While Performing Long-Running Database Tasks</a></p>

<p><a href="http://stackoverflow.com/questions/1835652/long-running-webservice-architecture">Long running webservice architecture</a></p>

<p><a href="http://stackoverflow.com/questions/4163344/recommendations-for-designing-a-long-running-resource-intensive-web-">Recommendations for designing a long-running, resource-intensive web service</a></p>
