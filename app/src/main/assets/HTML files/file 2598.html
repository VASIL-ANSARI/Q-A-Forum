<p>I'm not sure whether it can be done with functions/templates.
I know code with macro's (your log-message and stream is separated):</p>

<pre><code>#define LOG(svrty, out, msg)\
do {\
  if (svrty &gt;= debug_level) out &lt;&lt; msg;\
} while(0)
</code></pre>

<p>Although this works, I am interested in better solutions.
Remark that you should let the configuration and debug-level decide where to log to.</p>
