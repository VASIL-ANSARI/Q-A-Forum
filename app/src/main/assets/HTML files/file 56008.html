<p>I'm not exactly clued up on image manipulation, but the first algorithm that comes to mind is something like this:</p>

<ul>
<li>Take the average of the pixels in the line (as you have)  

<ul>
<li>Since you appear to want faces, you might want to weight reds and blues over green. Not much green in faces of any skin tone.</li>
</ul></li>
<li><p>For each pixel, if the colour is within a given threshold outside of your selected average, remove it / make transparent.</p></li>
<li><p>Perhaps the closer to the original line (or centroid), the less strict the threshold becomes.</p></li>
</ul>

<p>I'd then provide the user with some tools for:</p>

<ul>
<li>Sensitivity: how large the threshold is</li>
<li>Eraser: to remove parts of the image that your algorithm missed</li>
<li>Paintbrush: to replace parts of the image that your algorithm incorrectly removed.</li>
</ul>
