<p>I don't see the problem in using structure map this way. What do you not like about the current solution?</p>

<p>You could use named instances that you will not even need the factory anymore. <a href="http://structuremap.net/structuremap/InstanceExpression.htm#section14" rel="nofollow">structuremap link</a></p>

<pre><code>public class ServicesRegistry : Registry
{
    public ServicesRegistry()
    {
        For&lt; ManagerBase &gt;().Use&lt; Manager1 &gt;().Named("A");
        For&lt; ManagerBase &gt;().Use&lt; Manager2 &gt;().Named("B");
        For&lt; ManagerBase &gt;().Use&lt; Manager3 &gt;().Named("C");
    }
}
</code></pre>

<p>You can than retrieve the correct one by just calling</p>

<pre><code>SomeEnum e = SomeEnum.A;
ObjectFactory.GetNamedInstance&lt;ManagerBase&gt;(e.ToString());
</code></pre>
