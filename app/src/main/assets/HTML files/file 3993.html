<p>I would suggest you use a datareader to populate the dropdownlist. This will loop through the categories. You then do a seperate query on each category to get the subcategories, and then create the items. Sorry can't do example code right now! Perhaps the community can help?</p>
