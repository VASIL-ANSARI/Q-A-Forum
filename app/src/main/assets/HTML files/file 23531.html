<p>In order to type-cast a <code>TTreeNode</code> pointer to a <code>TStructTreeNode</code> pointer with <code>dynamic_cast</code>, you have to instantiate a real <code>TStructTreeNode</code> instance to satisfy the cast.  If you are using general <code>TTreeNodes</code> methods, like <code>Add()</code>, then override the virtual <code>CreateNode()</code> method to tell the <code>TTreeView</code> to create <code>TStructTreeNode</code> instances and not <code>TTreeNode</code> instances.  For example:</p>

<pre><code>class PACKAGE TStructTreeView : public TTreeView
{
protected:
    virtual TTreeNode* __fastcall CreateNode();
};

TTreeNode* __fastcall TStructTreeView::CreateNode()
{
    return new TStructTreeNode(Items);
}
</code></pre>
