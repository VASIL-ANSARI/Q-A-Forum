<p>It's not a formula, it's an algorithm (as it involves a series of iterative steps... unless you're using Haskell).</p>

<p>Here's the algorithm I use:</p>

<pre><code>Int32[] CreateLinks(Int32 currentPageNumber, Int32 totalPages) {
    Int32[] links = new Int32[ Math.Min( totalPages, 10 ) ];
    Int32 start = currentPageNumber &lt; 5 ? 1 : currentPageNumber;
    start = currentPageNumber &gt; totalPages - 5 ? totalPages - 10 : start;
    for(int i=0;i&lt;links.Length;i++) {
        links[i] = start + i;
    }
}
</code></pre>

<p>Where the <code>Int32[]</code> array is the set of page links. Note my implementation has a hidden bug, can you see it?</p>
