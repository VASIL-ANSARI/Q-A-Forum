<p>Folders don't really exist in S3.  For example, let's say you create an object with a key of /folder1/folder2/mything.txt.  Most of the tools that let you browse a bucket will show this as folder1 containing folder2 containing mything.txt.</p>

<p>While this is convenient and familiar because of the file systems we are used to, it is not the right way to think about S3 buckets and their contents.  In S3, you simply have a single object in the bucket with a key of /folder1/folder2/mything.txt.</p>

<p>While I'm not familiar with PHP, the basic idea behind your code is solid.  You need to iterate over all the items in a "folder" and total the contents to determine the size.  Don't forget to iterate over the folders within your folders too.</p>
