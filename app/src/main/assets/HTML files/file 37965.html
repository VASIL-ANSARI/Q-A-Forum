<p>First, we'll create some example data. In future if you're asking a question about pandas it's best to include example data that people can easily copy-paste into their Python console:</p>

<pre><code>import pandas as pd
import numpy as np
df = pd.DataFrame({'Fare': np.random.uniform(0, 600, 400), 
                   'Survived': np.random.randint(0, 2, 400)})
</code></pre>

<p>Then use <code>pd.cut</code> to bin the data in the same way as you were doing in your histogram:</p>

<pre><code>df['fare_bin'] = pd.cut(df['Fare'], bins=[0,10,20,30,45,60,75,100,600])
</code></pre>

<p>Look at the total count and survived count within each bin (you could probably do this
as separate columns, but I'm just doing it quickly):</p>

<pre><code>df.groupby('fare_bin').apply(lambda g: (g.shape[0], g.loc[g['Survived'] == 1, :].shape[0]))

Out[34]: 
fare_bin
(0, 10]           (7, 4)
(10, 20]          (9, 6)
(100, 600]    (326, 156)
(20, 30]          (5, 4)
(30, 45]         (12, 6)
(45, 60]        (15, 11)
(60, 75]         (13, 7)
(75, 100]        (13, 6)
dtype: object
</code></pre>

<p>Then write a quick function to get the ratio:</p>

<pre><code>def get_ratio(g):
    try:
        return float(g.shape[0]) / g.loc[g['Survived'] == 1, :].shape[0]
    except ZeroDivisionError:
        return np.nan
df.groupby('fare_bin').apply(get_ratio)

Out[30]: 
fare_bin
(0, 10]       1.750000
(10, 20]      1.500000
(100, 600]    2.089744
(20, 30]      1.250000
(30, 45]      2.000000
(45, 60]      1.363636
(60, 75]      1.857143
(75, 100]     2.166667
dtype: float64
</code></pre>
