<p>This won't solve your problem but the following is not used anymore: </p>

<pre><code>main.add(BorderLayout.CENTER, panel); // read the API for more info
</code></pre>

<p>You should be using:</p>

<pre><code>main.add(panel, BorderLayout.CENTER);
</code></pre>
