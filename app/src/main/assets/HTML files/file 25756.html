<p><code>level = root.replace(startpath, '').count(os.sep)</code></p>

<p>It's calculating level of indentation for printing object (dir/file) name. It's getting rid of startpath as it's common for every listed file and it would look bad to have everything indented by +10 tabs :) os.sep returns path separator like '/' on Linux.</p>

<p>About that error, try: 
<code>print('{0}{1}/'.format(indent, os.path.basename(root)))</code>
There you have some examples: <a href="http://docs.python.org/2/library/string.html#format-examples" rel="nofollow">http://docs.python.org/2/library/string.html#format-examples</a> Probably your Python is not 2.7+</p>
