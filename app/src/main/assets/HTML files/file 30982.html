<p>Though not explicitly stated in your question, it seems that you need to concatenate the string keys and ignore the integer keys (which may be easily achieved with <code>is_string($key)</code>). And since you need your code to âwork with any level of nesting,â a recursive function would serve your purpose best:</p>

<pre><code>function array_flatten_key($arr){
$_arr = array();
    foreach($arr as $key =&gt; $val){
        if(is_array($val)){
            foreach(array_flatten_key($val) as $_val){
            $_arr[] = is_string($key) ? $key.".".$_val : $_val;
            }
        }
        else{
        $_arr[] = is_string($key) ? $key.".".$val : $val;
        }
    }
return $_arr;
}

$new_array = array_flatten_key($array);
print_r($new_array);
</code></pre>

<p>The output will be:</p>

<pre><code>Array
(
    [0] =&gt; user1.Miguel
    [1] =&gt; user2.Miguel
    [2] =&gt; user2.Borges
    [3] =&gt; user2.JoÃ£o
    [4] =&gt; user3.Sara
    [5] =&gt; user3.Tiago.Male
)
</code></pre>
