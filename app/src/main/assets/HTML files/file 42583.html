<p>First you need to change how you add the paths:</p>

<pre><code>svg.selectAll("path").data(points).enter().append("path")
    .datum(function(d) { return d;})
    .attr("class", "line")
    .call(redraw);
</code></pre>

<p>This takes the two points array, and add a path for every array inside of it. For each on of those sub arrays it binds the data of that array <code>return d;</code>.</p>

<p>On the redraw function, change <code>svg.select("path")</code> to <code>svg.selectAll("path")</code>, in order to select all of the path elements.</p>

<p>In addition when you add the circles, you can take all of the points and convert them into a one dimension array:</p>

<pre><code>var circles = points.reduce(function(t, c) {
    return t.concat(c)
  });
var circle = svg.selectAll("circle")
  .data(circles, function(d) { return d; });
</code></pre>

<p>Check this <a href="http://plnkr.co/edit/xgutVQhNzJNKxUuKmqyi?p=preview" rel="nofollow">plunker</a>.</p>
