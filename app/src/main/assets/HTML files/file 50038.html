<p>You shouldn't execute the uptime command, instead call the API from your code to obtain the uptime, on linux  this is done with the <a href="http://man7.org/linux/man-pages/man2/sysinfo.2.html" rel="nofollow">sysinfo</a>() function. </p>

<pre><code>#include &lt;sys/sysinfo.h&gt;
...

struct sysinfo info

if (sysinfo(&amp;info) == 0) {
   snprintf(send_data, sizeof send_data, "Uptime: %ld seconds\n", info.uptime);
} else {
   snprintf(send_data, sizeof send_data, "Error getting uptime: %s\n", strerror(errno));
}

send(sock, send_data, strlen(send_data), 0);   
</code></pre>
