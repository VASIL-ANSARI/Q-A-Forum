<p>I see nothing wrong with the code above.</p>

<p>Generally, an error that can be accidentally introduced by splitting the code into several files is a duplication of static variables. For example, there could be a <code>static UART_HANDLE_T  uart_instance;</code> both in main.c and usart.c (or even weirdly in some .h included by both). Everything will compile and link OK, but functions from main.c and usart.c will use unrelated variables, and the program logic will change with potential for data corruption.</p>

<p>Now, this is a generic remark not directly related to your code. There is some chance it helps... Good luck hunting the bug!</p>
