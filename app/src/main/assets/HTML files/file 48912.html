<p>From evidence, it looks like the integer division instance method (invoked by <code>/</code> as in <code>(1 / from_rate)</code> returns an integer result when the argument (the divisor)  is BigDecimal, so in this case it's returning the integer value <code>1</code>.  This isn't a problem when the argument is a float as in those cases integer division does return a float.</p>

<p>You may be able to circumvent this problem by just using the float divisor... do that by specifying 1.0 (a float) as the dividend.</p>

<pre><code>rate = (1.0 / from_rate) * to_rate
</code></pre>

<p>Or alternatively you can convert the <code>from_rate</code> value into a float.</p>

<pre><code>rate = (1 / from_rate.to_f) * to_rate
</code></pre>
