<p>It seems you just need to change:</p>

<pre><code>if(isset($_POST['quantite'][$i]))
</code></pre>

<p>to:</p>

<pre><code>if(isset($_POST['quantite'][$i]) &amp;&amp; $_POST['quantite'][$i] &gt; 0)
</code></pre>

<p>You can also use for example <code>array_filter()</code> to loop only over the keys that have an amount set:</p>

<pre><code>if(isset($_POST['ajouter']))
{
  $has_amounts = array_filter($_POST['quantite']);
  foreach (array_keys($has_amounts) as $key)
  {
    $nomProd = $_POST['nomProd'][$key];
    // etc.
</code></pre>
