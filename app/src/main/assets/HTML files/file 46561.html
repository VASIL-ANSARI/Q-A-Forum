<p>In absence of the complete code, here is what i can extrapolate:</p>

<ol>
<li><p>I am assuming you have a mapView that is already set.</p></li>
<li><p>I am assuming mapView!.selectedMarker gets populated only when the user selects the pin, else it is nil (or some other value u choose)  then,</p></li>
</ol>

<p>Now, directionTapped should be:</p>

<pre><code>if self.mapView!.selectedMarker != nil {
  &lt;Your current Code&gt;
} else {
  &lt;Code to Show the new alert about pin not selected&gt;
}
</code></pre>
