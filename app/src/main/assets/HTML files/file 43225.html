<p>You should use <a href="http://en.cppreference.com/w/cpp/regex/regex_search" rel="nofollow">regex_search</a>.</p>

<blockquote>
  <p>Note that regex_match will only successfully match a regular
  expression to an entire character sequence, whereas std::regex_search
  will successfully match subsequences.</p>
</blockquote>

<p>Thus, this code will find the matches:</p>

<pre><code>if( regex_search( haystack, matches, rx ) )
   i++;
if( regex_search( haystack, rx ) )
   i++;
if( regex_search( haystack.begin(), haystack.end(), rx ) )
   i++;
</code></pre>
