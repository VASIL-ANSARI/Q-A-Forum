<p><code>RowDataBound</code> is executed for every row in the <code>GridView</code>. So your <code>foreach</code> loop there is pretty redundant. You also have to check for the correct <code>RowType = DataRow</code>.</p>

<p>This should work:</p>

<pre><code>protected void grdContents_RowDataBound(Object sender, GridViewRowEventArgs e)
{
    if (e.Row.RowType == DataControlRowType.DataRow)
    {
        if (e.Row.RowIndex == 0)
            e.Row.BackColor = Color.Gray;
        else
        {
            var thisKey = grdContents.DataKeys[e.Row.RowIndex].Value;
            var prevKey = grdContents.DataKeys[e.Row.RowIndex - 1].Value;
            var prevRow = grdContents.Rows[e.Row.RowIndex - 1];
            if (thisKey.Equals(prevKey))
                e.Row.BackColor = prevRow.BackColor;
            else
                e.Row.BackColor = prevRow.BackColor == Color.Gray ? Color.White : Color.Gray;
        }
    }
}
</code></pre>
