<p>There's no need to use <code>char*</code> for conversion to upper case. Instead you could use <a href="http://en.cppreference.com/w/cpp/algorithm/transform" rel="nofollow">std::transform</a> like here:</p>

<pre><code>transform(str.begin(), str.end(), str.begin(), ::toupper);
cout &lt;&lt; str &lt;&lt; endl;
</code></pre>

<p><strong>--- edit ---</strong><br/>
If, for whatever (academic) reason, you want to perform the conversion to upper case on a dynamically allocated <code>char</code> array, then you could still use <code>std::transform</code> for that.</p>

<p>However, as you see in the snippet below, you need to allocate one extra character for the trailing <code>\0</code>-char which signals end of string. </p>

<pre><code>char* szStr = new char[w+1];
std::transform(str.begin(), str.end(), szStr, ::toupper);
szStr[w]='\0';
cout &lt;&lt; szStr &lt;&lt; endl;
</code></pre>
