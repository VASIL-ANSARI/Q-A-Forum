<p>Your solution is just to do a preg replace with optional digits</p>

<pre><code>preg_replace('/\[\d*\]/', $replacement, $fulltext);
</code></pre>
