<p>Actually, if you have <strong>Undefined Behavior</strong>, any change to execution environment or compiled binary can cause your code to misbehave in a different way.</p>

<p>That's especially observable with changed optimization and debug flags, but seemingly innocuous code-changes are also predistined to trigger this.</p>

<p>Next, might your error in any way be a heisenbug, meaning related to timing/multithreading?</p>

<p>Also, your compiler might completely omit virtual tables if they are not needed in construction/destruction and no object of the exact type is actually ever created.<br>
So, your call to <code>foo</code> might equally just crash or call <code>derived::foo</code> despite the destructor having run.</p>
