<p>Any reason you're insisting on using Java?</p>

<p>You could do this with sed:</p>

<pre><code>sed '/&lt;/VirtualHost&gt;/,$d' filename
</code></pre>

<p>This will produce the entire file contents minus the <code>&lt;/VirtualHost&gt;</code>.</p>

<p>Then just include the <code>&lt;/VirtualHost&gt;</code> in your <code>#Added for Patch</code> text.</p>
