<blockquote>
  <p>css will be parsed like a php file,</p>
</blockquote>

<p>This is a terrible idea!</p>

<p>Instead use <code>mod_rewrite</code> to rewrite <code>style2.css</code> to a PHP script</p>

<pre><code>RewriteRule ^style2\.css$ generate_style.php
</code></pre>

<hr>

<p>Other than that your session code looks fine, maybe PHP is just confused about the <code>.css</code> file.</p>
