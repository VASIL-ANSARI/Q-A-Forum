<p>Data read from a network connection will not always be received in the same sized chunks it was sent in.  This means the receiver needs to:</p>

<ol>
<li>Know exactly how much data to expect in a message.</li>
<li>Remember any "left over" data from the current message as that belongs to the next message.</li>
</ol>

<p>One of the easiest ways of doing this properly is to prefix the message with a byte-count and then only attempt to read that much data from the network connection.  That leaves any remaining data in the "network buffer" until the client wants it.</p>

<p>Your code is receiving a string, which will be <code>NUL</code>-terminated, so that means you need to read the data in fixed-sized chunks, check every byte until you find the end-of-string and then tack together the chunks before converting it to a string.  You then need to remember any "left over" data for the next message.  Complicated stuff, eh?</p>

<p>I'd go with the message size prefix, as that is what pretty much everyone else does.</p>
