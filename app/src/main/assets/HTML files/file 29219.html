<p>You are making the usual mistakes. You can't assume that recv() fills the buffer. You have to loop until you have all the data you need, and you have to make use of the count value returned by recv().</p>
