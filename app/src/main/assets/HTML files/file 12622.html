<p>The problem is simply that you're trying to call <code>fields_for</code> on an instance of the <code>Author</code> class (which is a model). The method isn't defined on the model, it's a helper method that's part of <a href="http://api.rubyonrails.org/classes/ActionView/Helpers/FormHelper.html#method-i-fields_for" rel="nofollow">ActionView</a>.</p>

<p>Try simply removing <code>a.</code> and do:</p>

<pre><code>&lt;%= fields_for a.books.build, :books do |b| %&gt;
  ...
&lt;% end %&gt; 
</code></pre>

<p>There are more examples in <a href="http://api.rubyonrails.org/classes/ActionView/Helpers/FormHelper.html#method-i-fields_for" rel="nofollow">the documentation</a>. This may not be the full answer to your situation, but anytime you'te getting <code>undefined method</code> errors, the problem is very straight forward - you're calling a method that doesn't exist either in the scope, or the object upon which you're calling it. Usually this happens because you think you're dealing with an object of class <code>x</code>, but really you've got class <code>y</code> and you didn't realize it.</p>
