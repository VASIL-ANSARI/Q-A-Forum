<p>Your code is mixing a synchronous return with asynchronous callbacks, the following code should do the right thing:</p>

<pre><code>driver.wait(function() {
    return driver.findElement(locator).isDisplayed();
}, timeout);
</code></pre>

<p>The inner function will return a promise that <code>driver.wait</code> will wait for and will take its value (true/false) as the waiting condition.</p>
