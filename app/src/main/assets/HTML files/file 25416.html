<p>When <code>models</code> is imported, it runs <code>from my_module.my_file import my_function</code>, which is not mocked yet. When you run your test case, the <code>my_function</code> name in the <code>models</code> module is already bound to the <em>real</em> function: patching <code>my_files</code> has no effect.</p>

<p>What you need is to patch <code>models.my_function</code>:</p>

<pre><code>with patch('models.my_function') as add_method:
    m = MyModel(name=name)
    m.save()
</code></pre>

<p>An alternative would be to patch <code>my_file.my_function</code> at <code>models</code> import time.</p>

<p>See <a href="http://www.voidspace.org.uk/python/mock/patch.html#where-to-patch" rel="nofollow">where to patch</a> documentation.</p>
