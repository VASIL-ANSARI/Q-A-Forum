<p>Using the JDI (Java Debug Interface), it is possible to view the stack frames of threads. The <a href="https://docs.oracle.com/javase/7/docs/jdk/api/jpda/jdi/com/sun/jdi/StackFrame.html" rel="nofollow">documentation</a> for StackFrame gives the method setValue which allows you to change the value of a local variable in the stack frame.</p>

<p>Additionally, the class <a href="https://docs.oracle.com/javase/7/docs/jdk/api/jpda/jdi/com/sun/jdi/ThreadReference.html#popFrames(com.sun.jdi.StackFrame)" rel="nofollow">ThreadReference</a> has a method popFrames which allows you to remove frames from the stack. </p>

<p>I don't think that directly using bytecode would allow you to make any further modifications to stack frames, as these are an internal detail of the JVM that bytecode can't directly change. In particular, I don't think it is possible to create new stack frames and add them to a thread (although this is something I would certainly be interested in finding out was possible!).</p>

<p>Hope this helps, there may be a few more useful methods hiding away in the JDI docs.</p>
