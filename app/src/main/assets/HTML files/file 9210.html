<p>Apache Tomcat's DefaultServlet might have most of what you're looking for.  At a glance, I see ETag parsing and AcceptRange handling.</p>

<p><a href="http://www.docjar.com/html/api/org/apache/catalina/servlets/DefaultServlet.java.html" rel="nofollow">http://www.docjar.com/html/api/org/apache/catalina/servlets/DefaultServlet.java.html</a></p>
