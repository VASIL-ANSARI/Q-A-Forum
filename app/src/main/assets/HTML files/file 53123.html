<p>I can propose to add a space at the beginning.</p>

<pre><code>$string = preg_replace('`(^| )\%(.*?)((.*?):(.*?);)(.*?)\%`si', ' &lt;span style="$2$5"&gt;', $string); // ( used as start tag html symbol
</code></pre>

<p>Try at <a href="https://3v4l.org/uubF7" rel="nofollow">https://3v4l.org/uubF7</a></p>
