<blockquote>
  <p><em>Where is the guarantee that the layout created by new fits into a buffer of size sizeof(B) and with offset zero</em></p>
</blockquote>

<p>From the the type being named in <code>new</code> as its argument being <code>B</code>. A <code>B</code> is being made, not an <code>D</code>. The type <code>B</code> "knows nothing" about <code>D</code>.  The declaration of <code>D</code> has no influence on <code>B</code>; the <code>B</code> declaration can be put into translation units in which <code>D</code> doesn't appear, yet everywhere in the program there will be agreement about the size of <code>B</code> and is layout, regardless of whether <code>D</code> is also known in those places or not.</p>

<p>A C++ object of type <code>T</code> has a size <code>sizeof T</code>. This means that it fits into <code>sizeof T</code> bytes; it cannot be the case that <code>(sizeof T) + k</code> bytes are required for its representation, where <code>k &gt; 0</code>.</p>
