<p>I don't think your data item looks like <code>[["123", ["8675", "90.0"]]]</code> based on how it's created... more likely it looks like <code>["123", ["8675", "90.0"]]</code></p>

<p>In which case, this should do what you want...</p>

<pre><code>group_array = @group_array.sort
result = []
save_3 = nil
save_4 = nil
total = 0.0
group_array.each do |group|
  if group[0] != save_3 || group[1][0] != save_4
    result &lt;&lt; [save_3, [save_4, total.to_s]] if save_3
    total = 0.0
    save_3 = group[0]
    save_4 = group[1][0]
  end
  total += group[1][1].to_f
end
result &lt;&lt; [save_3, [save_4, total.to_s]] if save_3
</code></pre>
