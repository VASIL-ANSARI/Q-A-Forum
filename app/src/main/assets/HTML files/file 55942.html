<p>I have now worked it out - thanks to the comments, especially from @rivimey which made me realise there probably wasn't anything wrong with the function itself but rather with the way it was being called. It turned out the warnings were being generated when the function was applied to an array which was not set. For example I use the function to sort the array of images associated with a database entry, but if there are no images then the array is not set.
So I have now added the following line to the function
    if (!isset($args[0])) { return;}<br>
Thanks for the help!</p>
