<p>You need to use a single Scanner:</p>

<pre><code>Scanner scan = null;
if (args[0] == null) {
    scan = new Scanner(System.in);
} else {      
    scan = new Scanner(testFile);
}
</code></pre>

<p>Then in the while loop:</p>

<pre><code>while (!isEnded) {
    readLine = countLines.getLine();
    if(readLine == null)
        break;
    isEnded = countLines.testLine(readLine);
}
</code></pre>
