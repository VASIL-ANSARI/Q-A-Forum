<p>Not sure what you would like to do with the use statement, but have amended a few quotes. </p>

<pre><code>DECLARE @vTableName varchar(2000)
DECLARE @vQuery varchar(2000)
SET @vTableName = '##temp_table_' + convert(NVARCHAR(8), getdate(),112)

SET @vQuery = ' sp_msforeachdb 
    ''use ? IF db_name() LIKE (''%_BASE'')

    INSERT INTO '+@vTableName+' 
         SELECT *
           FROM elements 
                WHERE identifier = ''P''
'
</code></pre>
