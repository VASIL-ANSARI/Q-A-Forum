<p><code>^</code> is anchoring the regular expression to only the beginning of the line. I assume that's part of the problem.</p>

<pre><code>$new_content = preg_replace('/VERSION\=[0-9]{8}/', $replacement, $content);
</code></pre>

<p>In addition, you will want to ensure that <code>$replacement</code> contains the <em>full</em> string for replacing the string matched by <code>VERSION\=[0-9]{8}</code>.</p>
