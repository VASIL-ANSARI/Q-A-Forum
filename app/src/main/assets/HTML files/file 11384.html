<p>Open your project in Xcode and select the top-level item in the <em>Project Navigator</em>. You should see the list of targets for your project. </p>

<p>Create a new target for the free version of your app. An easy way to do this is to control-click a current target that's similar to what you want and duplicate it. </p>

<p>Select your new target. In the <strong>Build Phases</strong> tab you can control which source files will be built as part of this target and which resources are copied for it. In the <strong>Build Settings</strong> tab search for <em>Preprocessor Macros</em> and add a new one, for example MYAPPLITE=1, for all build configurations. You can then do conditional compilation in your code with something like:</p>

<pre><code>#ifdef MYAPPLITE
    [self loadBoringFeature];
#else
    [self loadGreatFeature];
#endif
</code></pre>

<p>Finally, select <strong>Edit Scheme...</strong> from the Product menu. A new scheme should already have been created for your new target. You can rename it in the <em>Manage Schemes</em> sheet if you want. You can control specific settings for building, running, archiving etc. the new target here. </p>

<p>To switch between building the free version or the paid version you just change the active scheme. </p>

<p>The only real caveat is that you need to keep the settings for your new target up to date.</p>
