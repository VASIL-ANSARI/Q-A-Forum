<p>You can only call <code>new</code> on <code>class</code>es, and you've nested an <code>AAA::AAA</code> class inside your <code>AAA</code> module. You either need to call <code>AAA::AAA.new</code> or not wrap the class in the module. Even if you make <code>AAA</code> a top-level class instead of a module, you can still nest <code>AAA::BBB</code> inside it. That would look like this:</p>

<pre><code>class AAA &lt; ActiveRecord::Base
  class BBB &lt; ActiveRecord::Base
  end
end
</code></pre>

<p>Then you can call both <code>AAA.new</code> and <code>AAA::BBB.new</code>.</p>
