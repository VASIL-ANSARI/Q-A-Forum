<p>You are using <code>if __name__ == '__main__'</code> in wrong place.</p>

<pre><code>from multiprocessing import Pool
import time

start = time.clock()

def f(x):
    return x*x

def testfunc(r):
    print(True)
    with Pool(processes=7) as pool:     
        result = pool.map(f, range(r))
    return result

if __name__ == '__main__':
    result = testfunc(1000)
    print(time.clock() - start)
</code></pre>

<p>According to <a href="http://docs.python.org/3/library/multiprocessing.html#multiprocessing-programming" rel="nofollow"><code>multiprocessing - Programming guidelines</code></a>:</p>

<blockquote>
  <p><em>Safe importing of main module</em></p>
  
  <p>Make sure that the main module can be safely imported by a new Python
  interpreter without causing unintended side effects (such a starting a
  new process).</p>
  
  <p>... one should protect the âentry pointâ of the program by using if
  __name__ == '__main__': as follows:</p>
</blockquote>
