<p>All the nodes <em>are</em> deleted, but you never clear any pointers. So what you're doing is dereferencing invalid pointers leading to <a href="http://en.wikipedia.org/wiki/Undefined_behavior" rel="nofollow"><em>undefined behavior</em></a>.</p>

<p>The <code>free</code> function doesn't automatically set pointers to <code>NULL</code>.</p>
