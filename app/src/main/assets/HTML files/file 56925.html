<p>First of all, instead of creating your "ListViewWithDataContext" as a regular user control, create it as a WPF "CustomControl". For this, perform the following steps:</p>

<ul>
<li>Delete your existing "ListViewWithDataContext" control</li>
<li><p>Right-click on your project and click "Add New Item" -> "Custom Control (WPF)".
<a href="http://i.stack.imgur.com/QKs6e.png" rel="nofollow"><img src="http://i.stack.imgur.com/QKs6e.png" alt="Custom Control"></a></p></li>
<li><p>Visual Studio will automatically create a new project folder "Themes" and create a new .xaml file called "Generic.xaml" underneath it, like so:</p></li>
</ul>

<p><a href="http://i.stack.imgur.com/lDvGX.png" rel="nofollow"><img src="http://i.stack.imgur.com/lDvGX.png" alt="enter image description here"></a></p>

<ul>
<li>Visual Studio will also create a straight-up C# class file titled, "ListViewWithContextMenu.cs"</li>
</ul>

<p><strong>Copy and paste the following code from here into the corresponding files:</strong></p>

<p>Generic.xaml</p>

<pre><code>&lt;ResourceDictionary
xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
xmlns:local="clr-namespace:WpfApplication4"&gt;


&lt;Style TargetType="{x:Type local:ListViewWithContextMenu}"&gt;
    &lt;Setter Property="Template"&gt;
        &lt;Setter.Value&gt;
            &lt;ControlTemplate TargetType="{x:Type local:ListViewWithContextMenu}"&gt;
                &lt;Border Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"&gt;

                    &lt;Border.ContextMenu&gt;
                        &lt;ContextMenu&gt;
                            &lt;MenuItem  Command="{TemplateBinding PreviewCommand}" /&gt;
                        &lt;/ContextMenu&gt;
                    &lt;/Border.ContextMenu&gt;
                &lt;/Border&gt;
            &lt;/ControlTemplate&gt;
        &lt;/Setter.Value&gt;
    &lt;/Setter&gt;
&lt;/Style&gt;
</code></pre>

<p></p>

<p>ListViewWithContextMenu:</p>

<pre><code>using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Data;
using System.Windows.Documents;
using System.Windows.Input;
using System.Windows.Media;
using System.Windows.Media.Imaging;
using System.Windows.Navigation;
using System.Windows.Shapes;

namespace WpfApplication4
{

   public class ListViewWithContextMenu : ListView
   {

       public ICommand PreviewCommand
       {
           get { return (ICommand)GetValue(PreviewCommandProperty); }
           set { SetValue(PreviewCommandProperty, value); }
       }

       public static readonly DependencyProperty PreviewCommandProperty =
        DependencyProperty.Register("PreviewCommand", typeof(ICommand), typeof(ListViewWithContextMenu));


       static ListViewWithContextMenu()
       {
           DefaultStyleKeyProperty.OverrideMetadata(typeof(ListViewWithContextMenu), new FrameworkPropertyMetadata(typeof(ListViewWithContextMenu)));
       }
   }
}
</code></pre>

<p>I tested it, and it works.</p>

<p><a href="http://i.stack.imgur.com/IbCHc.png" rel="nofollow"><img src="http://i.stack.imgur.com/IbCHc.png" alt="It works"></a></p>

<p><strong>What we did here:</strong>
Since all we want to do is leverage the existing ListView control, but not change any of the existing UI appearances, we simply created a ListView  "CustomControl" that essentially overrides the current template. In the .cs file, we defined the PreviewCommand DependencyProperty.</p>

<p>In the Generic.xaml file, we used a "Border" as a root-level control to house the Control (although we could have used a Grid, or whatnot) and we added a context menu to it.</p>
