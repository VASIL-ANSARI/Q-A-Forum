<p>you create a controller/method that does the checking, </p>

<p>create a simple button with javascript (not type="submit", because you are gonna trigger the form.submit() manually) you send the file name via ajax to your controller/method, and show a confirmation box in the client side according to the response you get, if he clicks ok cancel, you add an 'overwrite' parameter to the form (via javascript) then submit it.</p>

<p>The solution I'm providing here is based on my understanding of what you have explained, I didn't really get the point of appending a number to the file when he clicks cancel, but if you explain more you may get a better answer, </p>

<p>good luck.</p>
