<p>Just use <code>data.seekp(pos);</code> then <code>data.write()</code> - you shouldn't need to stuff around with the buffer at all.</p>
