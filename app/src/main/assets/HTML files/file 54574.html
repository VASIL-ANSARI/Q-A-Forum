<p>C++ is not C! While you can use C-style (and often C) code this is not advisable. Firstly you should not normally rely on macros as they violate the type system, use (possibly inlined or constexpr) functions instead. Then you should not use C-style error handling technique, use exceptions instead. I'd also recommend against variadic arguments in general and finally you don't need C-style string formatting techniques -> this is C++, use stringstreams to format your code. </p>

<p>In your particular case I'd do something like this: </p>

<pre><code>#include &lt;exception&gt;
#include &lt;iostream&gt;
#include &lt;sstream&gt;
#include &lt;string&gt;

inline void fatal(std::string msg) {
  // clean_up
  throw std::runtime_error(msg);
}

int main(){
  std::ostringstream msg;
  msg &lt;&lt; "Just a test: " &lt;&lt; 1 &lt;&lt; 2;
  if(1) fatal(msg.str());
  return 0;
}
</code></pre>
