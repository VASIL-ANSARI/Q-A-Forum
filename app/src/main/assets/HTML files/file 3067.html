<p>Update: Although the method that I describe below will still work, it is not possible to upload files directly using tokens (thanks to <a href="/users/439898/designerguy">DesignerGuy</a> for that info). You can read more about how to do that <a href="https://developer.rackspace.com/docs/cloud-files/v1/developer-guide/" rel="nofollow">here</a>. I should also mention that services like <a href="https://transloadit.com/" rel="nofollow">transloadit</a> now make this sort of thing trivially easy using jquery inserts into HTML forms. Still the method that I describe below still works and probably gives you the most control.</p>

<p>You cannot load files -directly- to Rackspace Files, without trying something like embedding your Rackspace credentials into the form. Even if this were possible it would not be a good idea. (i.e. the user could add massive content using your credentials that have nothing to do with your application). So to get what you want, which is essentially to have the file stored at Rackspace, and the location of the file stored in your server you need to modify your work flow. It needs to be:</p>

<ol>
<li>Form uploads file to -your server-</li>
<li>-your server- calculated the container and filename that the file will use</li>
<li>-your server- uploads the temporary file to rackspace files</li>
</ol>

<p>If you want the file to be publically downloadable...</p>

<ol start="4">
<li>-your server- enables the file to be served via the CDN, making a public URL for the file that your user can access.</li>
<li>when your server creates html it embeds the CDN urls and the user magically gets the files</li>
</ol>

<p>If you want the file to be only downloadable by -certain- users....</p>

<ol start="4">
<li>-your server- authenticates with rackspace and downloads the file temporarily</li>
<li>-your server- serves the file AND the HTML both from your server</li>
</ol>

<p>You do not pay for bandwidth between -your server- and rackspace files, if -your server- is also a rackspace cloud instance or a regular Rackspace Managed Server (or at least that is what customer support has told me). An important fact when calculating the rates between Amazon and Rackspace. </p>

<p>So you can either use Rackspace Files as a massive hard-drive for your server, which gives you control over access, or you can use it as a massive public distribution network...
But in both cases you might need to change the order of your steps to give you what you want...</p>

<p>You might also look at <a href="http://www.thetutorialblog.com/php/uploading-files-to-rackspace-cloud-mosso-using-php-api/" rel="nofollow">a simple example of using php to upload a file gathered from an HTML form to rackspace files</a>.</p>
