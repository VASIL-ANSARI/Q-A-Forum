<p>If I understand you then try this query, but I do not know which database you use, and why TOTAL_OOS_STB_CNT = 4 ?</p>

<pre><code>SELECT oms1.RUN_DATE
, COUNT (oms1.dvr_ind) AS TOTAL_STB_CNT
, (select count(*) from oms1 
   where oms1.dvr_ind = 'N' 
   and   ban not in (select ban from enab1)) AS TOTAL_OOS_STB_CNT 
FROM oms1 
WHERE oms1.dvr_ind = 'N' 
GROUP BY oms1.RUN_DATE 
</code></pre>

<p>If it not work then you have to more describe the problem</p>

<p>It is not beautiful, but I hope it'll help</p>
