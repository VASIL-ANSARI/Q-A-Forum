<p>Well, you'll have to find some way to pass the <code>engine</code> variable to your <code>custom_db_api</code> module. This might be marginally cleaner...</p>

<pre><code>Base = declarative_base()

class Something(Base):
    pass

def initialize(engine):
    Something.__table__ = Table('something', Base.metadata, autoload_with=engine)
</code></pre>

<p>...or if you can infer the correct engine initialization parameter from some 'global', like <code>sys.argv</code>, you could use something like this...</p>

<pre><code>import sys

Base = declarative_base()
if len(sys.argv) &gt; 1 and sys.argv[1] == '--use-alt-db':
    engine = create_engine('mysql://user:pass@alt_host/db_name')
else:
    engine = create_engine('mysql://user:pass@main_host/db_name')

table = Table('something', Base.metadata, autoload_with=engine)

class Something(Base):
    __table__ = table
</code></pre>

<p>It kinda depends on how you intend to tell the program which DB to use.</p>
