<p>Below is an example of how you can map your use case with <a href="http://www.eclipse.org/eclipselink/moxy.php" rel="nofollow"><strong>EclipseLink JAXB (MOXy)</strong></a>.</p>

<p><strong>package-info</strong></p>

<p>First you need to set up the namespace information using the package level <code>@XmlSchema</code> annotation.  We will leverage the namespace prefixes specified with the <code>@XmlNs</code> annotation later with the <code>@XmlPath</code> annotation.</p>

<pre><code>@XmlSchema(
    namespace="http:// www.example.com/working/gtm",
    xmlns={
        @XmlNs(prefix="gtm", namespaceURI="http:// www.example.com/working/gtm")
    },
    elementFormDefault=XmlNsForm.UNQUALIFIED)
package forum10548370;

import javax.xml.bind.annotation.*; 
</code></pre>

<p><strong>Message</strong></p>

<p>The <code>@XmlPath</code> annotation is used to specify an XPath based mapping with MOXy.  Since in the <code>@XmlSchema</code> annotation we specified <code>elementFormDefault=XmlNsForm.UNQUALIFIED</code>, the portions of the XPath without a prefix will not be namespace qualified.</p>

<pre><code>package forum10548370;

import javax.xml.bind.annotation.*;
import org.eclipse.persistence.oxm.annotations.XmlPath;

@XmlRootElement(name="message", namespace="")
@XmlAccessorType(XmlAccessType.FIELD)
public class Message {

    @XmlPath("gtm:header/someid/text()")
    private String id;

    @XmlPath("gtm:header/sometext/text()")
    private String text;

    @XmlElement(namespace="http:// www.example.com/working/gtm")
    private String customer;

}
</code></pre>

<p><strong>jaxb.properties</strong></p>

<p>To specify MOXy as your JAXB provider you need to add a file called <code>jaxb.properties</code> in the same package as your domain model with the following entry (see <a href="http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html" rel="nofollow">http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html</a>):</p>

<pre><code>javax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory
</code></pre>

<p><strong>Demo</strong></p>

<pre><code>package forum10548370;

import java.io.File;
import javax.xml.bind.*;

public class Demo {

    public static void main(String[] args) throws Exception {
        JAXBContext jc = JAXBContext.newInstance(Message.class);

        File xml = new File("src/forum10548370/input.xml");
        Unmarshaller unmarshaller = jc.createUnmarshaller();
        Message message = (Message) unmarshaller.unmarshal(xml);

        Marshaller marshaller = jc.createMarshaller();
        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);
        marshaller.marshal(message, System.out);
    }

}
</code></pre>

<p><strong>input.xml/Output</strong></p>

<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;message xmlns:gtm="http:// www.example.com/working/gtm"&gt;
   &lt;gtm:header&gt;
      &lt;someid&gt;&lt;/someid&gt;
      &lt;sometext&gt;&lt;/sometext&gt;
   &lt;/gtm:header&gt;
   &lt;gtm:customer&gt;0123456789&lt;/gtm:customer&gt;
&lt;/message&gt;
</code></pre>

<p><strong>For More Information</strong></p>

<ul>
<li><a href="http://blog.bdoughan.com/2010/09/xpath-based-mapping-geocode-example.html" rel="nofollow">http://blog.bdoughan.com/2010/09/xpath-based-mapping-geocode-example.html</a></li>
<li><a href="http://blog.bdoughan.com/2010/08/jaxb-namespaces.html" rel="nofollow">http://blog.bdoughan.com/2010/08/jaxb-namespaces.html</a></li>
</ul>
