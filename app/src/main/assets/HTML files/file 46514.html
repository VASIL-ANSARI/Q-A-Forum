<p>This is exactly what is expected: if the Activity has not been destroyed, you get the Intent in your onNewIntent, otherwise a new Activity will be created and you have to handle the Intent inside the onCreate. A simple snippet of code to create a PopupWindow:</p>

<pre><code>@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    View root = findViewById(R.id.parentView);
    root.post(new Runnable() {
        @Override
        public void run() {
            LayoutInflater inflater = (LayoutInflater)
                    MainActivity.this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            View view = inflater.inflate(R.layout.popup_view, null, false);
            PopupWindow popupWindow = new PopupWindow(view, 300, 300, true);
            popupWindow.showAtLocation(findViewById(R.id.test), Gravity.CENTER, 0, 0);
        }
    });
}
</code></pre>

<p>where R.id.parentView is one of the View of your Activity and R.layout.popup_view is your PopupWindow layout.</p>
