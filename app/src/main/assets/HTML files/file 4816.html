<p>You could read the string character by character until you find the end, then rewind to the beginning, allocate a buffer of the right size, and re-read it into that, but unless you are on a tiny embedded system this is probably silly.  For one thing, the fgetc, fread, etc functions create buffers in the O/S anyway.</p>

<p>You could allocate a temporary buffer that's large enough, use a length limited read (for safety) into that, and then allocate a buffer of the precise size to copy it into.  You probably want to allocate the temporary buffer on the stack rather than via malloc, unless you think it might exceed your available stack space.</p>

<p>If you are writing single threaded code for a tiny system you can allocate a scratch buffer on startup or statically, and re-use it for many purposes - but be really carefully your usage can't overlap!</p>

<p>Given the implementation complexity of most systems, unless you really research how things work it's entirely possible to write memory optimized code that actually takes more memory than doing things the easy way.  Variable initializations can be another surprisingly wasteful one.</p>
