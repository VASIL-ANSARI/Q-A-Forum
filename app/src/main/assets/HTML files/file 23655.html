<p>I have not tested it so maybe this doesn't work (if so and this would be no help I will remove the answer).</p>

<p>First method is to check each key-value pairs recursively and then find what matches.</p>

<p>The second option can be that you recursively create flat key - value arrays using <code>array_values()</code> and <code>array_keys()</code>. I mean from something like</p>

<pre><code>array(
  'subkey1' = array(
     'key1' = value1,
     'key2' = value2),
  'subkey2' = value3
)
</code></pre>

<p>You iteratively and recursive do</p>

<pre><code>array(
  'key1' = value1,
  'key2' = value2,
  'subkey2' = value3
)
</code></pre>

<p>If you do this with both arrays being compared, you can find the matching key-value pairs using <code>array_intersect_assoc()</code>.</p>

<p>This would however won't work if for example <code>'key1' == 'subkey2'</code>.</p>
