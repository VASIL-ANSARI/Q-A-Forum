<p>I believe in this platform the debug symbols stay in the .o file(s), they are not moved to the executable. To get symbols in gdb or profilers you need to save the .o files. This may mean that you need to compile your application in two steps (compile, then link) to preserve the .o files.</p>

<p>See <a href="http://stackoverflow.com/questions/3353722/how-do-i-debug-c0x-programs-in-macports-gcc-4-5">this question</a> for additional information.</p>

<p>In looking at the pprof Perl source code, symbol names are obtained via the use of <code>nm</code> and <code>c++filt</code>, so you could try to run those standalone and figure out why they don't work. From the pprof source it looks like it tries a bunch of different command line arguments to cover several versions of nm. This is a summary of the ways</p>

<p>nm [-D] -n [-f] [--demangle] object-file 2>/dev/nul [| cpp+filt]</p>

<p>The parts that I put in brackets are those that the script determines at runtime if are required for your platform and versions of nm and c++filt. Try all the combinations of the above and see what works. Then look at what the pprof script does, maybe by adding some printfs to it.</p>

<p>Good luck.</p>
