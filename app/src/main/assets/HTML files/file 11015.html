<p>From what I can see you never append to a file but always write it new. But from what you wrote above (without having read the whole code) you want to append Data to the file.</p>

<pre><code>new FileWriter("path", true);
</code></pre>

<p>Does that help you?</p>

<p>Another suggestion drop the File write and use this:</p>

<pre><code>public static void foo()
{
    // ...

    byte[] fifeMBByteAryOne = new byte[5242880];
    ByteArrayStream bStream = new ByteArrayStream(fifeMBByteAryOne);
    BufferedWriter out = new BufferedWriter(new OutputStreamWriter(bStream));
    byte[] fifeMBByteAryTwo = new byte[5242880];
    ByteArrayStream bStream2 = new ByteArrayStream(fifeMBByteAryTwo);
    BufferedWriter out2 = new BufferedWriter(new OutputStreamWriter(bStream2));

    // ...

}

private static class ByteArrayStream extends OutputStream {
    int index = 0;
    byte[] container;

    public ByteArrayStream(byte[] container) {
        this.container = container;
    }

    @Override
    public void write(int b) throws IOException {
        container[index++] = (byte)b;
    }

}
</code></pre>

<p>Then let it run again and see how long it takes. If it is as slow as before, the File is not your problem.</p>

<hr>

<p>After having read through the code, I'm fairly sure that you are a student or beginner in java programming, that's fine, but you should have stated that in your question. Also it causes people to give you advices rather than direct solutions to your problem.</p>

<p>There are a lot of things you could improve.
The first and from my point of view very important: You coding style needs improvement. Really! There are standards on how you write variables (starting with a small letter) methods and so on. Use them. You use far more variables than you need and you define them all at the beginning of the method.
You use Sets and Iterators when you don't need them (e.G.</p>

<pre><code>Set s = currentWord.getDocList().entrySet();
Iterator it = s.iterator();
Map.Entry mm = (Map.Entry) it.next();
docId = (Integer) mm.getKey();
</code></pre>

<p>then you never use the value of docId, but of course this action here takes time.</p>

<p>Rewrite that method and this time understand what you do and do only what you need, when you need it, the way it is now I would not allow anyone in my company to use it for a customer.</p>

<p>Second: when you post code to the internet be sure to post code that compiles directly. I needed 15 Minutes to have that code compiling. There are very few people around that have that much patience. </p>

<p>Third: For Situations were you write less than ~ 2MB of text its usually useful to use a StringBuilder to construct the whole text and to write it as one thing in the end. That makes debugging easier.</p>

<p>Fourth: Before you post code on the internet be sure to have thought about the problem yourself and have tested to solve it. In this case you could use Dates to do so, just write a text like:</p>

<pre><code>// at the beginning of a loop
long startedAt = new Date().getTime();
// somewhen within the loop:
System.out.println("in situation X " + (new Date().getTime()-startedAt);
</code></pre>

<p>That way you can see what step takes how long and can then start to optimize that area.</p>

<p>Fifth: If after Fourth there is still a problem be sure to post a short piece of code that demonstrates clearly your problem. Don't rely on the other users to understand your problem, show it to them. Make it easy for them by using self explaining variable-, method-, classnames in the language you are asking. Same goes for your comments.</p>

<p>Sixth: The reason you should do all this is to give you the ability to solve your problems yourself and to ask people with extended skills only the problems that are worth their time.</p>

<p>Good luck</p>
