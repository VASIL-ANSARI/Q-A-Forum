<p>A few ideas:</p>

<ol>
<li>You don't need to set the <code>progressBar1</code> max on each iteration of the loop, it's pointless since <code>bufferSize</code> doesn't change inside the loop. Move that command outside the loop.</li>
<li>try to remember your previous progress: <code>prevProgress = (i / mFileLen)</code>. Then measure your new progress: <code>currProgress = (i / mFileLen)</code>. Then, if the difference between the two progresses isn't greater than 0.01 (1%), don't update the UI: <code>if (currProgress - prevProgress &gt;= 0.01) publishProgress(...);</code></li>
</ol>

<p>Here's an example:</p>

<pre><code>        float currProgress = 0;
        float prevProgress = 0;
        for (int i = 0; i &lt; bufferSize; i++) 
        {
            currProgress = ((float)i / (float) mFileLen);

            if (currProgress - prevProgress &gt;= 0.01)
            {
                publishProgress((int) (currProgress * 100));
                prevProgress = currProgress;
            }
        } 
</code></pre>

<p>You could make it work even faster by updating the UI when the progress is larger than 2% (0.02) rather than 1% (0.01), etc.</p>

<p>Also, I'm feeling that there's no real correlation between <code>i</code> and <code>mFileLen</code>... What's your <code>bufferSize</code>? Is it less than <code>mFileLen</code> (it should be). In this case, you should use a separate variable to count the overall progress it use that instead of <code>i</code> to measure the progress.</p>

<p>Hope this helps.</p>
