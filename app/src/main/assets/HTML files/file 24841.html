<p>You can find the string preceding a value you know with the following regex:</p>

<pre><code>$receipt = "NAME OF ITEM 123456789012\n" .
           "OTHER NAME   987654321098\n" .
           "NAME         567890123456";
$upc = '987654321098';
if (preg_match("/^(.*?) *{$upc}/m", $receipt, $matches)) {
    $name = $matches[1];
    var_dump($name);
}
</code></pre>

<p>The /m flag on the regex makes the ^ work properly with multi-line input.<br>
The <code>?</code> in <code>(.*?)</code> makes that part non-greedy, so it doesn't grab all the spaces</p>
