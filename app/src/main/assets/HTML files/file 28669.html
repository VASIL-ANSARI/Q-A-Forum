<p>You can't return <code>std::ifstream</code> object as <code>FILE*</code>. Try to change:</p>

<pre><code>FILE* open(const char filename[])
</code></pre>

<p>to</p>

<pre><code>std::ifstream open(const char* filename)
</code></pre>

<p>and instead of checking whether <code>NULL</code> has been returned, use <code>std::ifstream::is_open()</code>:</p>

<pre><code>std::ifstream is = open("myfile.txt");
if (!is.is_open()) {
    // file hasn't been opened properly
}
</code></pre>
