<p>there is no difference having a hostname either as cname or A-Record. $_SERVER['SERVER_NAME'] has nothing to do with that. Cname is <em>not</em> a http-redirect.</p>

<p>If you want to determine the host (as requested by the user via http/1.1) which was requested in using your script, use $_SERVBER['HTTP_HOST]</p>
