<p>If I understand correct, 7 is a duplicate of 1 and 8 is a duplicate of 2.  As phrased, your question is a bit confusing, because 7 and 8 are not related to each other and the only table of interest is <code>ProductAttributeCombinations</code>.</p>

<p>If this is the case, then one method is to use string aggregation</p>

<pre><code>with combos as (
      select id_product_attribute,
             string_agg(id_attribute::text, ',' order by id_attribute) as combo
      from ProductAttributeCombinations pac
      group by id_product_attribute
    )
select *
from combos c
where exists (select 1
              from combos c2
              where c2.id_product_attribute &gt; c.id_product_attribute and
                    c2.combo = c.combo
             );
</code></pre>
