<p>You have extra parenthesis after <code>onchange</code> on these lines</p>

<pre><code>document.querySelector('#Line').onchange() = function () {

document.querySelector('#Rectangle').onchange() = function () {

document.querySelector('#Circle').onchange() = function () {
</code></pre>

<p>It should be</p>

<pre><code>document.querySelector('#Line').onchange = function () {
</code></pre>

<p>This test seems to work a lot better without the parenthesis: <a href="http://jsfiddle.net/rrb1xxjs/" rel="nofollow">http://jsfiddle.net/rrb1xxjs/</a></p>

<hr>

<p>You can have a single set of function bound on <code>mouseup</code> and <code>mousedown</code>, calling a function that check the value of <code>shape</code> and call the requested drawing function:</p>

<pre><code>function draw() {
    // Tmp canvas is always cleared up before drawing.
    tmp_context.clearRect(0, 0, tmp_canvas.width, tmp_canvas.height);

    switch(shape) {
        case 'Line': onLine(); break;
        case 'Rectangle': onRect(); break;
        case 'Circle': onCircle(); break;
    }
}
</code></pre>

<p>Also, since the Line radio button is selected by default, the <code>shape</code> variable should be initialized accordingly</p>

<pre><code>var shape = 'Line';
</code></pre>

<p><a href="http://jsfiddle.net/djd5m4yu/1/" rel="nofollow">Example here</a></p>

<p>That may not be the overall best way to do this, but I think it's what best matches your existing code.</p>
