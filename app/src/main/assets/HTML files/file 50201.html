<p>Your <code>memset</code> is wrong, specifically <code>sizeof(newMsg)</code> where <code>newMsg</code> is a pointer. So <code>sizeof(newMsg)</code> is most likely 2 or 4 depending on your platform. The first one might work by luck, having already 0 in uninitialized memory. </p>

<p>Use the size passed to <code>malloc</code> also for <code>memset</code> (or only write the string terminator <code>'\0'</code> after you copied your data with the <code>for</code> loop.</p>

<p>And also check if <code>malloc</code> succeeded, i.e. it's return value is not <code>NULL</code>.</p>

<p>Edit: To refactor your second function, you can remove the call to <code>memset</code> and change</p>

<pre><code>for (int x=0;x&lt;strlen(msg);x++) newMsg[x] = msg[x+startChar];
</code></pre>

<p>to</p>

<pre><code>int x;
for (x=0;x&lt;strlen(msg);x++) newMsg[x] = msg[x+startChar];
newMsg[x] = '\0'; // Or just 0, it is equivalent
</code></pre>
