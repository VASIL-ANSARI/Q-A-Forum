<p>try this</p>

<pre><code>@products = Product.joins(:stores).where("#{Store::Store.table_name}.id IN (?)", params[:store_ids]).paginate(page: params[:page], order: 'name asc', per_page: 10)
</code></pre>

<p>maybe it will duplicate products so add method <code>uniq</code> after <code>where</code>, this applies <code>distinct</code> in the query</p>
