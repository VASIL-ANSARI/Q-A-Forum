<p>This is unfortunately a long-standing issue, more than six years to be fair:</p>

<p><a href="https://bugreports.qt-project.org/browse/QTBUG-2842" rel="nofollow">QSignalSpy crashes if signal is emitted from worker thread</a></p>

<p>I met Jason at the Qt Contributor Summit a couple of years ago, but then he left Nokia not much after that as Nokia closed the Brisbane office where he was working. After that, there was not much contribution going on in this test module of Qt, sadly.</p>

<p>There was recently more discussion about it on the mailing list, too:</p>

<p><a href="http://comments.gmane.org/gmane.comp.lib.qt.devel/19008" rel="nofollow">Why is QSignalSpy using Qt::DirectConnection?</a></p>

<p>The solution proposed by Roland was this that the maintainer, Thiago, also accepted:</p>

<pre><code>if (thread() != QThread::currentThread())
{
    QMetaObject::invokeMethod(this, "exitLoop", Qt::QueuedConnection);
    return;
}
</code></pre>

<p>It is a bit of shame really that this did not go in before 5.4. Having said that, this will be fixed for Qt 5.4 as the change was merged:</p>

<p><a href="https://codereview.qt-project.org/#/c/98204/" rel="nofollow">Make QTestEventLoop::exitLoop() thread-safe</a></p>
