<p>Assuming we have MS SQL 2005</p>

<pre><code>With rels
(
   Select f.requesterId as target_id
   From friendships f 
   Where is_confirmed = 1 and f.accepter_id='Your Id'
   Union 
   Select 'Your id'
)
Select p.*
From posts p 
  left join rel r on r.target_id = p.user_id  -- this will be null on for non-target users
  left join likes l on p.post_id=l.post_id -- here we will pick likes
  left join rel r1 on r1.target_id=l.user_id
where coalesce(r1.target_id, r2.target_id) is not null -- telling sql to pick posts we are interested in
</code></pre>

<p>or replace CTE rel with sub-query.</p>
