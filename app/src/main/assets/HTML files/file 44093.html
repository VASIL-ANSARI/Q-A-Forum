<p>It seems like your example can be boiled down to this:</p>

<ul>
<li>K=1 : 1st element with itself</li>
<li>K=2,3 : 1st element with 2nd element</li>
<li>K=4,5 : 1st element with 3rd element</li>
<li>K=6,7 : 1st element with 4th element</li>
<li>K=8 : 2nd element with itself</li>
<li>K=9,10 : 2nd element with 3rd element</li>
<li>K=11,12 : 2nd element with 4th element</li>
<li>K=13 : 3rd element with itself</li>
<li>K=14,15 : 3rd element with 4th element</li>
<li>K=16 : 4th element with itself</li>
</ul>

<p>So what you have is:</p>

<ul>
<li>1st element with itself</li>
<li>N element pairs (1 with 2, 2 with 1 etc) : 2*(N-1)</li>
<li>2nd element with itself.</li>
<li>(N-1) element pairs (2 with 3, 3 with 2 etc):  2*(N-2)</li>
<li>3rd element with itself</li>
<li>(N-2) element pairs (3 with 4, 4 with 3 etc) : 2*(N-3)</li>
<li>4th element with itself</li>
</ul>

<p>And so on. So you can easily find in O(n) your "main" element and then simply find using another O(n) loop your k element.</p>
