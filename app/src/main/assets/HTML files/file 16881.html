<p>I would recommend looking into doing this differently. There are many plugins available that do this sort of thing.</p>

<p>But, here's the answer to your question: <a href="http://jsfiddle.net/6Vku8/1/" rel="nofollow">http://jsfiddle.net/6Vku8/1/</a></p>

<pre><code>for (var i = 0; i &lt; links_ul.children.length; i++) {
    links_ul.children[i].onclick = function(ev) {
        s = document.getElementById('a_' + this.id);
        popup = document.getElementsByClassName('show');
        var shown = s.className == 'show';

        for (var j = 0; j &lt; popup.length; j++) {
            popup[j].className = '';
        }
        s.className = shown ? '' : 'show';
    };
}â
</code></pre>

<p>You need to find out whether or not the div is "shown" before hiding all of the divs. </p>
