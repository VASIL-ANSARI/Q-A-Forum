<p>You have to keep a global variable that holds the total uploaded bytes so far and update it inside the progress handler.</p>

<pre><code>var totalLoaded = 0
</code></pre>

<p>Inside <code>uploadFile()</code>:</p>

<pre><code>var chunkLoaded = 0;
....
function(e) {
  var prevLoaded = chunkLoaded;

  if (e.lengthComputable) {
    // use e.loaded and e.total as a percentage of bytes per chunk
    // upload request contains more bytes than the actual chunk
    chunkLoaded = Math.ceil(e.loaded / e.total * BYTES_PER_CHUNK);
    totalLoaded = totalLoaded - prevLoaded + chunkLoaded;
    // update progress bar here
  }
}
</code></pre>

<p>Btw, are you uploading 20 chunks at the same time? That's typically not very healthy and is prone to dropping connections (for which you have to update the <code>totalLoaded</code> as well if you wish to retry the chunk).</p>

<p>It's better to limit the number of concurrent uploaders to 2/3.</p>
