<p>I see 3 options here:</p>

<ul>
<li><p>Create a list anyway, you can do so with a list comprehension:</p>

<pre><code>random.choice([a for a in agents if a.state == 0])
</code></pre></li>
<li><p>Put the <code>random.choice()</code> call in a loop, keep trying until you get one that matches the criteria:</p>

<pre><code>while True:
    agent = random.choice(agents)
    if agent.state == 0:
        break
</code></pre></li>
<li><p>Index your <code>agents</code> list, then pick from that index; these are really just lists still:</p>

<pre><code>agent_states_index = {}
for index, agent in enumerate(agents):
    agent_states_index.setdefault(agent.state, []).append(index)

agent_index = random.choice(agent_states_index[0])
agent = agents[agent_index]
</code></pre></li>
</ul>
