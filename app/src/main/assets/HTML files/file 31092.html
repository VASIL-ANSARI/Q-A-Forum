<p>Your situation is easy because one of the transactions a purely read transaction. Look into snapshot isolation. Running the reader under <code>SNAPSHOT</code> isolation level will give it a point-in-time consistent view of the entire database. No locks will be taken or waited on.</p>

<p>This means that at t2 the insert will not be visible to C2.</p>

<p>This is very easy to implement and solves the problem completely.</p>

<p><em>Without</em> <code>SNAPSHOT</code> isolation you'd need <code>SERIALIZABLE</code> isolation and you'll deadlock a lot. Now you need to investigate locking hints. Much more complex, not necessary.</p>
