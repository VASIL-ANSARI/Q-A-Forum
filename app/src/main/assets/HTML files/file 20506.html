<p>Maybe you should move the <code>test()</code> method to a new thread and manipulate the shared field <code>spacePressed</code> from the event handler.</p>

<p>That way, you would have a background thread which does some magic until the variable becomes false and the event handler is driven by the OS.</p>

<p>Note that it's usually not a good idea to use a thread to watch keyboard and mouse; the events sent to you by the OS are already asynchronous. Waiting for them in a special thread is like doing the same thing twice.</p>

<p>Instead use worker threads which respond to "events" sent by the event handler. <a href="http://tutorials.jenkov.com/java-util-concurrent/blockingqueue.html" rel="nofollow">Look into queues</a>.</p>

<p>Event handler:</p>

<pre><code>if( spaceWasPressed( keyboardEvent ) ) {
    queue.put( new SpaceWasPressed() );
}
</code></pre>

<p>Worker thread:</p>

<pre><code>while( queue.poll( 1, TimeUnit.SECONDS ) == null ) {
    pasteAtCursorLocation("Test");
}
</code></pre>
