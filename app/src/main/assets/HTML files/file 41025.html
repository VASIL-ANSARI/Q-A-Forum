<p>Open gl contexts are global but you can explicit share a context between 2 Viewers like so
</p>

<pre><code>QGLViewer   (   QGLContext *    context,
        QWidget *   parent = 0,
        const QGLWidget *   shareWidget = 0,
        Qt::WindowFlags     flags = 0 
    )   
</code></pre>

<p>Acoording to ducumentation</p>

<blockquote>
  <p>Same as QGLViewer(), but a QGLContext can be provided so that viewers
  share GL contexts, even with QGLContext sub-classes (use shareWidget
  otherwise).</p>
</blockquote>

<p>So first check the order in witch you classes are created. Because the Cube  could be calling opengl functions whilest your vieuwer is still incomplete
If you call opengl functions before the QGLviewer has created a context you get an error.</p>

<p>if so a quick work around would be to create a new Qglcontext in your construtor of cube and pass it back to they viewer.</p>

<p>Else do this </p>

<pre><code>Cube() {}; // empty cube constructor
void InitShaders()
   {
      m_shaderProgram.addShaderFromSourceFile(QGLShader::Vertex, ":/vertex.glsl");
      m_shaderProgram.addShaderFromSourceFile(QGLShader::Fragment, ":/fragment.glsl");
      m_shaderProgram.link();

      //Initialize VAO and VBOs
   }
</code></pre>

<p>and in the constructor of my viewer do</p>

<pre><code>MyViewer(const QGLFormat format){
    cube.initShaders();

}
</code></pre>

<p>I have not tested this code but it should alter the order of initialization.</p>
