<p>Output buffer will have no effect here. Output buffers are designed to control when <em>output</em> (echo or print statements) is sent. The renaming of an image will occur as soon as you execute the statement - irregardless of what output your script sends.</p>

<p><a href="http://php.net/manual/en/intro.outcontrol.php" rel="nofollow">http://php.net/manual/en/intro.outcontrol.php</a></p>
