<p>Try this (untested but logic should be correct):</p>

<pre><code>$orders = // original array;
$new;     // new array

foreach($orders as $order) {
    $pi = $order["product_id"];                // get product_id
    $attr = json_decode($order["attributes"]); // get attributes:
    $size = $attr[0]-&gt;value;                   // get size value
    $color = $attr[1]-&gt;Color;                  // get color
    $duplicate = false;
    foreach($newOrders as $newOrder() {        // loop through nested array
        $newPi = $newOrder["product_id"];
        $newAttr = json_decode($newOrder["attributes"]);
        $newSize = $newAttr[0]-&gt;value;
        $newValue = $newAttr[1]-&gt;Color;

        // check to see if same
        if(
            $pi == $newPi &amp;&amp;
            $size == $newSize &amp;&amp;
            $color == $newColor
        ) {
            $newOrders["quantity"]++;
            $duplicate = true;
            break;
        }
    }
    if(!$duplicate) {
        $new[] = $order;
    }
}
</code></pre>

<p><strong>Edit</strong>: Sorry, I just reread your post and saw you don't want a full solution. Sorry. But I hope this can show you that nested loops are the way to go with this. As mentioned in the comments, there is no built in function for this in PHP (AFAIK).</p>
