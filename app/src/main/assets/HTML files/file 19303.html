<p>seems you have a memory managment issue here with casting your variables.
You use two pointer signs.
It seems to me wrong.</p>

<pre><code>version = CFSwapInt16BigToHost((int*)([databuffer bytes]));
</code></pre>

<p>or better</p>

<pre><code>version = CFSwapInt16BigToHost([databuffer bytes]);
</code></pre>

<p>Make sure the arg and return values matches the function according to the manual!</p>

<p>in the apple manual this is stated about this function:</p>

<pre><code>CFSwapInt16HostToBig
</code></pre>

<p>Converts a 16-bit integer from the hostâs native byte order to big-endian format.</p>

<pre><code>uint16_t CFSwapInt16HostToBig (
   uint16_t arg
);
</code></pre>

<p><strong>Parameters</strong>
*<em>arg</em>*
The integer whose bytes should be swapped.
<strong>Return Value</strong>
The integer with its bytes swapped. If the host is big-endian, this function returns arg unchanged.</p>
