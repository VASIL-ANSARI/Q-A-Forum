<p>As you have it, <code>$(foo)</code> (where <code>foo</code> is a <em>function</em>) means "wait until document is loaded before invoking <code>foo</code>". If you don't do this, you can't guarantee that your <em>HTMLElements</em> exist. However, if you move the invocation to a <code>&lt;script&gt;</code> which is after/a child of the <em>Node</em>, you should be able to safely assume it exists by the time the code is invoked.</p>

<p>For example, as your <em>function</em> only uses the <code>&lt;body&gt;</code> element, give it the name <em>foo</em> and then do</p>

<pre><code>&lt;body&gt;
    &lt;script type="text/javascript"&gt;
foo();
    &lt;/script&gt;
    &lt;!-- rest of body contents --&gt;
&lt;/body&gt;
</code></pre>

<p>This will mean it is invoked as soon as possible, at a time when it is safe to assume it will not <code>throw</code> an error.</p>
