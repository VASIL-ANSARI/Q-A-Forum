<p>I have changed a couple of things on here for you to try</p>

<p>I hope you are using a good hash for passwords <strong>NOT MD5</strong> use <a href="http://php.net/manual/en/function.password-hash.php" rel="nofollow">http://php.net/manual/en/function.password-hash.php</a> and <a href="http://php.net/manual/en/function.password-verify.php" rel="nofollow">http://php.net/manual/en/function.password-verify.php</a></p>

<p>Filename: Login.php</p>

<pre><code>&lt;?php

class Login extends CI_Controller {

    public function __construct() {
        parent::__construct();
        $this-&gt;load-&gt;helper(array('form', 'url'));
        $this-&gt;load-&gt;library(array('form_validation', 'session'));
        // Autoload the session because you may need it else where
    }

    public function index() {
        // remove the word password from callback as it on the username 
        // login all ways good to use required

        $this-&gt;form_validation-&gt;set_rules('username', 'Username', 'trim|required|callback_login_check');
        $this-&gt;form_validation-&gt;set_rules('password', 'Password', 'trim|required');

        if ($this-&gt;form_validation-&gt;run() == FALSE) {

            //loading view as long as it is not correct
            $this-&gt;load-&gt;view('login');

        } else {

            //temporary successful login page
            $this-&gt;load-&gt;view('success');
        }
    }

    public function login_check()
    {
        $usr = $this-&gt;input-&gt;post('username');
        $pwd = $this-&gt;input-&gt;post('password');

        $this-&gt;load-&gt;database(); // Autoload database best.

        // Filename of model should be Ez_query.php and same with class only first letter upper case

        $this-&gt;load-&gt;model('ez_query'); 

        $result = $this-&gt;ez_query-&gt;get_user_details($usr, $pwd);

        if ($result == TRUE) {
            return TRUE;
        } else {
            $this-&gt;form_validation-&gt;set_message('login_check', 'Password does not match Username');
            return FALSE;
        }
    }
}
</code></pre>
