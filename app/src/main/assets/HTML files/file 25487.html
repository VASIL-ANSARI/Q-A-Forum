<p>Based on your new information it sounds like you control the output, which makes this all kind of weird.</p>

<p>In any case, here's a regex that will capture the contents of the wrapper you've created:</p>

<pre><code>&lt;%(.+?)%&gt;
</code></pre>

<p>Notice the <code>?</code> for a lazy match.</p>

<p>Code sample:</p>

<pre><code>$string = "asdfar &lt;%test123%&gt;farasr%&lt;5 sara&gt;&lt;%90% is cool%%&gt;&lt;%ooooaaaah%&gt;&gt;&gt;%&lt;%&gt;%%";
preg_match_all('/&lt;%(.+?)%&gt;/', $string, $matches);
var_dump($matches);
</code></pre>

<p>Output:</p>

<pre><code>array(2) {
  [0]=&gt;
  array(3) {
    [0]=&gt;
    string(11) "&lt;%test123%&gt;"
    [1]=&gt;
    string(16) "&lt;%90% is cool%%&gt;"
    [2]=&gt;
    string(13) "&lt;%ooooaaaah%&gt;"
  }
  [1]=&gt;
  array(3) {
    [0]=&gt;
    string(7) "test123"
    [1]=&gt;
    string(12) "90% is cool%"
    [2]=&gt;
    string(9) "ooooaaaah"
  }
}
</code></pre>
