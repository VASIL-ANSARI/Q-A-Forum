<p>I would say that calling <code>parser.parse_args()</code> before you declared your <code>q</code> option is probably your immediate problem. </p>

<p>But unless I am missing something about what you are trying to do, Django settings [1] are what you need to use for those first 5 options (don't use optparse at all).  And then I don't know what you are trying to do with the rest of the function.</p>

<p>[1] <a href="https://docs.djangoproject.com/en/1.4/topics/settings/" rel="nofollow">https://docs.djangoproject.com/en/1.4/topics/settings/</a> </p>
