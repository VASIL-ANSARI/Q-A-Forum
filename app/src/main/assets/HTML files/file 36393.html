<p>Something like this:</p>

<pre><code>$file1 = file('file1.csv');
$file2 = file('file2.csv');

$diff  = array_diff($file1, $file2);
$list  = implode(',', $diff);

$query = "UPDATE $update_table SET quantity='0' WHERE ean13 IN ($list)";
</code></pre>

<ol>
<li>Read files into an array of lines</li>
<li>Get an array of the differences</li>
<li>Generate a list of the EAN differences</li>
<li>Use IN in the WHERE clause</li>
</ol>
