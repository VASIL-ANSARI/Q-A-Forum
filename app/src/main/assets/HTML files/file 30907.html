<p>I'm not 100% clear what data you want to format, but just do this:</p>

<pre><code>json_encode($variable_you_want_as_json);
</code></pre>

<p>To format the entire page's output, use this:</p>

<pre><code>ob_start(); // Start output buffering (echos after this go into the buffer, not to the client) 

// all the code and output you want formatted
// example: echo "Some HTML I want to store in a JSON-encoded variable";

$html_data = ob_get_contents(); // Gets the contents of the buffer
ob_end_clean(); // empties the buffer
echo json_encode($html_data); // encodes and echoes whatever you did between ob_start() and ob_get_contents()
</code></pre>

<p>It sounds like you want multiple values, so you can just replace the variable in the last line with an array, like this:</p>

<pre><code>$my_array = array('html_data'=&gt;$html_data,
    'max_num_pages' =&gt; $query-&gt;max_num_pages,
    'foo'=&gt;$foo,
    'bar'=&gt;$bar,
    'some_other_var' =&gt; $some_other_var);
echo json_encode($my_array);
</code></pre>
