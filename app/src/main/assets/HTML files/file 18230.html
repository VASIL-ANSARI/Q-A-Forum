<p>Maybe long shot but... I suspect that <code>x2</code> may be accessed by more than one threads? In that case, it should be declared as <code>volatile</code> in order for compiler to skip any optimizations not suitable for variables accessed by multiple threads (which can be causing the wrong behaviour in this case).</p>
