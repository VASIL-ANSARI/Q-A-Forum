<p>As mentioned in the <a href="http://php.net/manual/en/function.session-register.php" rel="nofollow">documentation</a>, write directly to <a href="http://php.net/manual/en/reserved.variables.session.php" rel="nofollow"><code>$_SESSION</code></a>:</p>

<blockquote>
  <p>You can also create a session variable by simply setting the
  appropriate member of the $_SESSION or $HTTP_SESSION_VARS (PHP &lt;
  4.1.0) array.</p>
</blockquote>

<hr>

<p>As already mentioned by @tyteen4a03, you probably would be better of to rewrite that piece of code, as you use plenty of other deprecated stuff (from a first glance):</p>

<ul>
<li><code>$HTTP_SERVER_VARS</code></li>
<li><code>mysql_*()</code> functions</li>
</ul>
