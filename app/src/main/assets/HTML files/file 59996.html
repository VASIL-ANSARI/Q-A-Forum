<p>To deal with the <code>NoClassDefFoundError</code>, you just need to add the <code>MainDexList.txt</code> to each of your projects. This should solve your initial errors right away. However, since your <code>MainDexList.txt</code> will still be empty, you will run into further issues.</p>

<p>To load the <code>MainDexList.txt</code> with a script instead of doing it manually, you can use this open source script by Google which will generate the exact class names that should be included in <code>MainDexList.txt</code>. Here is a link to the actual commit by Google:</p>

<p><a href="https://android.googlesource.com/platform/dalvik/+/2bb6fe45bf620525ba34bd7303d7ecb597aa0689" rel="nofollow">https://android.googlesource.com/platform/dalvik/+/2bb6fe45bf620525ba34bd7303d7ecb597aa0689</a></p>

<p>To learn more (and also my source of information): </p>

<p><a href="http://blog.osom.info/2014/10/generating-main-dex-list-file.html" rel="nofollow">http://blog.osom.info/2014/10/generating-main-dex-list-file.html</a> </p>

<p><strong>Notes</strong>: This unfortunately does not support reflection however, <a href="https://developer.android.com/reference/dalvik/system/DexClassLoader.html" rel="nofollow">DexClassLoader</a> loads classes from <code>.jar</code> and <code>.apk</code> files containing a classes.dex entry. This may be worth looking at as well.</p>

<p>Hope this helps! </p>
