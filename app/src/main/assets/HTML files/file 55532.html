<p>The error logged in logcat:</p>

<pre><code>Caused by: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter intent
              at com.example.skogs.wifictrl.model.VpnFilter.onStartCommand(VpnFilter.kt)
</code></pre>

<p>indicates the problem. </p>

<p>The documentation of <a href="https://developer.android.com/reference/android/app/Service.html" rel="nofollow"><code>onStartCommand</code></a> states that (emphasis mine):</p>

<blockquote>
  <p>Intent: The Intent supplied to startService(Intent), as given. <strong>This
  may be null</strong> if the service is being restarted after its process has
  gone away, and it had previously returned anything except
  START_STICKY_COMPATIBILITY.</p>
</blockquote>

<p>Hence  you should handle the <code>null</code> case accordingly at the very least by changing the signature of <code>onStartCommand</code> in Kotlin to:</p>

<pre><code>override fun onStartCommand(intent:Intent?, flags:Int, startId:Int) {
</code></pre>
