<p>Declare a pointer and allocate enough memory at runtime.</p>

<pre><code>int nthreads;
pthread_t * thread_array;
int main(int argc, char** argv){
    nthreads = atoi(argv[0]);
    thread_array = calloc(sizeof(*thread_array), nthreads);

    int i;
    for (i = 0; i &lt; nthreads; i++) {
        pthread_start(thread_array + i, NULL, my_thread_function, my_thread_argument);
    }

    for (i = 0; i &lt; nthreads; i++) {
        pthread_join(thread_array[i], NULL);
    }
}
</code></pre>
