<p>You are looking for a cumulative sum and some additional logic:</p>

<pre><code>select t.*,
       (case when cume_value &lt; 23 then value
             else cume_value - value
        end)
from (select t.*,
             sum(value) over (order by ??) as cume_value
      from t
     ) t
where cume_value &lt; 23;
</code></pre>

<p>The <code>??</code> represents the column you are using for ordering the rows in the table.  SQL tables represent unordered sets so you need an ordering column.  In your case, this might be <code>value</code>.</p>
