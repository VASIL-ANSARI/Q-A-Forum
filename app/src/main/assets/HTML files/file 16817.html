<p>This is non-trivial (see <a href="http://www.cambiaresearch.com/articles/46/parsing-urls-with-regular-expressions-and-the-regex-object" rel="nofollow">http://www.cambiaresearch.com/articles/46/parsing-urls-with-regular-expressions-and-the-regex-object</a> for example, which doesn't even address splitting the authority section.)</p>

<p>You will at least need a list of all top-level domains to do this correctly.</p>

<p>EDIT: edge case examples you need to think of:</p>

<ul>
<li>google.com</li>
<li>google.co.uk</li>
<li>sergey.brin@google.com</li>
</ul>
