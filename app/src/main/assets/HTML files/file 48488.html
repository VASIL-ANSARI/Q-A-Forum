<blockquote>
<pre><code>top-&gt;us = calloc(TYPE_US, size_of(struct us));
if(top-&gt;us-&gt;struct1) //do something 
</code></pre>
  
  <p>I noticed that my struct1 is always null</p>
</blockquote>

<p>If that's your real code, then yes, <code>struct1</code> will always be null. <code>calloc</code> allocates memory and initializes it to zero. Hence, <em>all</em> of the members of <code>top-&gt;us</code> will be zero, and since <code>struct1</code> is a member of <code>top-&gt;us</code>, it's going to be zero, i.e. <code>NULL</code>.</p>
