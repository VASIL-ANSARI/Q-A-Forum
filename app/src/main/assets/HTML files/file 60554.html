<p>You have to <code>append</code> the rectangle in the enter selection, not <code>select</code>ing it:</p>

<pre><code>nodeEnter.append("rect")
</code></pre>

<p>Here is your fiddle: <a href="https://jsfiddle.net/wLwn9p98/" rel="nofollow">https://jsfiddle.net/wLwn9p98/</a></p>
