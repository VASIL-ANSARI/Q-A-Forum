<p>From the <a href="http://docs.python.org/2/library/re.html#regular-expression-syntax" rel="nofollow">docs</a>:</p>

<blockquote>
  <p>(Dot.) In the default mode, this matches any character except a
  newline. If the DOTALL flag has been specified, this matches any
  character including a newline.</p>
</blockquote>

<p>Since <code>.</code> does not match a new line, the expression finds only the first line as a match.</p>

<p>However, setting the <code>DOTALL</code> flag won't help either. Since regex special characters are, generally speaking, greedy, you'll end up matching all of the text between the first <code>#</code> and the last <code>#</code>.</p>

<p>I may be mistaken, but I believe you'll need to do this line by line.</p>
