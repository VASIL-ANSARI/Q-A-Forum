<p>One way to do this is using a double pointer to line, since with one pointer you can alloc a single "array" of lines and with a double pointer you can alloc an "array" of "arrays" of lines.</p>

<p>See <a href="http://web.cs.swarthmore.edu/~newhall/unixhelp/C_arrays.html" rel="nofollow">here</a> if you have some doubts.</p>

<p>So, you can alloc memory for the "array" to pointers to line, like.</p>

<pre><code>line **book = NULL;

book = malloc(sizeof(line *) * X);
</code></pre>

<p>With this you will have an "array" of pointers to line, then you have to iterate trough each element of book to make each pointer point to another "array", to do this we use malloc for each element of book.</p>

<pre><code>for (i = 0; i &lt; X; i++)
    book[i] = malloc(sizeof(line) * Y);
</code></pre>

<p>Also, don't forget to free the pointers when you are done with them.</p>
