<p>A question without a question. Wow! <code>:D</code></p>

<p>You shouln't do it that way, because there are no transactions in MongoDB. <strong>But</strong> you do have atomic operations on single documents.</p>

<p>Better use an <code>upsert</code>. Within the find part of the upsert, you specify the thing you do within your <code>contains</code> method. (Maybe have a look here: <a href="http://techidiocy.com/upsert-mongodb-java-example/" rel="nofollow">http://techidiocy.com/upsert-mongodb-java-example/</a> or just google for MongoDB and upsert)</p>

<p>This way you can do <code>contains</code>, <code>insert</code> and <code>update</code> in a single query. That's the way you should do it with MongoDB!</p>
