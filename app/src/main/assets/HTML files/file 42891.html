<p>For this answer I'm going to suggest creating your template programmatically - see here: <a href="https://msdn.microsoft.com/en-us/library/aa289501" rel="nofollow">https://msdn.microsoft.com/en-us/library/aa289501</a> .
There is probably some way to use templates that have been created in markup, but this seems easier, and definitely more flexible.</p>

<p>I start out with a page with just a repeater (not template)</p>

<pre><code>&lt;body&gt;
    &lt;form id="form1" runat="server"&gt;
    &lt;div&gt;
        &lt;asp:Repeater runat="server" ID="TestRepeater"&gt;
        &lt;/asp:Repeater&gt;
    &lt;/div&gt;
    &lt;/form&gt;     
&lt;/body&gt;
</code></pre>

<p>and a data class</p>

<pre><code>public class DataClass
{
    public string Name { get; set; }
    public List&lt;DataClass&gt; Children { get; set; }
}
</code></pre>

<p>For the template we use the following class:</p>

<pre><code>public class DataTemplate : ITemplate
{
    public void InstantiateIn(Control container)
    {
        var name = new Literal();
        var repeater = new Repeater();

        name.DataBinding += BindingLiteral;
        repeater.DataBinding += BindingRepeater;

        // this here makes it recursive
        repeater.ItemTemplate = new DataTemplate();

        container.Controls.Add(name);
        container.Controls.Add(repeater);
    }

    private void BindingLiteral(object sender, System.EventArgs e)
    {
        var name = (Literal)sender;
        var container = (RepeaterItem)name.NamingContainer;
        name.Text = String.Concat("&lt;h2&gt;", DataBinder.Eval(container.DataItem, "Name").ToString(), "&lt;/h2&gt;");
    }

    private void BindingRepeater(object sender, System.EventArgs e)
    {
        var name = (Repeater)sender;
        var container = (RepeaterItem)name.NamingContainer;
        name.DataSource = DataBinder.Eval(container.DataItem, "Children");
    }
}
</code></pre>

<p>Obviously you'll want to use a more sophisticated template. Notice that if you currently have a template in markup, you could simply take the code that has been generated by the markup parser, and adapt it to your needs.</p>

<p>Now in the code behind of the page we simple assign the ItemTemplate and DataSource:</p>

<pre><code>public partial class Test : System.Web.UI.Page
{
    protected void Page_Init(object sender, EventArgs e)
    {
        TestRepeater.DataSource = GetTestData();
        TestRepeater.ItemTemplate = new DataTemplate();
        TestRepeater.DataBind();
    }
}
</code></pre>

<p>Nice thing about this is your template is just a class, so you could add a <code>public Int32 Depth { get; set; }</code> to it, and change the generated controls based on your depth.</p>
