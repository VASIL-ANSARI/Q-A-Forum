<p>You should place your </p>

<pre><code> if (str.length() == 0) {
        return "";
 } 
</code></pre>

<p>as a first statement your function, so that the zero length string don't throw the exception. </p>
