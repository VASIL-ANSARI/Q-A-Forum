<pre><code>Description:
null values in selected columns for left side of join cause error:
"1048 column 'name' cannot be null"
</code></pre>

<p>so guess its the row
ON opb.sub_order_id = op.sub_order_id</p>

<p>that don't like whne op.sub_order_id is null</p>

<p>the where is tested after the join</p>

<p>you can try:</p>

<pre><code>ON opb.sub_order_id = COALESCE(op.sub_order_id, -1)
</code></pre>
