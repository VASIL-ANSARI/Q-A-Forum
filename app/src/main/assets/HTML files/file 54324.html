<p>If i understand you correctly - the following should work:</p>

<p>First of all assign the array by your id Keys (according to your php example there isn't always an id - but i assume this is a copy error)</p>

<pre><code>$arrTreeById = array();
$arrTree = array();

foreach($arrTree AS $objItem)
{
    $arrTreeById[$objItem-&gt;Id] = $objItem;
    $objItem-&gt;arrChilds = array();
}
</code></pre>

<p>and after that assignment you simply add the childs to the parents</p>

<pre><code>foreach($arrTreeById AS $objItem)
{
    if (isset($arrTree[$objItem-&gt;ParentCat]))   $arrTree[$objItem-&gt;ParentCat]-&gt;arrChilds[] = $objItem;
    if ($objItem-&gt;ParentCat == 0) $intStartingKey = $objItem-&gt;Id;
}

print_r($arrTree[$intStartingKey]);
</code></pre>

<p>or am i missing something here ?</p>
