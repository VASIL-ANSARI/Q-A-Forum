<p>If the rest of your code works, this should do the same as the submit, but automatically when the handle_geolocation_query function is run.</p>

<pre><code>function handle_geolocation_query(position) {
  start = new google.maps.LatLng(lat, lon);
  themap.displayDirections({
                'origin': start,
                'destination': destination,
                'travelMode': google.maps.DirectionsTravelMode.DRIVING,
                'unitSystem': google.maps.UnitSystem.IMPERIAL
            }, {
                'panel': document.getElementById('directions')
            },
            function (response, status) {
                (status === 'OK') ? $('#results').show() : $('#results').hide();
            });
 });
</code></pre>
