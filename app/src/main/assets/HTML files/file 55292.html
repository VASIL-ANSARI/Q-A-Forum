<p>A possible solution is to store the characters in an array which both strings share and then check if you already counted a character before you increment <code>$cmp</code>.</p>

<p>Here is the rewritten code:</p>

<pre>function compare($str1, $str2){
    $cmp = 0;
    <b>$used_letter = array();</b>

    for($i = 0; $i &lt; strlen($str1); $i++){

        for($j = 0; $j &lt; strlen($str2); $j++){
            if($str1[$i] == $str2[$j]) 
                <b>if(!in_array($str1[$i], $used_letter))</b>{
                    $cmp++;
                    <b>$used_letter[$cmp] = $str1[$i];</b>
                }
        }
    }

    echo "Number of characters in common: " . $cmp . "&lt;br />";

}

compare("stringstring1","stringstring2");
</pre>
