<p>First let's create css class for active button:</p>

<pre><code>.active{
-webkit-animation-name: pulse;
-webkit-animation-duration: 3s;
-webkit-animation-iteration-count: infinite;
}
</code></pre>

<p>Calculate which button should be active:</p>

<pre><code>var timeformat = hours + ":" + minutes + " " + dd.toUpperCase();
var buttons = $('.button');
var currentIndex = 0;
for (var i = 0; i &lt; buttons.length; i++) {
  if (buttons[i].value &gt; timeformat) {
    currentIndex = i - 1;
    break;
  };
}
</code></pre>

<p>Add and remove active class only when it changes:</p>

<pre><code>if (currentIndex != tempIndex) {
   $(buttons[currentIndex]).addClass("active");
   $(buttons[tempIndex]).removeClass("active");
   tempIndex = currentIndex; //global var store last active index start with -1
}
</code></pre>

<p>Check this <a href="https://fiddle.jshell.net/t6xeo9g4/" rel="nofollow">fiddle</a>, hope it helps!</p>
