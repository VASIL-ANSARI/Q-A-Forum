<p>After deserializing the JSON, you would need to access the <code>price</code> value like:</p>

<pre><code>$lowest_price = $obj-&gt;data-&gt;prices[0]-&gt;price;
</code></pre>

<p>That being said, you may also need to account for that fact that since <code>$obj-&gt;data-&gt;prices</code> is an array, that it may contain more than one element.  So if you truly wanted to determine the "lowest price" (as your variable is named), you would likely need to iterate over <code>$obj-&gt;data-&gt;prices</code> to find which item in the array have the lowest <code>price</code> value.</p>

<p>You didn't ask about this, but you also have some weird logic around your SQL update/insert (upsert).  If your intent is to either update an existing record, or insert a new one if one doesn't exist, you might consider an <code>INSERT ... ON DUPLICATE KEY UPDATE</code> type of query.</p>
