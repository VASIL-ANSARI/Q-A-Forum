<p>You could create a temporary array and use np.nanmean() (new in version 1.8 if I'm not mistaken):</p>

<pre><code>import numpy as np
temp = np.vstack([x[i:-(5-i)] for i in range(5)]) # stacks vertically the strided arrays
means = np.nanmean(temp, axis=0)
</code></pre>

<p>and put original nan back in place with <code>means[np.isnan(x[:-5])] = np.nan</code></p>

<p>However this look redundant both in terms of memory (stacking the same array strided 5 times) and computation.</p>
