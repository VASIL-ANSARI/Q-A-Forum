<p>Yes, that's an entirely incorrect way to do this. :)</p>

<p>You need to use callbacks with asynchronous operations like this in node.js:</p>

<pre><code>mycollection.findOne({username : username}, function(err, user) {
    if (user === null) {
        return cb('Username invalid');
    }
    if (pass !== user.password) {
        return cb('Password invalid');
    }
});
</code></pre>
