<p>To be honest, I probably wouldn't do this.  Unit tests are isolated and you won't actually know if you have "unwanted, obscure side-effects" because everything is walled off from the other things that cause the side effects.  As a result, you need integration or system testing and <em>that</em> is not something you can automate.</p>

<p>Build a few high-level, end-to-end system tests which give you a degree of confidence and then use coverage testing to find out what you've missed,  The downside is that when bugs crop up, it will be harder to point to their exact cause, but the upside is that you'll be far more likely to see the bugs.</p>

<p>Once you find bugs, write unit tests just for them.  As you move forward, you can use TDD for the bits you want to refactor.</p>

<p>I know this probably wasn't the answer you want to hear, but I've been testing for many, many years and this is a solid approach (though I would hardly call it the only approach :)</p>
