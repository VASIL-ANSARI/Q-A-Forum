<p>All the code does not fit, so I write the rest here</p>

<p>.h</p>

<pre><code>class SingletonDestroyer
{
private:
    appCfg* p_instance;
public:   
    ~SingletonDestroyer();
    void initialize( appCfg* p );
};

class appCfg : public QObject
{
private:
    static appCfg* p_instance;
    static SingletonDestroyer destroyer;

    QSettings * pSetting;
protected:
    appCfg();
    appCfg( const appCfg&amp; );
    appCfg&amp; operator=( appCfg&amp; );
    ~appCfg();
    friend class SingletonDestroyer;
public:
    static appCfg&amp; getInstance();
   ...
};
</code></pre>
