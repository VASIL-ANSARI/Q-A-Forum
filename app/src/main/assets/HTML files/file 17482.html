<p>The easiest way to ensure the same parent is used is to pass the parent into the factory creation during the test. For example:</p>

<pre><code>@user = FactoryGirl.create(:user)
@photo = FactoryGirl.create(:photo, user: @user)
@ad = FactoryGirl.create(:ad, user: @user)
</code></pre>

<p>This will ensure that both <code>photo</code> and <code>ad</code> use same <code>user</code> parent object so you will avoid the validation issues you have been having.</p>
