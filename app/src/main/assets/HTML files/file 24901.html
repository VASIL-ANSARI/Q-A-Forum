<p><code>getImageData</code> is a method on the <code>context</code> object you retrieve using <code>getContext()</code>. The canvas element has no such method directly.</p>

<pre><code>var canvas = document.getElementById('flag');
var context = canvas.getContext('2d');

image = context.getImageData();
</code></pre>

<p>I've also not seen <code>getImageData</code> being used without any parameters, and can't find it documentated that this is supported. Normally, you pass 4 parameters specifiying <code>x, y, width, height</code>; see <a href="https://developer.mozilla.org/en-US/docs/HTML/Canvas/Pixel_manipulation_with_canvas" rel="nofollow">https://developer.mozilla.org/en-US/docs/HTML/Canvas/Pixel_manipulation_with_canvas</a></p>
