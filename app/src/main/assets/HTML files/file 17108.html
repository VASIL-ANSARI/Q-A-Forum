<p>I think the <code>$this-&gt;db-&gt;insert('member',$member);</code> call should probably be placed further up, since you then try and read the last inserted ID and use it in the <code>downline</code> table! Otherwise, when you call <code>$this-&gt;db-&gt;insert_id()</code>, nothing has actually been inserted yet, so there's nothing to read!</p>
