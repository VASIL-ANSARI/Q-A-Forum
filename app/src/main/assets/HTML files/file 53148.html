<ol>
<li><p>I wouldn't do it at least from the design point of view. On top of what <code>TestClass</code> is supposed to do you try to add internal thread management. Also <code>TestClass</code> destructor is going to be little bit complicated because of thread management.</p></li>
<li><p>Every <code>TestClass</code> object has its own <code>struct</code>. If the call from main thread is the only way to change <code>val</code> then nothing has to be done. If the <code>val</code> can be changed from more than 1 thread including its own then use <code>QMutex</code>.</p></li>
</ol>
