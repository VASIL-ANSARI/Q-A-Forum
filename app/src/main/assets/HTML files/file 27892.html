<p>You can solve the first problem of waiting until the page loads by either using </p>

<p>jQuery</p>

<pre><code>$(function() {
    //This will be be run once DOM is initialized
});
</code></pre>

<p>or using the onload</p>

<pre><code>document.body.onload = function () {
    //Fired when DOM is loaded
}
</code></pre>

<p>From there you can call your AJAX call or function with an AJAX call like so:</p>

<pre><code>$(function () { 
    $.ajax({
        url : "",
        success : function () {...}
    });
});  
</code></pre>
