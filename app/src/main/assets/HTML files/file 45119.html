<p>You can use the following regex that will also prevent 2 consecutive dots in the username:</p>

<pre><code>^(?!.*[!#%&amp;*()-].*@)(?!.*\.\..*@)[a-zA-Z0-9_.]+@\S+\.[a-zA-Z]+$
</code></pre>

<p>See <a href="https://regex101.com/r/fQ7yQ0/10" rel="nofollow">demo here</a>.</p>

<p><em>Sample code</em>:</p>

<pre><code>$re = "/^(?!.*[!#%&amp;*()-].*@)(?!.*\\.\\..*@)[a-zA-Z0-9_.]+@\\S+\\.[a-zA-Z]+$/m"; 
$str = "334345jtjert..j547j@ds.com\n334345jtjert.j547j@ds.com\nss-ee@sd.com\nfsd!@asd.com\n11-ee@sd.com"; 
preg_match($re, $str, $matches);
</code></pre>
