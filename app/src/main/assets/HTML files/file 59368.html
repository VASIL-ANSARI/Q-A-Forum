<p>The setting you used has removeAbandonedTimeout set to 3 sec. Looking for the documentation for <strong>org.apache.tomcat.jdbc.pool.DataSourceFactory</strong> which you are using at <a href="https://tomcat.apache.org/tomcat-7.0-doc/jdbc-pool.html" rel="nofollow">https://tomcat.apache.org/tomcat-7.0-doc/jdbc-pool.html</a> , this property should be set to the longest running query your applications might have. From the docs,</p>

<blockquote>
  <blockquote>
    <p>removeAbandoned<br>
    (boolean) Flag to remove abandoned connections if they exceed the removeAbandonedTimeout. If set to true a connection is considered abandoned and eligible for removal if it has been in use longer than the removeAbandonedTimeout Setting this to true can recover db connections from applications that fail to close a connection. See also logAbandoned The default value is false.</p>
    
    <p>removeAbandonedTimeout<br>
    (int) Timeout in seconds before an abandoned(in use) connection can be removed. The default value is 60 (60 seconds). The value should be set to the longest running query your applications might have.</p>
  </blockquote>
</blockquote>

<p>Thus you should check for the maximum time any query used by your application is taking and set this accordingly.</p>
