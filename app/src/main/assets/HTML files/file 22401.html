<p>When you change the <code>innerHTML</code>, this causes a complete rebuild of the DOM by the browser. So, in this case, your final <code>info.innerHTML += str;</code> causes a rebuild of the DOM which <strong>includes</strong> child objects. Therefore, your reference to <code>cleanResult</code> gets lost. </p>

<p>However, by adding your <code>onclick</code> binding in a <code>setTimeout</code>, you are being called after the DOM has been rebuilt and thus binding correctly. Therefore, you should only append to innerHTML if you don't care about what just happened previously in the method. You can fix your case as follows:</p>

<pre><code>var gid = function (id) {
    return document.getElementById(id);
};   

function out(str) {
    var info = gid('info');        
    if (info.innerHTML.trim() === '') {
        info.innerHTML += '&lt;a id="cleanResult" href="javascript:;"&gt;clean&lt;/a&gt;&lt;br /&gt;';
        info.innerHTML += str;
        gid('cleanResult').onclick = function () {
            info.innerHTML = '';
            return false;
        };
    } else {
        info.innerHTML += str;
    }
}
out('1234');
</code></pre>

<p>I also have to say that you need to be very careful about global variable declarations such as <code>info</code>. Always make sure to add <code>var</code> before your variable declarations to prevent scoping errors.</p>
