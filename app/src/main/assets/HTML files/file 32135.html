<p>The answer is to de-normalize your data and put messages in people's inbox at the time they are created. We built an app called Firefeed to showcase this approach: <a href="http://firefeed.io/" rel="nofollow">http://firefeed.io/</a>.</p>

<p>The basic concept is to create several copies of a message at creation time and send a copy to each of the recipients "inbox". Of course, this means that a sender cannot edit or delete after it is sent, but this might be an acceptable trade-off in most cases. (Note: It is technically possible to edit/delete a message, but it's a very expensive operation since you'll have to traverse your entire network to find the copies).</p>

<p>There's more about how to de-normalize your data in this blog post: <a href="https://www.firebase.com/blog/2013-04-12-denormalizing-is-normal.html" rel="nofollow">https://www.firebase.com/blog/2013-04-12-denormalizing-is-normal.html</a></p>
