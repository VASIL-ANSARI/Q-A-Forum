<p>Try with Join</p>

<pre><code>SELECT car,
       Df_cnt / T_cnt
FROM   (SELECT car,
               Count(DISTINCT model) Df_cnt From tablename
        WHERE  defect_code = 123
        GROUP  BY car) A
       JOIN (SELECT car,
                    Count(DISTINCT model) T_cnt from tablename
             GROUP  BY car) b
         ON A.car = b.car 
</code></pre>
