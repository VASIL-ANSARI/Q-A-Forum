<p>I assure you that your code is running in order. Probably, <code>printf</code> prints to a buffer which is not cleared by your program so the output from <code>dir</code> goes straight to the terminal while the output from <code>printf</code> waits until the output buffer is cleared which occurs when your program exits. The buffer is also cleared when you print a newline <code>\n</code> which is why printing <code>"%s\n"</code> appears to work but just <code>"%s"</code> appears to fail.</p>
