<p>You can write your code more functionally using Ramda.js as follows:</p>

<ol>
<li><p>Given an input:</p>

<pre><code>var input = [
    { n:  3, x:  2 },
    { n:  6, x:  1 },
    { n:  2, x:  0 },
    { n: 10, x:  5 },
    { n:  5, x:  2 },
    { n:  1, x: 44 }
];
</code></pre></li>
<li><p>We first separate them into odd and even groups based on the property <code>n</code>:</p>

<pre><code>var oddN = R.compose(odd, R.prop("n"));

var groups = R.groupBy(oddN, input);

function odd(n) {
    return n % 2 === 1;
}
</code></pre></li>
<li><p>Then we get the values of all the groups, pluck the <code>x</code> property of each item and summate:</p>

<pre><code>var output = R.map(count, R.values(groups));

function count(items) {
    return {
        sum:   R.sum(R.pluck("x", items)),
        items: items
    };
}
</code></pre></li>
</ol>

<p>See the online demo for yourself: <a href="http://bit.ly/1IawqzD" rel="nofollow">http://bit.ly/1IawqzD</a></p>
