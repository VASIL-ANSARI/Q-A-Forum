<p>You're calling <code>mysql_query</code> twice: first with the SQL, and then you're using the result of the query as if it were a query. The error you're getting is because <code>$query</code> is <code>true</code>, which gets turned into <code>1</code> when treated as a string.</p>

<p>Either you should just set <code>$query</code> to the SQL string:</p>

<pre><code>$query = "INSERT INTO ...";
if (mysql_query($query)) {
    ...
} else {
    ...
}
</code></pre>

<p>or you should just check the value of <code>$query</code>:</p>

<pre><code>$query = mysql_query(...);
if ($query) {
    ...
} else {
    ...
}
</code></pre>
