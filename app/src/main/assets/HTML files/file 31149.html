<p>One big problem is that getLength(data) isn't returning what you expect. Because the function is given a pointer to a pointer to a double, sizeof(x) is the size of a pointer to a pointer, and sizeof(x[0]) is the size of a pointer to a double. The result is most likely 1. Inside the function your code has no way to tell what the dimensions of the data matrix are.</p>

<p>You should probably change the function so that data is just a double *, add two more parameters to give the two array dimensions, innerSize and outerSize, and do some arithmetic to get the index into data when you call SetDoubleArrayRegion().</p>
