<p>If I see it correctly, you want to write the length as
an 32-bit integer in big-endian byte order. This can simply be done as:</p>

<pre><code>int length = ...
uint32_t lengthBE = OSSwapHostToBigInt32(length);
[contents appendBytes:&amp;lengthBE length:4];
</code></pre>
