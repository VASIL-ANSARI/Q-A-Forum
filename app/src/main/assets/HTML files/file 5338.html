<p>You cannot get an id from a transient object, by definition a transient object does not have an id.</p>

<p>why are you doing a merge if you create a new object?  When you create a new object, you should save it.  If you change the values of an existing object, you should update it.  You should be merging only if an object that was persistent becomes detached, and you need to reattach it.</p>
