<p>Here is a ruby gem that does diffing of strings: <a href="http://rubydoc.info/gems/diff-lcs/1.1.3/frames" rel="nofollow">http://rubydoc.info/gems/diff-lcs/1.1.3/frames</a></p>

<p>Before hand, I just did (in irb)</p>

<pre><code>require 'rubygems'
require 'diff/lcs'
require 'diff/lcs/array'
require 'diff/lcs/string'
</code></pre>

<p><img src="http://i.stack.imgur.com/hEVCq.png" alt="enter image description here"></p>

<p>So, writing the logic to insert, inline removed and inserted markers becomes trivial thanks to this 2D diff array of changes. </p>

<p>Though I'm not sure if this is this the best way.</p>
