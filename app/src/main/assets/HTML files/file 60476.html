<p>In</p>

<pre><code>d.y0 /= y0;;
d.y1 /= y0;;
</code></pre>

<p>You divide <code>d.y0</code> and <code>d.y1</code> with <code>y0</code> (which in this case is the sum of all rates and you get percentage instead. So step 1 is to remove this (delete these two rows).</p>

<p>Step 2 is to remove the '%-format for the y-axis. So change</p>

<pre><code>var yAxis = d3.svg.axis().scale(y).orient("left").tickFormat(d3.format(".0%"));
</code></pre>

<p>to</p>

<pre><code>var yAxis = d3.svg.axis().scale(y).orient("left");
</code></pre>

<p>Finally you have to set the domain for <code>y</code>to <code>[0,yMax]</code> instead of <code>[0,1]</code> which can be done by updating the <code>data.forEach</code> to (not most optimal way)</p>

<pre><code>var maxY = 0;
    data.forEach(function (d) {
        var y0 = 0;

        d.rates = color.domain().map(function (name) {
            console.log();;
            return {
                name: name,
                y0: y0,
                y1: y0 += +d[name],
                amount: d[name]
            };
        });
        d.rates.forEach(function (d) {
            //d.y0 /= y0;
            //d.y1 /= y0;
        });
   maxY = Math.max(y0,maxY);
        console.log(data);
    });
 y.domain([0,maxY]);
</code></pre>

<p>See <a href="http://codepen.io/anon/pen/JRkjGE" rel="nofollow">http://codepen.io/anon/pen/JRkjGE</a></p>
