<p>Yes it most definitely does, because you are storing pointers to temporary values that are destroyed at the end of the statement, and then using them. Using a destructed object is undefined behaviour.</p>

<p>You need to create the values separately, and then call <code>set</code> with them:</p>

<pre><code>cubeFunctor cf;
squareFunctor sf;

obj.set(sf, cf);
</code></pre>

<p>Note that you cannot solve this problem by storing the functors by value (unless you use templates), because that would cause slicing.</p>

<p>Also as a side note, you can change <code>getValue</code> to do</p>

<pre><code>return (*tmp1)(x) + (*tmp2)(x);
</code></pre>

<p>To make it look a little prettier (and you still get dynamic dispatch).</p>
