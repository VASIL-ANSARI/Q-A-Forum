<p>Take your edges and lay it out in a sequence (a vector).</p>

<pre><code>gridsize = 2 : hh vvv hh vvv hh
</code></pre>

<p>This is what you noticed with horizontal = 2 and vertical = size + 1.</p>

<p>Now figure out the algorithm to get the different values for the different edges.  Here is how I stored the edges into a vector based on your example:</p>

<pre><code>Your first (empty) 2x2 grid: 00 000 00 000 00
Your second 2x2 grid:        10 110 10 000 00
</code></pre>

<p>When I printed out the grid, I used rows and columns in for loops.</p>

<pre><code>// I consider the (row, col) to be the box.
// Each row loop prints one horizontal line and (possibly) one vertical line.
// Access to the edge vector is based on this (row, col) pair.
for (int row = 0; row &lt; size + 1; row++) /* +1 to draw the bottom line. */
{
    if (row &lt; size) /* Bottom most horizontal row not followed by vertical. */
        for (int col = 0; col &lt; size + 1; col++) /* +1 to draw rightmost line. */
}
</code></pre>

<p>The edge going from b1 to b2 is stored in position 5 (counting from 0, count the possible edges).  How do you get this position?</p>

<p><strong>You may want to stop here and figure the rest out yourself.  I use pen and paper!</strong></p>

<p>The edge from b1 to b2 (according to my algorithm) is part of the second row, first column (1, 0).  When printing the horizontal edges, here's how to calculate the edge's position in the vector.</p>

<pre><code>Horizontal edge: pos = (row * (size + size + 1)) + col
</code></pre>

<p>The edge from a2 to b2 is part of the first row, second column (0, 2).  When printing the vertical edges you need to adjust it </p>

<pre><code>Vertical edge: pos = (row * (size + size + 1)) + size + col
</code></pre>
