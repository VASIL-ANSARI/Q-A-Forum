<p>You can try this rule:</p>

<pre><code>RewriteCond %{HTTP_HOST} ^[^.]+\.[^.]+$
RewriteCond %{HTTPS}s ^on(s)|
RewriteRule ^ http%1://www.%{HTTP_HOST}%{REQUEST_URI} [R=301,L]
</code></pre>

<p>Now it will redirect <code>domain.com</code> to <code>www.domain.com</code> but will skip <code>sub.domain.com</code>.</p>
