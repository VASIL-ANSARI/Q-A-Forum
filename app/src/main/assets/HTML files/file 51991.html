<p>It works fine (with some declarations and semicolons).</p>

<p><div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js prettyprint-override"><code>var array = [3, 2, 1, 4],
    result = mergeSort(array);

function mergeSort(array) {
    var mid, left, right;
    if (array.length === 1) {
        return array;
    } else {
        mid = Math.floor(array.length / 2);
        left = mergeSort(array.slice(0, mid));
        right = mergeSort(array.slice(mid, array.length));
        return merge(left, right);
    }
}

function merge(left, right) {
    var leftIndex = 0,
        rightIndex = 0,
        sorted = [];

    while (leftIndex &lt; left.length &amp;&amp; rightIndex &lt; right.length) {
        if (left[leftIndex] &lt;= right[rightIndex]) {
            sorted.push(left[leftIndex]);
            leftIndex += 1;
        } else {
            sorted.push(right[rightIndex]);
            rightIndex += 1;
        }
    }

    if (leftIndex &lt; left.length) {
        sorted = sorted.concat(left.slice(leftIndex));
    } else if (rightIndex &lt; right.length) {
        sorted = sorted.concat(right.slice(rightIndex));
    }
    return sorted;
}

document.write('&lt;pre&gt;' + JSON.stringify(result, 0, 4) + '&lt;/pre&gt;');</code></pre>
</div>
</div>
</p>
