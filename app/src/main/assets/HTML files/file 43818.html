<p>You can use <a href="https://docs.python.org/2/library/collections.html#collections.defaultdict" rel="nofollow"><code>collections.defaultdict</code></a> for such tasks :</p>

<pre><code>&gt;&gt;&gt; from collections import defaultdict
&gt;&gt;&gt; d=defaultdict(list)
&gt;&gt;&gt; for k,v in b.items():
...      for i in v:
...         if i[0] in zip(*a[k])[0]: #in python 3 next(zip(*a[k]))
...              d[k].append(i)
... 
&gt;&gt;&gt; d
defaultdict(&lt;type 'list'&gt;, {'file2': [('1.txt', 0), ('2.txt', 2), ('3.txt', 3)], 'file1': [('1.txt', 9), ('2.txt', 1), ('3.txt', 5)]})
</code></pre>

<p><em>Note</em> that for checking the existence of <code>b</code> values in a you can get the file names with <a href="https://docs.python.org/2/library/functions.html#zip" rel="nofollow"><em>zip</em></a> function!</p>

<p>Also as a another way you can use <a href="https://docs.python.org/2/library/stdtypes.html#dict.setdefault" rel="nofollow"><em>dict.setdefault() method</em></a> :</p>

<pre><code>&gt;&gt;&gt; c={}
&gt;&gt;&gt; for k,v in b.items():
...      for i in v:
...         if i[0] in zip(*a[k])[0]:
...            c.setdefault(k,[]).append(i)
... 
&gt;&gt;&gt; c
{'file2': [('1.txt', 0), ('2.txt', 2), ('3.txt', 3)], 'file1': [('1.txt', 9), ('2.txt', 1), ('3.txt', 5)]}
</code></pre>

<p><em>Note</em> : if you are using python3 as the <code>zip</code> function return a generator you cannot index it so you need to change <code>zip(*a[k])[0]:</code> to <code>next(zip(*a[k])):</code></p>
