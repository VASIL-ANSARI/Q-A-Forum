<p>This is the most robust way that I can think of to handle it... The trick is to inspect the name of the second argument.  Then, in the decorator, you check to see if that name is present in <code>kwargs</code>.  If yes, then you use that.  If no, then you use <code>args</code>.</p>

<pre><code>from inspect import getargspec    

def decorate(fn):
    argspec = getargspec(fn)
    second_argname = argspec[0][1]
    def inner(*args, **kwargs):
        special_value = (kwargs[second_argname] 
                         if second_argname in kwargs else args[1])
        if special_value == 2:
            print "foo"
        else:
            print "no foo for you"
        return fn(*args, **kwargs)
    return inner

@decorate
def foo(a, b, c=3):
    pass

foo(1,2,3)
foo(1,b=2,c=4)
foo(1,3,5)
foo(1,b=6,c=5)
</code></pre>

<p>running this results in:</p>

<pre><code>foo
foo
no foo for you
no foo for you
</code></pre>

<p>as expected.</p>
