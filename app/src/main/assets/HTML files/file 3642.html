<p>You'd have to carefully work your syntax out before you begin. At first glance, what you intend would be easily achieved by translating your syntax into ordinary regexes:</p>

<pre><code>s = 'http://*.example.com/*' #=&gt; "http://*.example.com/*"
r = Regexp.compile("^#{Regexp.escape(s).gsub('\*','.*')}$") #=&gt; http:examplecom
'http://test.example.com/path/to/doc.html' =~ r #=&gt; 0
'http://test.example2.com/path/to/doc.html' =~ r #=&gt; nil
</code></pre>
