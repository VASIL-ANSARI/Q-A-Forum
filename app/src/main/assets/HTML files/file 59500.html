<p>M.M is right. <code>{scanf("%1s", &amp;option);}</code> is ugly. Make if "%c".</p>

<p>Here is changed code:</p>

<pre><code>//function prototypes
int addProcess(PCB* arr, int*); //you don't need newSt
PCB getPcb();                  
void printCurrent(PCB[], int);
</code></pre>

<hr>

<pre><code>case '1':
        // address of first element of the array is passed
        // this way, you are letting addProcess know the location
        // of pArray on main()'s stack so that it can fill it
        addProcess(&amp;pArray, &amp;currentProcess);
        break;
</code></pre>

<hr>

<pre><code>int addProcess(PCB* ptr, int* currentProcess)
{
        int i;

        for(i = 0; i &lt; SIZE; i++)
        {
                if(ptr[i].id == 0)
                {
                        ptr[i] = getPcb();
                       // getPcb() will initialize and return 
                       // a new PCB which is assigned to the                      
                       // appropriate location of array
                        *currentProcess = i;
                        printf("%d", *currentProcess);//ERROR CHECK!!!
                        return 0;
                        // the function is anyway returning an int 
                        // why not return "i"?
                }//end if
        }//end for
        return 1;
}//end addProcess()
</code></pre>
