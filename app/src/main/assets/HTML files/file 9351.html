<p>You started correctly, but lost the plot around calculation of <code>o</code>. First, my assumptions: you don't want to deal with any integer greater than <code>n*m</code>, so taking <code>mod n*m</code> is cheating. I am saying this, because given <code>m &gt; 2^16</code>, I have to assume int is 32-bit long, which is capable of dealing with your numbers without overflowing.</p>

<p>In any case. You have correctly (I guess, since purpose of <code>n</code> and <code>m</code> are not specified) written:</p>

<pre><code>a=a0 + a1*n (a0&lt;n)
b=b0 + b1*m (b0&lt;m)
</code></pre>

<p>So, if we do the math:</p>

<pre><code>a*b = a0*b0 + a0*b1*m + a1*b0*n + a1*b1*n*m
</code></pre>

<p>Here, <code>a0*b0 &lt; n*m</code>, so it is part of <code>j</code>, and <code>a1*b1*n*m &gt; n*m</code>, so it is part of <code>i</code>. It is the other two terms that you need to split into two again. But you cannot calculate each and take the <code>mod n*m</code>, since that would be cheating (as per my rule above). If you write:</p>

<pre><code>a0*b1 = a0b1_0 + a0b1_1*n
</code></pre>

<p>You get:</p>

<pre><code>a0*b1*m = a0b1_0*m + a0b1_1*n*m
</code></pre>

<p>Since <code>a0b1_0 &lt; n</code>, <code>a0b1_0*m &lt; n*m</code>, which means this part goes to <code>j</code>. Obviously, <code>a0b1_1</code> goes to <code>i.</code></p>

<p>Repeat a similar logic for a1*b0, and you've got three terms to add up for <code>j</code>, and three more to add up for <code>i</code>.</p>

<hr>

<p>EDIT: Forgot to mention a  few things:</p>

<ul>
<li><p>You need the constraints <code>a &lt; n^2</code> and <code>b &lt; m^2</code> for this to work. Otherwise, you need more a<sub>i</sub> "words". e.g.: <code>a = a0 + a1*n + a2*n^2, ai &lt; n</code>.</p></li>
<li><p>The final sum of <code>j</code> may be greater than <code>n*m</code>. You need to watch for overflow ( <code>n*m - o  &lt; addend</code>, or a similar logic, and add <code>1</code> to <code>i</code> when this happens - while calculating <code>j + addend - n*m</code> without overflow).</p></li>
</ul>
