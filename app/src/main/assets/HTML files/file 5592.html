<p>JavaScript is loaded into a page and has no awareness of what URI was used to load it.</p>

<p>Your options are:</p>

<ol>
<li>Generate the JS server side and add in variables form the query string</li>
<li>Grab (with the usual DOM methods) the last <code>&lt;script&gt;</code> element on the page and read it's <code>src</code> attribute (hoping that you aren't dealing with a defered script or one that has been injected before the end of the document)</li>
<li>Just include any variables you want to pass as globals (or namespaced variables) in an inline script block before you src the external script. (This is what Google use with AdSense)</li>
<li>As 3, but write the script to define a function which you call after loading the external script and pass it the variables.</li>
</ol>

<p>Options 3 and 4 are safe, simple, non-hacky, cache friendly and generally the best options for most situations. Option 4 is the more elegant of the two.</p>

<p>If you want to use mod_rewrite to keep the variable out of the URI given to the browser, then option 2 won't work for you. If you are trying to hide the variable from the user options 3/4 won't work either (and looking at the JS src, if you go with option 1, will reveal it too).</p>
