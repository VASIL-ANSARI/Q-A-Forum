<p>This works fine in my code:</p>

<pre><code>    public boolean isOnline(Context cxt) {

    try{

        ConnectivityManager conMan = (ConnectivityManager)cxt.getSystemService(Context.CONNECTIVITY_SERVICE);
        NetworkInfo networkInfo = conMan.getActiveNetworkInfo();
        Log.d(Log_Tag,networkInfo.getState().toString());
        if(networkInfo.isConnected()){
          Log.d(Log_Tag,networkInfo.toString());
            return true;
        } 
        else {
            return false;
        }
    }
    catch(Exception ex)
    {
        Log.i(Log_Tag, "isOnline ERROR: "+ex.toString());
        return false;
    }

}
</code></pre>

<p>I tried with what you have written in your question. I shows some error. So I used this.</p>
