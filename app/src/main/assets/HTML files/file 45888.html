<p>For now I solved it like this:</p>

<pre><code>d3.select("#update").on("click",updateStorage);


function updateStorage(){

var updatethis = d3.selectAll(".box").filter(":checked").each(function(){

var use_it = this.id;
console.log("updatethisid :" + use_it);
d3.selectAll('.box').property('checked', false);
localStorage.setItem(use_it,null);


});
};
</code></pre>

<p>I am not sure why I cannot select the boxes with d3.select(this) to the same effect. - ?</p>

<p>I added a filter with pseudo :checked to select the checked boxes only.</p>
