<p>Use directly the Tagging model. Something like the following could be used (suppose the taggable objects are of the same class)</p>

<pre><code>Tagging.transaction do
  client_ids.each do |cid|
    tag_ids.each do |tid|
      values = ["Client".inspect, cid, tid].join(", ")
      Tagging.connection.execute "INSERT INTO taggings (taggable_type, taggable_id, tag_id) VALUES (#{values}) ON DUPLICATE KEY UPDATE id=id"
    end
  end
end
</code></pre>

<p>The deletion is much simpler</p>

<pre><code>Taggings.where(:taggable_type =&gt; "Client", :taggable_id =&gt; client_ids, :tag_id =&gt; tag_ids).delete_all
</code></pre>
