<p>I'm not completely clear on how you want to handle the 'Z' items in your data, but this code replicates the output for the sample data in <a href="https://eval.in/658468" rel="nofollow">https://eval.in/658468</a></p>

<pre><code>from __future__ import division

bases = set('ACGT')
#sample = [['TTTT', 'CCCZ'], ['ATTA', 'CZZC']]
sample = [['ATTA', 'TTGA'], ['TTCA', 'TTTA']]

list_of_hets = []
for element in sample:
    hets = []
    for seq in element:
        count_dict = {}
        for base in seq:
            if base in count_dict:
                count_dict[base] += 1
            else:
                count_dict[base] = 1
        print count_dict

        #Calculate frequency of every character
        count = sum(1 for u in seq if u in bases)
        pf = sum((base / count) ** 2 for base in count_dict.values())
        hets.append(1 - pf)
    list_of_hets.append(hets)

print list_of_hets
</code></pre>

<p><strong>output</strong></p>

<pre><code>{'A': 2, 'T': 2}
{'A': 1, 'T': 2, 'G': 1}
{'A': 1, 'C': 1, 'T': 2}
{'A': 1, 'T': 3}
[[0.5, 0.625], [0.625, 0.375]]
</code></pre>

<p>This code could be simplified further by using a collections.Counter instead of the <code>count_dict</code>.</p>

<p>BTW, if the symbol that's not in 'ACGT' is <em>always</em> 'Z' then we can speed up the <code>count</code> calculation. Get rid of <code>bases = set('ACGT')</code> and change</p>

<pre><code>count = sum(1 for u in seq if u in bases)
</code></pre>

<p>to</p>

<pre><code>count = sum(1 for u in seq if u != 'Z')
</code></pre>
