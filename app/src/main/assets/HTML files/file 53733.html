<p>It appears, at least in this case, that  <a href="https://golang.org/cmd/cgo/#hdr-Go_references_to_C" rel="nofollow">the go import of <code>C</code> is expecting the function to be provided with C style linkage</a>.</p>

<p>CUDA (i.e. nvcc) mainly follows C++ patterns and provides by default C++ style linkage (including function name mangling, etc.)  </p>

<p>It's possible to force a section of code to be provided externally using C rather than C++ style linkage using <code>extern "C" {...code...}</code>.   This is a C++ language feature and not specific to CUDA or nvcc.</p>

<p>Therefore it appears the problem can be solved via the following modification to the test.cu:</p>

<pre><code>extern "C" { int test_add(void) { ... code ... }; }
</code></pre>
