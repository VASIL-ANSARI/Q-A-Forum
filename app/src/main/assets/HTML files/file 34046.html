<p>I'm getting the output as expected. (i.e. 1)</p>

<p>try using linking with pthread library</p>

<pre><code>gcc sema.c -lpthread
</code></pre>
