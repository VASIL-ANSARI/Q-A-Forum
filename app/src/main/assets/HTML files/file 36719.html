<p>As far as I know, there is no way around this with the <code>fileinput</code> module. You can accomplish the same task with a combination of the <code>codecs</code> module, <code>os.rename()</code>, and <code>os.remove()</code>:</p>

<pre><code>import os
import codecs

input_name = 'some_file.txt'
tmp_name = 'tmp.txt'

with codecs.open(input_name, 'r', encoding='latin-1') as fi, \
     codecs.open(tmp_name, 'w', encoding='latin-1') as fo:

    for line in fi:
        new_line = do_processing(line) # do your line processing here
        fo.write(new_line)

os.remove(input_name) # remove original
os.rename(tmp_name, input_name) # rename temp to original name
</code></pre>

<p>You also have the option of specifying a new encoding for the output file if you want to change it, or leave it as <code>latin-1</code> when opening the output file if you don't want it it to change.</p>

<p>I know this isn't the in-place modification you were looking for, but it will accomplish the task you were trying to do and is very flexible.</p>
