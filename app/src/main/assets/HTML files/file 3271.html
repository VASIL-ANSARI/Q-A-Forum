<p>Where you wrote <code>thumbRect</code>, did you mean <code>resizedRect</code>? <code>thumbRect</code> does not otherwise occur.</p>

<p>I suspect the problem is that <code>resizedRect.size.width</code> is non integral.  Note that it's floating point.</p>

<p>The width and bytesPerRow parameters of <code>CGBitmapContextCreate</code> are declared as integers.  When you pass a floating point value, such as here, it gets truncated.  </p>

<p>Suppose your resizedRect.size.width is 1.25.  Then you will end up passing 1 for the width, and floor(1.25 * 4) == 5 as the bytes per row.  That's inconsistent.  You always want to pass four times whatever you passed for the width for the bytes per row.</p>

<p>You can also just leave bytesPerRow as 0, by the way.  Then the system picks the best bytesPerRow (which is often larger than 4 times the width - it pads out for alignment).  </p>
