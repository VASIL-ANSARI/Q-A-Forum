<p>The reason why your code breaks is the first line:</p>

<pre><code>String str = org.apache.commons.io.IOUtils.toString( inputStream );
</code></pre>

<p>Trying to convert random bytes into Unicode characters, and then back to the same random bytes, isn't going to work.</p>

<p>The only way you can make this work is by reading the input in stages, rather than reading it all into a String.</p>

<ol>
<li>Read from the InputStream until you're convinced you're past the HTTP boundary line.</li>
<li>Read the rest of the stream into a byte array (you can use <code>IOUtils</code> for that, too).</li>
</ol>
