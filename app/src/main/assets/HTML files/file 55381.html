<pre><code>a = [1,2,3,4,5,6]
a.map.with_index { |e, i| a.slice(i, 4) }
#â [1, 2, 3, 4]
#â [2, 3, 4, 5]
#â [3, 4, 5, 6]
#â [4, 5, 6]
#â [5, 6]
#â [6]
</code></pre>
