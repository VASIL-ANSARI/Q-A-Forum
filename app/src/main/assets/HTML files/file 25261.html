<p>The problem is that you are doing wait onver twin (that makes the thread sleep over the object twin) and when you want to wake up that thread you are using notify over "this".</p>

<p>You should change your code using one of two options:</p>

<p>Option 1</p>

<p>change the:</p>

<pre><code>this.notifyAll();
</code></pre>

<p>to </p>

<pre><code>twin.notifyAll();
</code></pre>

<p>Option 2:</p>

<pre><code>synchronized (twin) {
  twin.wait();
}
</code></pre>

<p>to </p>

<pre><code>synchronized (this) {
  this.wait();
}
</code></pre>
