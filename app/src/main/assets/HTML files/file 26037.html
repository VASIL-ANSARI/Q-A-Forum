<p>specify the keycolumns manually</p>

<pre><code>public class ProductMap : ClassMap&lt;Product&gt;
{
    public ProductMap()
    {
        Id(x =&gt; x.Id);
        Map(x =&gt; x.ImageUrl);
        HasManyToMany(x =&gt; x.ManyProduct)
            .ParentKeyColumn("product1_id")
            .ChildKeyColumn("product2_id")
            .Cascade.All()
            .Table("ProductInProduct");
    }
}
</code></pre>
