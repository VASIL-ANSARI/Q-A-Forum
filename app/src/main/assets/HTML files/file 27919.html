<p>The following has two bugs:</p>

<pre><code>$success &amp;&amp;= $rating_handle-&gt;execute($VIRTUAL_PRODUCT_ID);
my $rating = $rating_handle-&gt;fetchrow_array();
</code></pre>

<ul>
<li><p>If <code>$success</code> is false, it calls <code>fetchrow_array</code> without calling <code>execute</code>.</p></li>
<li><p>If <code>$success</code> is true and <code>execute</code> fails, it calls <code>fetchrow_array</code> without a successful call to <code>execute</code>.</p></li>
</ul>
