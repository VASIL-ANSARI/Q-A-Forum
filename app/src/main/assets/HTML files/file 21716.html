<p>Use <code>reserve</code>, not <code>resize</code>, to set capacity.  And then use <code>emplace_back</code> for in-place construction to avoid temporaries.</p>

<pre><code>vector&lt;A&gt; v;

int main()
{
    v.reserve(n)
    cout &lt;&lt; "---" &lt;&lt; endl;

    for ( int i = 0; i &lt; n; i++ )
        v.emplace_back( 1 );
}
</code></pre>
