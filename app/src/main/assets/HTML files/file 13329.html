<p>why not use numpy (inplace) masked expression?</p>

<pre><code>b = array(a, copy=True)
b[mask] += a
</code></pre>

<p>mask is a boolean array, analog in opencv (cv2.add) where a value is changed when mask != 0</p>

<p>PS: however, your code works fine in my machine (Win7 64, Python 2.6(32bit), OpenCV 2.3.0) though</p>
