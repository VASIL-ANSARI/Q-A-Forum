<p>Here is an example of how I have accomplished this using Firebase building a list of campuses. This method loads all of the data that is in the table view up front making it easy to search and filter.</p>

<p>My campus object is pretty simple with an id and a name.</p>

<pre><code>struct Campus {
    var id: String
    var name: String
}
</code></pre>

<p>In the view controller I have two arrays. One is to hold the list of all campuses returned and the other array is for the filtered campuses.</p>

<pre><code>let campuses = [Campus]()
let filteredCampuses = [Campus]()
</code></pre>

<p>I then called a method that I had set up to load the campuses from Firebase.</p>

<pre><code>override func viewDidLoad() {
    ...

    getAllCampusesFromFirebase() { (campuses) in
        self.campuses = campuses
        dispatch_async(dispatch_get_main_queue(), {
            self.tableView.reloadData()
        })
    }
}
</code></pre>

<p>Then when performing the search I filter out the campuses comparing the campus name to the search text from the search bar.</p>

<pre><code>func updateSearchResultsForSearchController(searchController: UISearchController) {
    guard let searchText = searchController.searchBar.text else {
        return
    }

    filteredCampuses = campuses.filter { campus in
        return campus.name.lowercaseString.containsString(searchText.lowercaseString)
    }

    tableView.reloadData()
}
</code></pre>

<p>If you are not loading all of the data up front then Firebase provides some handy methods to call that you can use to filter the data based on the reference path. <a href="https://firebase.google.com/docs/database/ios/lists-of-data" rel="nofollow">https://firebase.google.com/docs/database/ios/lists-of-data</a></p>

<p><code>queryStarting(atValue)</code> or <code>queryStarting(atValue:childKey:)</code> would probably be the one that you'd want to use in this case.</p>

<pre><code>ref.queryStarting(atValue: Any?)
ref.queryStarting(atValue: Any?, childKey: String?)
</code></pre>
