<p>Just an idea: you could take a look at the source code of xhtmlrenderer project.
<a href="http://code.google.com/p/flying-saucer//" rel="nofollow">http://code.google.com/p/flying-saucer//</a></p>

<p>It's not plain HTML (it's XHTML), but may be a good starting point, don't you think?</p>
