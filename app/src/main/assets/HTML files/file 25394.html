<p>In SQL, doing pretty much anything with <code>NULL</code> gives you <code>NULL</code> back. In particular, this:</p>

<pre><code>NULL || 'test_add'
</code></pre>

<p>is NULL. You say that the <code>cup</code> column has no value, that together with the symptoms you describe means that <code>cup IS NULL</code> is true. So your <code>cup || 'test_add'</code> actually does add your string to the column's value, the problem is that <code>NULL || any_string_you_want</code> is <code>NULL</code>.</p>

<p>If you want to treat <code>NULL</code> like an empty string, then use <a href="http://www.sqlite.org/lang_corefunc.html" rel="nofollow"><code>COALESCE</code></a>:</p>

<blockquote>
  <p>coalesce(<em>X,Y,...</em>)</p>
  
  <p>The coalesce() function returns a copy of its first non-NULL argument, or NULL if all arguments are NULL. Coalesce() must be at least 2 arguments.</p>
</blockquote>

<p>So you'd do something like this:</p>

<pre><code>update coffee set cup = coalesce(cup, '') || 'test_add'
</code></pre>

<p>Python and SQL are different languages, you shouldn't expect Python's <code>None</code> to behave like SQL's <code>NULL</code>. You're not seeing a bug, you're just seeing standard <code>NULL</code> behavior (which often seems like a bug when you're not used to it but that's another story).</p>
