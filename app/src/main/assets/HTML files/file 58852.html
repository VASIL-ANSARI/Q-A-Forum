<p>As far as I know you can't render the form with locals from the controller. Is there any reason why you would want to use a local? - these are normally used when rendering partials to pass local variables from one view to the partial, for purposes of reuse. for example...</p>

<pre><code>&lt;%= render partial: 'form', locals: { my_local_var: my_local_var } %&gt;
</code></pre>

<p>I think what you actually want to do is set an instance variable from within the controller that is accessible during the rendering process. For example...</p>

<pre><code>if @roles.any? { |role| role.creater_dashboard? || role.deleter_dashboard? }
  @creator_deleter = true
elsif @roles.any? { |role| role.viewer_dashboard? }
    @viewer = true
else 
  redirect_to users_path
end
</code></pre>

<p>and then you can test for that in your view</p>

<pre><code>&lt;% if @creator_deleter %&gt;
</code></pre>
