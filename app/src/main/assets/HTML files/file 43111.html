<p>You might need:</p>

<p><code>server = smtplib.SMTP_SSL('smtp.gmail.com:465')</code></p>

<p>instead of:</p>

<pre><code>server = smtplib.SMTP('smtp.gmail.com:587')
</code></pre>

<p>and probably don't need the .ehlo ()</p>

<p>See also <a href="https://support.google.com/accounts/answer/185833" rel="nofollow">https://support.google.com/accounts/answer/185833</a></p>
