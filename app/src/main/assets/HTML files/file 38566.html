<p>Perhaps this will do what you want:</p>

<pre><code>select mobilephone
from #temptable
group by mobilephone
having sum(case when FullName &lt;&gt; '------' then 1 else 0 end) &gt; 0 and
       sum(case when FullName = '------' then 1 else 0 end) &gt; 0;
</code></pre>

<p>SQL tables represent unordered sets so there is no concept of "first" and "second" unless a column is used for ordering (typically an id or creation date column).  The above query just returns all mobile phones that have at least one valid name and one name consisting only of hyphens.</p>
