<p>For a basic <code>POST</code> request you should do:</p>

<pre><code>curl_easy_setopt(hnd, CURLOPT_USERPWD, "user:pwd");
curl_easy_setopt(hnd, CURLOPT_HTTPAUTH, (long)CURLAUTH_DIGEST);
curl_easy_setopt(hnd, CURLOPT_CUSTOMREQUEST, "POST");
</code></pre>

<p>For a multipart <code>POST</code> (a.k.a <code>multipart/form-data</code>):</p>

<pre><code>struct curl_httppost *post;
struct curl_httppost *postend;
/* setup your POST body with `curl_formadd(&amp;post, &amp;postend, ...)` */
curl_easy_setopt(hnd, CURLOPT_USERPWD, "user:pwd");
curl_easy_setopt(hnd, CURLOPT_HTTPPOST, post);
curl_easy_setopt(hnd, CURLOPT_HTTPAUTH, (long)CURLAUTH_DIGEST);
curl_easy_setopt(hnd, CURLOPT_CUSTOMREQUEST, "POST");
</code></pre>

<p>Pro-tip: use <code>curl</code> command-line tool with <code>--libcurl request.c</code>: it outputs into this C file the list of options used to perform the corresponding request.</p>
