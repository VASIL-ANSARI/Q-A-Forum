<p>Use the lastInsertID() method on your query object rather than a second query</p>

<pre><code>public function insertRegistrantInfo($fname, $lname) {


$query = $this-&gt;db-&gt;prepare("INSERT INTO `registrants_info` (`first_name`, `last_name`) VALUES (?,?)");

$query-&gt;bindValue(1, $fname);
$query-&gt;bindValue(2, $lname);


try {

    $row = $query-&gt;execute();
    $insertId = $query-&gt;lastInsertId(); // &lt;!-- Use this instead of a second query     

    #mail function can be added here

    }catch(PDOException $e) {

    die($e-&gt;getMessage());

}
</code></pre>

<p>}</p>

<p>Its also important to note that you are not inserting the 'email address' into your database, so there is no way for the query to find it by that field if you were to use another SELECT statement. You might want to complete your INSERT statement.</p>
