<p>You reserve space for <code>buffer</code> using <code>calloc</code>:</p>

<pre><code>unsigned char * buffer = (unsigned char *)calloc([saltArray count],
</code></pre>

<p>Here:</p>

<pre><code>PKCS5_PBKDF2_HMAC_SHA1("password", strlen("password"), buffer, sizeof(buffer), ..
</code></pre>

<p><code>sizeof(buffer)</code> returns <code>sizeof(unsigned char *)</code>, use <code>strlen((char *)buffer)</code></p>
