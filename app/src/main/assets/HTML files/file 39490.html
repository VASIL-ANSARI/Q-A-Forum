<p>Smarty is template engine. But you try insert to template logic of your application. This is very bad way.</p>

<p>You should check GET it your script and just set variables for Smarty.</p>

<p>Your template code can be:</p>

<pre><code>{if $success == 1}
  Thank you very much
{else}
  {* There code of form *}
{/if}
</code></pre>
