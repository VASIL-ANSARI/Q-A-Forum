<p>You skip the first entry when traversing the returned list:</p>

<pre><code>while ((NULL != child) &amp;&amp; (NULL != child-&gt;fts_link))
{
    child = child-&gt;fts_link;
    printf("%s\n", child-&gt;fts_name);
}
</code></pre>

<p>Try</p>

<pre><code>while(child)
{
    printf("%s\n", child-&gt;fts_name);
    child = child-&gt;fts_link;
}
</code></pre>

<p>to get all files from the returned list printed out.</p>
