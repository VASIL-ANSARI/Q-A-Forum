<p>First of all, if you ever say <code>new std::string</code> then you're probably doing something wrong. This code should not have any pointers in it (and <code>str_rep = str_rep + str</code> is pointer arithmetic in your code, not append, that's why dereferencing the result fails).</p>

<pre><code>std::string str_repeat(const std::string&amp; str, int num_times) {
    std::string ret;
    for (int n = 0; n &lt; num_times; ++n) {
        ret += str;
    }
    return ret;
}
</code></pre>
