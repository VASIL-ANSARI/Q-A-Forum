<p>This is most likely a <a href="http://gcc.gnu.org/bugzilla/show_bug.cgi?id=52380" rel="nofollow">bug in g++ 4.7</a> that is fixed in g++ 4.8. Ideone (which uses g++ 4.7.2, and which I cannot link to without duplicating your code example, argh) gives the error you mention, whereas <a href="http://coliru.stacked-crooked.com/view?id=2250fa21d618a80511a96c95725346f5-50d9cfc8a1d350e7409e81e87c2653ba" rel="nofollow">Coliru</a> (using g++ 4.8) compiles without error.</p>
