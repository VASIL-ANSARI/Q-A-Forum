<p>When your script runs, the <code>foo</code> element doesn't exist. If you check the JavaScript console you should see an error, along the lines of this:</p>

<blockquote>
  <p>Uncaught TypeError: Cannot read property 'firstChild' of null</p>
</blockquote>

<p>You get this error because <code>getElementById</code> will return <code>null</code> if the element you're looking for isn't found.</p>

<p>You need to execute the JavaScript code after the markup. Move your <code>script</code> tag to the bottom of the <code>body</code>, or put it in a DOM ready/load event handler. For example:</p>

<pre><code>&lt;body onload="alert(theText)"&gt;
    &lt;a id="foo" href="old"&gt;Foobar&lt;/a&gt;
    &lt;!-- Now the `foo` element actually exists, our script can find it --&gt;
    &lt;script type="text/javascript"&gt;
        var theText = document.getElementById('foo').firstChild.nodeValue;
    &lt;/script&gt;
&lt;/body&gt;
</code></pre>
