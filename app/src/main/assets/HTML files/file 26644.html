<p>The easiest way to replace characters between <code>?</code> and <code>=</code> is to use the <code>.*</code> regular expression part, which will match "anything, repeated any number of times"</p>

<pre><code>$result = preg_replace('[/hs/\?.*=]', '/hs/wp-content/gallery/', $input);
</code></pre>

<hr>

<p>A more general solution, if you want to extract the <code>file=</code> component of any input URL, even if the parameters are in a different order, would be:</p>

<pre><code>$result = preg_replace('[.*file=([^&amp;]*).*]', '/hs/wp-content/gallery/\1', $input);
</code></pre>
