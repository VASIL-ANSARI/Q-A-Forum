<p>By default, <code>stdout</code> is <em>line-buffered</em>; it isn't flushed to the output until it encounters a newline character (or until the buffer fills up).</p>

<p>So the <code>"u"</code> sits in the buffer until the <code>"d\n"</code> is received.  But the <code>write</code> bypasses this buffer.</p>
