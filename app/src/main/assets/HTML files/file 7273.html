<p>Why don't you change the function to iterate through the entities:</p>

<pre><code>public static void UpdateWithStoredProcedure&lt;T&gt;(string storedProcedure, params T[] entities)
    {
        var command = PrepareCommand(CommandType.StoredProcedure);
        command.CommandText = storedProcedure;
        foreach(T entity in entities)
            AddObjectPropertiesAsParametersToCommand(command, entity);

        command.ExecuteNonQuery();
    }
</code></pre>
