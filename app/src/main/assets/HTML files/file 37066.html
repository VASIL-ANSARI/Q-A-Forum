<p>Suppose you have a function "getTransactions()" in you AccountService retrieving all transactions for an account from the server, you could do:</p>

<pre><code>.directive("accountslist",  function(AccountService, Session, $location){
    return{
        restrict:'E',
        replace:'true',
        template:
        '&lt;select ng-change="SetAcc()" ng-model="MyAcc" ng-options="Acc for Acc in userAccounts"&gt;&lt;/select&gt;',
        controller: function($scope){
            $scope.userAccounts = AccountService.getAccounts();

            $scope.SetAcc = function(){
                var userMail = Session.get_user_mail();
                AccountService.SetUserAccount($scope.MyAcc, userMail)
                    .then(function (response) {
                        return AccountService.getTransactions($scope.MyAcc, userMail);
                    })
                    .then(function (transactions) {
                        $scope.transactions = transactions;
                    })
                    .catch(function(error){
                        console.log(error);
                    });                   
            };
        }
 };

});
</code></pre>
