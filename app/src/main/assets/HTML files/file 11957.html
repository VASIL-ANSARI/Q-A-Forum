<p>Something like this:</p>

<pre><code>final ProgressDialog myDialog = ProgressDialog.show(this, "Title", "Message");

Thread thread = new Thread(new Runnable() {
    public void run() {
        /* Your code goes here */
        mHandler.sendEmptyMessage(0);
    }

    private Handler mHandler = new Handler() {
        public void handleMessage(Message msg) {
            myDialog.dismiss();
        }
    }
}

thread.start();
</code></pre>
