<p>So what what I can see, it looks like you need to get the socket out of the connection listener and into the player object.</p>

<p>How you do this depends on your architecture, are the player objects already around when the socket connects? If so you'll need to track down the player the socket is 'for' (probably by appending a playerid or something to the socket request query string as per <a href="http://stackoverflow.com/questions/13745519/send-custom-data-along-with-handshakedata-in-socket-io">Send custom data along with handshakeData in socket.io?</a> and then searching for that player in your list of players) and give the player object the socket, so it can communicate with it's frontend player object counterpart.</p>

<p>If the player obejct isn't around yet that's even easier, because you can just construct it there and pass it </p>
