<p><code>__END__</code> and <code>DATA</code> aren't really relevant here. You're simply passing a string to <a href="http://docs.ruby-lang.org/en/2.0.0/Kernel.html#method-i-eval" rel="nofollow"><code>Kernel#eval</code></a>. For example, a simple <code>eval('__FILE__')</code> also returns <code>"(eval)"</code> because that's the default <em>filename</em>. It can be changed by passing another string but as third argument:</p>

<pre><code>eval('__FILE__', nil, 'hello.rb')  # =&gt; "hello.rb"
</code></pre>

<p>Or in your case:</p>

<pre><code>eval(DATA.read, nil, __FILE__)
</code></pre>
