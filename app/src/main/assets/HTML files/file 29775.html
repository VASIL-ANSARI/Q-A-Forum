<pre><code>LocationManager locationManager = (LocationManager)getSystemService(LOCATION_SERVICE);
Criteria criteria = new Criteria();
String provider = locationManager.getBestProvider(criteria, true);
Location myLocation = locationManager.getLastKnownLocation(provider);
</code></pre>

<p>In your above code ,</p>

<p>You have created a new object for criteria but no criteria is specified . This might have caused the problem</p>

<p>Try the following code ,</p>

<pre><code>LocationManager locationManager = (LocationManager)getSystemService(LOCATION_SERVICE);
locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, MIN_TIME_BW_UPDATES, MIN_DISTANCE_CHANGE_FOR_UPDATES, this);
if (locationManager != null) 
{
     Location location = locationManager.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);
     if (location != null) 
     {
       latitude = location.getLatitude();
       longitude = location.getLongitude();
     }
}
</code></pre>
