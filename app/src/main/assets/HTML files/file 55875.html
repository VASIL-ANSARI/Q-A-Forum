<p>First iterate through blocks getting the parent, if children exists in parent block, loop through the children.</p>

<p>There might be other better way to implement this, you can try below code:</p>

<pre><code>$blocks = array ( 
"0" =&gt; array ( 
    "cls" =&gt; "",
    "path" =&gt; array( 
        "id" =&gt; 1,
        "name" =&gt;"BLOCKA",
        ) 
    ), 
"1" =&gt; array ( 
    "cls" =&gt; "",
    "path" =&gt; array( 
        "id" =&gt; 2,
        "name" =&gt; "BLOCKB" ,
        "children" =&gt; array ( 
            "0" =&gt; array ( 
                "cls" =&gt; "",
                "path" =&gt; array( 
                    "id" =&gt; 3,
                    "name" =&gt; "CLASSB1" ,
                    "children" =&gt; array ( 
                        "0" =&gt; array ( 
                            "cls" =&gt; "",
                            "path" =&gt; array( 
                                "id" =&gt; 7,
                                "name" =&gt; "CLASSB12" ,
                                ),
                            ),
                        ), 
                    ),
                ),
            "1" =&gt; array ( 
                "cls" =&gt; "",
                "path" =&gt; array( 
                    "id" =&gt; 4,
                    "name" =&gt; "CLASSSB13" ,
                    "children" =&gt; array ( 
                        "0" =&gt; array ( 
                            "cls" =&gt; "",
                            "path" =&gt; array( 
                                "id" =&gt; 5,
                                "name" =&gt; "CLASSB4" ,
                                ),
                            ), 
                        "1" =&gt; array ( 
                            "cls" =&gt; "",
                            "path" =&gt; array( 
                                "id" =&gt; 6,
                                "name" =&gt; "CLASSB5",
                                ), 
                            ), 
                        ), 
                    ),
                ), 
            ),
        ), 
    ), 
) ;

echo "&lt;pre&gt;";

/*loop through blocks*/
foreach ($blocks as $key =&gt; $block) {
    echo $block['path']['name'].'&lt;br/&gt;'; /* echo parent*/
    if (isset($block['path']['children'])) {
        loopChildren($block['path']['children']); /* children loop*/
    }
}

/*Loop through childrens*/
function loopChildren($childrens, $prefix = '-')
{
    foreach ($childrens as $key =&gt; $child) {
        getChild($child, $prefix);
    }
}

/*Get the child and loop sub-children if exist*/
function getChild($child, $prefix='-')
{ 
    echo $prefix. $child['path']['name'].'&lt;br/&gt;'; /*echo child*/
    if (isset($child['path']['children'])) {
        $prefix .= '-';
        loopChildren($child['path']['children'], $prefix); /* sub-children loop*/
    }
}

echo "&lt;/pre&gt;";
</code></pre>

<p><strong>The output:</strong></p>

<pre><code>BLOCKA
BLOCKB
-CLASSB1
--CLASSB12
-CLASSSB13
--CLASSB4
--CLASSB5
</code></pre>
