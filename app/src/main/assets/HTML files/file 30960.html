<p><code>pow</code> and <code>log10</code> are not required to be correctly rounded; the results produced by them can and will differ between platforms, even for cases that âshould beâ exact like in your example.  In this case, OS X produces a more accurate result than Windows, which results in errors that show up only in the Windows output.</p>

<p>A <em>much</em> better solution would be to use repeated division and multiplication by 10 in integer, and not use floating-point at all (there is a very clean recursive solution similar to yours, without requiring that you compute <code>base</code>).</p>

<hr>

<p>As an aside, a mini-rant:  Itâs <em>shameful</em> that so many math libraries do not correctly handle small powers of ten and two in <code>log10</code>, <code>log2</code>, <code>exp2</code> and <code>pow</code>.  It is not hard to design these functions such that they do the âright thingâ for these cases, and it can be done without adversely affecting performance of other cases.  While it is not required by the standard, it is a simple thing to do and it helps to save inexperienced programmers from (exceptionally common) errors like this one.</p>
