<p>Try to imagine how the tests are run.</p>

<p>First run describe functions, which create test suites. 
Inside suite are functions (beforeAll/Each, after...) and tests registred - assigned to queues.</p>

<p>Suits are subsequently executed. </p>

<p>If you log all functions in test, you can see running order (<a href="http://plnkr.co/edit/kxX5TAwHOqRRMFjvE5FZ?p=preview" rel="nofollow">http://plnkr.co/edit/kxX5TAwHOqRRMFjvE5FZ?p=preview</a>)</p>

<pre><code>describe("xyz", function() {
  console.log("describe xyz - start");

  var d;
  beforeAll(function(done) {
    console.log("beforeAll");
    setTimeout(function() {
      d = 1234;
      done()
    }, 1000);
  });
  describe("some scenario", function() {
    console.log("describe some scenario - start");

    var d2;
    // d value is undefined here 
    beforeEach(function() {
      console.log("beforeEach");
      d2 = d;
    })

    it("spec1", function() {
      console.log("spec1");
      // it is waiting until beforeAll function is done        
      expect(d).toBe(1234);
    });
    it("spec2", function() {
      console.log("spec2");

      expect(d2).toBe(1234);
    });

    console.log("describe some scenario - end");
  });

  console.log("describe xyz - end");
});
</code></pre>

<p>-</p>

<pre><code>describe xyz - start
describe some scenario - start
describe some scenario - end
describe xyz - end
beforeAll
beforeEach
spec1
beforeEach
spec2
</code></pre>

<p>This means all your executable code should be inside functions before*/after* or it.</p>
