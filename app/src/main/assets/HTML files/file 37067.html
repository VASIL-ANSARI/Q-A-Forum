<p>The main problem with your attempted solution is that, because you assign to <code>gflag</code> within <code>doWork</code>, it's a local variable, not a global. To fix that, you need to add <code>global gflag</code> at the start of the function.</p>

<p>But even if you fixed that, it wouldn't solve your problem. When you write <code>gflag=1</code>, that doesn't update the shared value stored in <code>gflag</code>, it just rebinds the name <code>gflag</code> to the local int <code>1</code>. You want to use <code>gflag.value</code>. (Note that once you fix this, the previous problem goes awayâ¦ but it's still often better to use the <code>global</code> declaration for human readers, even when the compiler doesn't need it.)</p>

<p>And finally, <code>doWork</code> doesn't actually check the flag until after it's finished doing all the work, so the flag doesn't help you to exit the child processes earlier. You probably want to put that <code>if</code> statement inside the <code>for</code> loop, so it checks the flag once per element, instead of only once at the end.</p>
