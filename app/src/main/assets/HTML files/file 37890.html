<p>This kind of apps run a service in background and checks top activity in a loop continuously (or with short delays like 100ms). If top running activity's package is not same with let's say lockerapp, it launches it own pin activity.</p>

<pre><code>ActivityManager activityManager = (ActivityManager) this.getSystemService(ACTIVITY_SERVICE);
List&lt; ActivityManager.RunningTaskInfo &gt; taskInfo = activityManager.getRunningTasks(1);
ComponentName componentInfo = taskInfo.get(0).topActivity;
</code></pre>
