<p>Wow am I rusty on straight C, but here goes. A loop similar to your existing code finds the location of the last slash, by using strstr instead of strtok. From there it's just a matter of copying the portion of the string up to that slash. You could also change dirPath in place by overwriting the last slash with a null terminator, but that could lead to memory leaks (?) depending what else your code does...</p>

<pre><code>// find last slash
char *position = strstr(dirPath, "/");
while (strstr(position, "/") != NULL)
{
    position = strstr(position, "/");
}

// now "position" points at the last slash character
if(position) {
    char *answer = malloc(position - dirPath); // difference in POINTERS
    strncpy(answer, dirPath, position - dirPath);
    answer[position - dirPath] = `\0`; // null-terminate the result
}
</code></pre>
