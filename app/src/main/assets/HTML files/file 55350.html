<p>Problem is that your javascript is initializing select2 only once, on the items that have been rendered (that is why you don't have problems with the first select) but after you add another one, <code>select2()</code> doesn't fire and is not initialized on that item.</p>

<p>To fix this, add a callback after `cocoon:after-insert' and fire the select2 event on the added row. </p>

<p>So your javascript would be something like </p>

<pre><code>function init_select2(selector){
  $(selector).select2({
    placeholder: "Select Teacher",
    allowClear: true
  });
};

init_select2(".teacher")

$("form").on("cocoon:after-insert", function(_, row){
  field = $(row).find(".teacher")
  init_select2(field);
});
</code></pre>

<p>I have not tested this code, but I hope you get the Idea.</p>
