<p>The problem is that you are inserting one past where you need to insert.  Which means that if the node you are inserting has the largest value, you will get to the end where <code>tmp</code> is NULL, and then you will try to set <code>tmp-&gt;next</code> to <code>q</code>.  You might want to use a <code>prev</code> pointer that is one element behind <code>tmp</code>, so you can insert at <code>prev</code> instead.</p>
