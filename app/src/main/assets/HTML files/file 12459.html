<p>You are calling <code>workspace-&gt;windowList()</code> multiple times in the query which would be returning different containers and thus the iterator is not from the same collection.</p>

<p>Store the results of <code>workspace-&gt;windowList()</code> in a local variable and iterate over that.</p>

<p><code>QWigetList winList = workspace-&gt;windowList()
for(QWidgetList::iterator it = winList.begin(); it != winList.end(); ++it)</code></p>

<p>The reason this occurs is that the <code>windowList()</code> returns a <code>QWidgetList</code> by value not by reference. See <a href="http://stackoverflow.com/questions/410593/pass-by-reference-value-in-c">this question</a> for a discussion on what is happening.</p>
