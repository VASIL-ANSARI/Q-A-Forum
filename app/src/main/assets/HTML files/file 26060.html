<p>For basic solution you can use code like this:</p>

<pre><code>try {
while ($worker-&gt;work() || GEARMAN_TIMEOUT == $worker-&gt;returnCode()) {
    if (GEARMAN_TIMEOUT == $worker-&gt;returnCode()) {
        echo "Timeout...\n";
    } elseif (GEARMAN_SUCCESS != $worker-&gt;returnCode()) {
        echo "Fail...\n";
        break;
    }
}
} catch (GearmanException $e) {
  echo "Exception caused!\n";
}
</code></pre>

<p>But you can not leave worker alive, because it needs to connect. I suggest to use Supervisord for automatically restart workers.</p>
