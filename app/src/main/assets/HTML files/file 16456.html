<p>You get a crash because you are passing <code>strtol</code> an uninitialized pointer, and <code>strtol</code> dereferences it. You do not get a crash the first time by pure luck.</p>

<p>This will not crash:</p>

<pre><code>main() {
    char linea[]="0x123456", *ap;
    int num;
    num = strtol(linea, &amp;ap, 0);
    printf("%d\n%s", num, ap);
    int k;
}
</code></pre>
