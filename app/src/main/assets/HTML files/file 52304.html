<p><code>Map&lt;String, String&gt; map = null</code> </p>

<p>should be replaced with </p>

<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;(); 
</code></pre>

<p>You are not creating a new map object. Rather you are adding the same map object everytime. although you are adding new values to the map for each cursor position but the object is only one. Hence your loop is going only one time.</p>
