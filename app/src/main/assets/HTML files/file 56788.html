<p>Does something like below solve your purpose?</p>

<pre><code>template&lt;typename T&gt;
T maskbits(T oldID)
{
    const size_t SZ = sizeof oldID * CHAR_BIT;
    const T mask = (static_cast&lt;T&gt;((1ULL &lt;&lt; (SZ / 2)) - 1ULL)) &lt;&lt; (SZ / 2);
    return oldID &amp; mask;
}
</code></pre>
