<p>Yes, it violates ODR. It uses different token sequences, I don't know what's so hard to understand here.</p>

<p>Verifying ODR across translation units is hard (impossible) with traditional compilation techniques. The standard says that "No diagnostics required", so you just get undefined behavior.</p>

<p>You may get even more subtle errors when you use e.g. two different classes defined in unrelated translation units but with the same name. If there is a virtual table it may clash without any error messages (it happened to my friend). So <em>always</em> use a anonymous namespaces for local functions and classes.</p>
