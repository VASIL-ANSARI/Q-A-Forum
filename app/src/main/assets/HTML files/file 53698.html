<p>This could be achieved easily using <a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html" rel="nofollow">stream API</a> :</p>

<pre><code>lists.stream()
    .map(list -&gt; list.stream().map(map::get).collect(Collectors.toCollection(ArrayList::new))
    .collect(Collectors.toList());
</code></pre>

<p>Assume that <code>lists</code> here is your <code>List&lt;ArrayList&lt;String&gt;&gt;</code> and that <code>map</code> is your <code>HashMap&lt;String, Double&gt;</code>, this would return the <code>List&lt;ArrayList&lt;Double&gt;&gt;</code> that you expect.</p>

<p>I'd like to add that I have no clue why you want an <code>ArrayList</code> in your list, but if there is no specific reason use <code>Collectors.toList()</code> instead of <code>Collectors.toCollection(ArrayList::new)</code>.</p>
