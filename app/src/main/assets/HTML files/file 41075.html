<p>Your problem is that you substring before you send the data to the ordinal scale, so it's creating the same ordinal entries for your shortened names. It's an easy fix: </p>

<pre><code>      xScale.domain(data.map(function(d) { return d[0];} ))

      xAxis.tickFormat(function(d) {return d.substring(0,6);})
</code></pre>

<p>You create the scale based on the actual names, you format the axis labels using your shortened strings.</p>
