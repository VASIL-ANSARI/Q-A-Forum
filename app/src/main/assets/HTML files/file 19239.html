<p>Most drivers won't recognize a <code>?</code> as a placeholder when it is inside a string literal. To get around this, you have a couple options. First of all, you could do the string work in Ruby:</p>

<pre><code>sql = 'select user, name_xml from employee where name_xml like ?'
#...
sql_name.execute("&lt;name&gt;#{Varname}&lt;/name&gt;")
</code></pre>

<p>Or you could paste the pieces together in SQL:</p>

<pre><code>sql = %q{select user, name_xml from employee where name_xml like '&lt;name&gt;' || ? || '&lt;/name&gt;'}
#...
sql_name.execute(Varname)
</code></pre>

<p>The <code>||</code> should concatenate strings in most databases but some will want <code>+</code> or <code>concat(...)</code> instead.</p>

<p>Note the switch to <code>%q{...}</code> for quoting in the second one, that acts like a single quoted (Ruby) string but you don't have to worry about escaping the embedded single quotes that SQL wants to use for its string literals.</p>
