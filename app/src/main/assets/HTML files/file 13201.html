<p>Fundamentally, what you need to do is replace all the places <code>getElementById</code> is called to get a single element, and use <code>getElementsByClassName</code> to get a <em>list</em> of elements. Then loop through the list doing the things you want to do. Similarly, parts of the code that need to work with one specific element, such as your <code>toggle</code> function, need to accept an element object rather than an ID string.</p>

<p>Note that <code>getElementsByClassName</code> is supported by all major browsers except Internet Explorer 8 and earlier; if you need to support IE8 and earlier, you need to supply your own implementation (if you search for "IE getElementsByClassName" you'll find a number of implementations to choose from).</p>

<p>One particularly useful thing to know which isn't necessarily obvious at the outset is that when you bind an event handler correctly (in code through <code>addEventListener</code> or [on IE] <code>attachEvent</code>; not in an <code>onclick</code> attribute in the markup), during the event handler call, <code>this</code> refers to the element on which the handler was attached, so you can interact directly with it (for instance, <code>this.style.color = "green";</code> to turn its text green).</p>

<p>There's nothing for it but to put in the time learning the necessary APIs and learning the language.</p>

<p>Some references:</p>

<ul>
<li><a href="http://www.w3.org/TR/DOM-Level-2-Core/" rel="nofollow">DOM2 Core</a> - Almost universally supported</li>
<li><a href="http://www.w3.org/TR/DOM-Level-2-HTML/" rel="nofollow">DOM2 HTML stuff</a> - Almost universally supported</li>
<li><a href="http://www.w3.org/TR/DOM-Level-3-Core/" rel="nofollow">DOM3 Core</a> - Mostly supported, older IE versions are problematic</li>
<li><a href="http://www.w3.org/TR/html5/common-dom-interfaces.html#common-dom-interfaces" rel="nofollow">HTML5 Common DOM Bindings</a></li>
<li>The ECMAScript (JavaScript) specification - <a href="http://www.ecma-international.org/publications/standards/Ecma-262.htm" rel="nofollow">Official PDF</a> | <a href="http://es5.github.com" rel="nofollow">Handy HTML version</a> - But note that it's not necessarily all that easy to read.</li>
<li><a href="https://developer.mozilla.org/en/JavaScript" rel="nofollow">Mozilla's JavaScript reference pages</a> - Much easier to read than the spec</li>
<li><a href="http://javascript.crockford.com" rel="nofollow">Crockford on JavaScript</a> - Wait until you know the language a bit before trying to read Crockford, but then <strong>do</strong> read Crockford. There's a lot of good information in there, even if you may end up disagreeing with some of his conclusions (I certainly do, but most of them are spot on).</li>
<li><em>JavaScript: The Definitive Guide</em> by David Flanagan (and old-fashioned paper book)</li>
<li>(Oh what the heck) I also write up various snippets of JavaScript and DOM related stuff in my <a href="http://blog.niftysnippets.org" rel="nofollow">anemic little blog</a>. If you're just learning JavaScript, start with the oldest entries like <a href="http://blog.niftysnippets.org/2008/02/javascripts-curiously-powerful-or.html" rel="nofollow"><em>JavaScript's Curiously-Powerful OR Operator (<code>||</code>)</em></a> and <a href="http://blog.niftysnippets.org/2008/02/closures-are-not-complicated.html" rel="nofollow"><em>Closures are not complicated</em></a> and work your way forward.</li>
</ul>

<p>If you're unsure whether something is supported in the browser(s) you want to target, you'll have to test it and/or use use <a href="http://caniuse.com/" rel="nofollow">http://caniuse.com/</a> or similar.</p>

<hr>

<p>Above I've linked to the various DOM specifications which tell you how to talk directly to the DOM of the browser. The DOM is great, and powerful, but not necessarily all that <em>convenient</em> to use. Also, as I've mentioned, support for various parts of it varies by browser, and there are even bugs in some browsers (for instance, <a href="http://blog.niftysnippets.org/2010/03/by-any-other-name-would-smell-as-sweet.html" rel="nofollow">IE7 and earlier get <code>getElementById</code> wrong</a>). You can either discover and work around all of those differences and bugs yourself, or you can leverage the work that others have done by using a good JavaScript library like <a href="http://jquery.com" rel="nofollow">jQuery</a>, <a href="http://prototypejs.org" rel="nofollow">Prototype</a>, <a href="http://developer.yahoo.com/yui/" rel="nofollow">YUI</a>, <a href="http://code.google.com/closure/library" rel="nofollow">Closure</a>, or <a href="http://en.wikipedia.org/wiki/List_of_JavaScript_libraries" rel="nofollow">any of several others</a>. If you do that, it's still useful to have an understanding of the DOM and so I wouldn't skip looking through the references above, but much of the time you'll be using that library's API instead.</p>
