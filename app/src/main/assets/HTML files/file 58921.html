<p><code>class &lt;&lt; matz; self; end</code> is equivalent to </p>

<pre><code>class &lt;&lt; mats
  self
end
</code></pre>

<p><code>class &lt;&lt; matz; end</code> opens the singleton class (Ruby official name of metaclass). It is also an expression that returns the return value of the last expression that is evaluated inside it, in this case, <code>self</code>.</p>

<p>I think you are familiar with <code>self</code> since you are playing with metaprogramming. The <code>self</code> refers to the class itself when it's in the scope of a class, in your code, it refers to the singleton class.</p>

<p>P.S. starts from Ruby 1.9.2, there's no need to use this shovel syntax to grab a singleton class. Just <code>obj.singleton_class</code>.</p>
