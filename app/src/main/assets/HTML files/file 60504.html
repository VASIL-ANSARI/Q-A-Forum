<p>Probably the easiest way is to use a <a href="https://en.wikipedia.org/wiki/Memory-mapped_file" rel="nofollow">memory-mapped file</a>. This lets you open a file and map it into virtual memory, then you can treat the file on disk as if it is in memory, and the OS will load pages as required.</p>

<p>So in your case, open your file and use <code>mmap()</code> to map it into memory. Then you can pass the pointer into your <code>crypto_hash()</code> function and let the OS do the work.</p>

<p>Note that there are caveats to do with how large the file is wrt virtual memory.</p>

<p>For various platforms:</p>

<ul>
<li><a href="http://www.boost.org/doc/libs/1_62_0/libs/iostreams/doc/classes/mapped_file.html" rel="nofollow">Boost Interprocess</a></li>
<li><a href="https://developer.apple.com/library/prerelease/content/documentation/FileManagement/Conceptual/FileSystemAdvancedPT/MappingFilesIntoMemory/MappingFilesIntoMemory.html#//apple_ref/doc/uid/TP40010765-CH2-SW1" rel="nofollow">macOS and <code>mmap</code></a></li>
<li><a href="https://www.safaribooksonline.com/library/view/linux-system-programming/0596009585/ch04s03.html" rel="nofollow">Linux and <code>mmap</code></a></li>
<li><a href="https://msdn.microsoft.com/en-us/library/dd997372(v=vs.110).aspx" rel="nofollow">Windows .NET MemoryMappedFile</a></li>
</ul>
