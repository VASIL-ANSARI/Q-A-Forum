<p>Turning on the "Optimize code" option in the project's Build tab does <strong>two</strong> things.  It passes the /optimize+ option to the C# compiler, it performs the minor MSIL optimizations you already know about.  But it <em>also</em> gets the C# compiler to emit the [DebuggableAttribute] attribute in the metadata.  And you'll get <a href="https://msdn.microsoft.com/en-us/library/system.diagnostics.debuggableattribute.isjitoptimizerdisabled%28v=vs.110%29.aspx?f=255&amp;MSPPError=-2147217396" rel="nofollow">DebuggableAttribute.IsJITOptimizerDisabled</a> set to <em>false</em>.</p>

<p>This is used by the jitter to decide if it is going to enable the optimizer.  So, yes, you've now got it enabled and getting a 3x speedup is not unusual.</p>

<p>The debugger plays a role too, it can force the optimizer off by itself.  The relevant setting is Tools + Options, Debugging, General, "Suppress JIT optimization" checkbox.  Normally turned on so you never get optimized code when you debug.  Fairly important, optimized code is pretty hard to debug.  You want that option off when you want to look at the optimized machine code.</p>

<p>Do keep in mind that you are doing something wrong.  The default Release configuration for a .NET project always already has the optimize option checked.  So it isn't very logical that you had a reason to turn it on.  Only ever profile the Release build of a .NET project.</p>
