<p>You cannot easily do what you want.  You <em>can</em> do it using triggers, but that is a rather ugly solution.  You can get close to what you want by using a single identity primary key and then calculating the number you want on output:</p>

<pre><code>CREATE TABLE Workspaces (
    WorkspacesId int not null identity(1, 1) primary key,
    AreaID INT,
    Description VARCHAR(300) NOT NULL,
    CONSTRAINT ck_a_areaid REFERENCES Areas(AreaID) ON DELETE CASCADE ON UPDATE NO ACTION,
);
</code></pre>

<p>Then when you query (or in a view):</p>

<pre><code>select w.*, row_number() over (partition by areaId
                               order by WorkspaceId) as SurfaceId
from Workspaces
</code></pre>

<p>Note:  This does not check the maximum value of <code>surfaceId</code>.  If you really need to implement this logic, then you will need to use triggers.</p>
