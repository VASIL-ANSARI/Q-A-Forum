<p>For this purpose I always use this method and works just fine : </p>

<pre><code>private void ExportGridToXML()  
    {  

        SaveFileDialog SaveXMLFileDialog = new SaveFileDialog();  
        SaveXMLFileDialog.Filter = "Xml files (*.xml)|*.xml";  
        SaveXMLFileDialog.FilterIndex = 2;  
        SaveXMLFileDialog.RestoreDirectory = true;  
        SaveXMLFileDialog.InitialDirectory = "C:\\";  
        SaveXMLFileDialog.FileName = "myXml";  
        SaveXMLFileDialog.Title = "XML Export";  
        if (SaveXMLFileDialog.ShowDialog() == DialogResult.OK)  
        {  

            DataSet ds = new DataSet();  
            DataTable dtxml = (DataTable)ViewState["Data"];  
            ds.Tables.Add(dtxml);  
            ds.WriteXml(File.OpenWrite(SaveXMLFileDialog.FileName));  

        }  
        XMLFileThread.Abort();  

    }  
</code></pre>
