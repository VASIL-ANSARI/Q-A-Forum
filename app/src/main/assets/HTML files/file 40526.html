<p>If <code>executeUpdate()</code> returns <code>&lt;= 0</code> then nothing changed in the database, therefore there's no need to rollback the transaction. Also, if a problem occurred while inserting the entry (eg. a constraint violation, etc) then the <code>executeUpdate()</code> throws a SQLException. I would change you code to:</p>

<pre><code>try {
   connection.setAutoCommit(false);
   PreparedStatement ps1 = ...
   ...
   ps1.executeUpdate();
   for (ReservationDetails resdet : resdetlist) {
       PreparedStatement ps2 = ...
       ...
       ps2.executeUpdate();
   }
   connection.commit();
} catch (SQLException e) {
   connection.rollback();
}
</code></pre>

<p>Also, don't forget to call <code>close()</code> on the <code>PreparedStatements</code> after you use them, and on the <code>connection</code> object at the end of the method.</p>
