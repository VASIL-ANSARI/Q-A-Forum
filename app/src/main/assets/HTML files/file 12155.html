<p>There is no straight forward way of counting the number of lines in a field from the inside of mysql.</p>

<p>Instead I recommend you to append a new column to your table where you store the number of lines. Calculate the LOC/SLOC by using PHP (or whatever backend language is responsible for inserting data) and update it when neccessary.</p>

<hr>

<p>To count the number of lines (LOC) in a string you can use <a href="http://www.php.net/manual/en/function.substr-count.php" rel="nofollow">substr_count</a> which will count the number of occurrences of the second parameter string inside of the first one. </p>

<p>In the below example we will count how many times <code>\n</code> is present inside <code>$data</code>.</p>

<pre><code>substr_count ($data, "\n") + 1; // since one \n creates two lines
</code></pre>

<hr>

<p>To count the number of SLOC you can use <a href="http://se.php.net/manual/en/function.preg-split.php" rel="nofollow">preg_split</a> to filter off all empty lines (lines of length 0 or only containing white spaces)</p>

<pre><code>count (preg_split ("/\n\s*/", $data)) 
</code></pre>
