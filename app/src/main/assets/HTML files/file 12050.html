<p>You could use <a href="http://www.secdev.org/projects/scapy/" rel="nofollow">Scapy</a> for that:</p>

<pre><code>from scapy.all import *

recs = rdpcap("yourpcap.pcap")

# extract vlan id from first record
for rec in recs:
    dot1q = rec.get_layer(Dot1Q)
    if dot1q is None:
        # not vlan here, skip.
        continue
    print 'Vlanid found:', dot1q.vlan, 'on packet', rec
</code></pre>

<p>Not tested, but could work. To learn scappy, best is to launch it, and play with auto completion, and read tutorials :)</p>
