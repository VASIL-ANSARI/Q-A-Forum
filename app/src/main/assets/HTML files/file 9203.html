<p>It sounds like your problem is not in the <code>RemoveSpecialChars</code> method, but rather in the return value of <code>SelectSingleNode</code> (which may be <code>null</code>) or the <code>Attributes["keypress"]</code> attribute (which may also be <code>null</code>).</p>

<p>Any of the above will result in a <code>NullReferenceException</code>. Here's rewritten code to guard against the first, which is probably causing the issue:</p>

<pre><code>var node1 = doc.SelectSingleNode("/Main/Answer[@answerid='1']");
var node2 = doc.SelectSingleNode("/Main/Answer[@answerid='2']");

Answer1 = node1 == null ? null : RemoveSpecialChars(node1.Attributes["keypress"].Value);
Answer2 = node2 == null ? null : RemoveSpecialChars(node2.Attributes["keypress"].Value);
</code></pre>

<p><strong>Update</strong>:</p>

<p>To guard against a null <code>keypress</code> attribute, you would do </p>

<pre><code>Answer1 = node1 == null || node1.Attributes["keypress"] == null
            ? null 
            : RemoveSpecialChars(node1.Attributes["keypress"].Value);
</code></pre>

<p>and the same for <code>Answer2</code>.</p>
