<p>I have resolved this issue.</p>

<p>The problem was with DataMapper not being required and configured in my app.rb file. I ended up with:</p>

<pre><code>require 'data_mapper'
DataMapper.setup(:default, 'postgres://database-uri')

post '/getConnection' do
content_type :json

#session and tokens
session_id = 123 
agent_token = 456 
user_token = 789

#Create new room based on session and store
Room.create(
  :sessionID      =&gt; session_id,
  :agentToken       =&gt; agent_token,
  :userToken =&gt; user_token
)

#Json
{:con =&gt;[:session =&gt;session_id,:token =&gt;user_token]}.to_json
end
</code></pre>
